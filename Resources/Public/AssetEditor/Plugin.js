!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=165)}([function(e,t,n){"use strict";var r,o=n(40),a=(r=o)&&r.__esModule?r:{default:r};e.exports=(0,a.default)("vendor")().React},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return cs})),n.d(t,"b",(function(){return us})),n.d(t,"c",(function(){return fs})),n.d(t,"d",(function(){return ds})),n.d(t,"e",(function(){return ps})),n.d(t,"f",(function(){return ms})),n.d(t,"g",(function(){return hs})),n.d(t,"h",(function(){return vs}));var r=n(0),o=n.n(r),a=n(71),i=n.n(a);var s=function(e){const t=new Error(e);if(void 0===t.stack)try{throw t}catch(e){}return t};var l=function(e){return!!e&&"function"==typeof e.then};var c=function(e,t){if(null!=e)return e;throw s(null!=t?t:"Got unexpected null or undefined")};function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d{getValue(){throw s("BaseLoadable")}toPromise(){throw s("BaseLoadable")}valueMaybe(){throw s("BaseLoadable")}valueOrThrow(){throw s(`Loadable expected value, but in "${this.state}" state`)}promiseMaybe(){throw s("BaseLoadable")}promiseOrThrow(){throw s(`Loadable expected promise, but in "${this.state}" state`)}errorMaybe(){throw s("BaseLoadable")}errorOrThrow(){throw s(`Loadable expected error, but in "${this.state}" state`)}is(e){return e.state===this.state&&e.contents===this.contents}map(e){throw s("BaseLoadable")}}class f extends d{constructor(e){super(),u(this,"state","hasValue"),u(this,"contents",void 0),this.contents=e}getValue(){return this.contents}toPromise(){return Promise.resolve(this.contents)}valueMaybe(){return this.contents}valueOrThrow(){return this.contents}promiseMaybe(){}errorMaybe(){}map(e){try{const t=e(this.contents);return l(t)?b(t):_(t)?t:m(t)}catch(t){return l(t)?b(t.next(()=>this.map(e))):v(t)}}}class p extends d{constructor(e){super(),u(this,"state","hasError"),u(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return Promise.reject(this.contents)}valueMaybe(){}promiseMaybe(){}errorMaybe(){return this.contents}errorOrThrow(){return this.contents}map(e){return this}}class h extends d{constructor(e){super(),u(this,"state","loading"),u(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return this.contents}valueMaybe(){}promiseMaybe(){return this.contents}promiseOrThrow(){return this.contents}errorMaybe(){}map(e){return b(this.contents.then(t=>{const n=e(t);if(_(n)){const e=n;switch(e.state){case"hasValue":return e.contents;case"hasError":throw e.contents;case"loading":return e.contents}}return n}).catch(t=>{if(l(t))return t.then(()=>this.map(e).contents);throw t}))}}function m(e){return Object.freeze(new f(e))}function v(e){return Object.freeze(new p(e))}function b(e){return Object.freeze(new h(e))}function y(){return Object.freeze(new h(new Promise(()=>{})))}function g(e){const t=function(e){return e.every(e=>"hasValue"===e.state)?m(e.map(e=>e.contents)):e.some(e=>"hasError"===e.state)?v(c(e.find(e=>"hasError"===e.state),"Invalid loadable passed to loadableAll").contents):b(Promise.all(e.map(e=>e.contents)))}((Array.isArray(e)?e:Object.getOwnPropertyNames(e).map(t=>e[t])).map(e=>_(e)?e:l(e)?b(e):m(e)));return Array.isArray(e)?t:t.map(t=>Object.getOwnPropertyNames(e).reduce((e,n,r)=>({...e,[n]:t[r]}),{}))}function _(e){return e instanceof d}const O={of:e=>l(e)?b(e):_(e)?e:m(e),error:e=>v(e),loading:()=>y(),all:g,isLoadable:_};var S={loadableWithValue:m,loadableWithError:v,loadableWithPromise:b,loadableLoading:y,loadableAll:g,isLoadable:_,RecoilLoadable:O},E=S.loadableWithValue,w=S.loadableWithError,C=S.loadableWithPromise,T=S.loadableLoading,A=S.loadableAll,j=S.isLoadable,k=S.RecoilLoadable,I=Object.freeze({__proto__:null,loadableWithValue:E,loadableWithError:w,loadableWithPromise:C,loadableLoading:T,loadableAll:A,isLoadable:j,RecoilLoadable:k});const N={RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED:!0,RECOIL_GKS_ENABLED:new Set(["recoil_hamt_2020","recoil_sync_external_store","recoil_suppress_rerender_in_callback","recoil_memory_managament_2020"])};var x;void 0!==e&&null!=(null===(x=e)||void 0===x?void 0:x.env)&&(function(t,n){var r,o;const a=null===(r=e.env[t])||void 0===r||null===(o=r.toLowerCase())||void 0===o?void 0:o.trim();if(null!=a&&""!==a){if(!["true","false"].includes(a))throw s(`process.env.${t} value must be 'true', 'false', or empty: ${a}`);n("true"===a)}}("RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED",e=>{N.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED=e}),function(t,n){var r;const o=null===(r=e.env[t])||void 0===r?void 0:r.trim();null!=o&&""!==o&&n(o.split(/\s*,\s*|\s+/))}("RECOIL_GKS_ENABLED",e=>{e.forEach(e=>{N.RECOIL_GKS_ENABLED.add(e)})}));var R=N;function D(e){return R.RECOIL_GKS_ENABLED.has(e)}D.setPass=e=>{R.RECOIL_GKS_ENABLED.add(e)},D.setFail=e=>{R.RECOIL_GKS_ENABLED.delete(e)},D.clear=()=>{R.RECOIL_GKS_ENABLED.clear()};var M=D;var L,P,F,B=function(e,t,{error:n}={}){return null};const U=null!==(L=o.a.createMutableSource)&&void 0!==L?L:o.a.unstable_createMutableSource,V=null!==(P=o.a.useMutableSource)&&void 0!==P?P:o.a.unstable_useMutableSource,q=null!==(F=o.a.useSyncExternalStore)&&void 0!==F?F:o.a.unstable_useSyncExternalStore;let z=!1;var Q={createMutableSource:U,useMutableSource:V,useSyncExternalStore:q,currentRendererSupportsUseSyncExternalStore:function(){var e;const{ReactCurrentDispatcher:t,ReactCurrentOwner:n}=o.a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,r=null!=(null!==(e=null==t?void 0:t.current)&&void 0!==e?e:n.currentDispatcher).useSyncExternalStore;return!q||r||z||(z=!0,B("A React renderer without React 18+ API support is being used with React 18+.")),r},reactMode:function(){return M("recoil_transition_support")?{mode:"TRANSITION_SUPPORT",early:!0,concurrent:!0}:M("recoil_sync_external_store")&&null!=q?{mode:"SYNC_EXTERNAL_STORE",early:!0,concurrent:!1}:M("recoil_mutable_source")&&null!=V&&"undefined"!=typeof window&&!window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE?M("recoil_suppress_rerender_in_callback")?{mode:"MUTABLE_SOURCE",early:!0,concurrent:!0}:{mode:"MUTABLE_SOURCE",early:!1,concurrent:!1}:M("recoil_suppress_rerender_in_callback")?{mode:"LEGACY",early:!0,concurrent:!1}:{mode:"LEGACY",early:!1,concurrent:!1}},isFastRefreshEnabled:function(){return!1}};class ${constructor(e){u(this,"key",void 0),this.key=e}toJSON(){return{key:this.key}}}class W extends ${}class H extends ${}var K={AbstractRecoilValue:$,RecoilState:W,RecoilValueReadOnly:H,isRecoilValue:function(e){return e instanceof W||e instanceof H}},G=K.AbstractRecoilValue,Y=K.RecoilState,X=K.RecoilValueReadOnly,J=K.isRecoilValue,Z=Object.freeze({__proto__:null,AbstractRecoilValue:G,RecoilState:Y,RecoilValueReadOnly:X,isRecoilValue:J});var ee=function(e,...t){0};var te=function(e,t){return function*(){let n=0;for(const r of e)yield t(r,n++)}()};const{isFastRefreshEnabled:ne}=Q;class re{}const oe=new re,ae=new Map,ie=new Map;class se extends Error{}const le=new Map;function ce(e){return le.get(e)}var ue={nodes:ae,recoilValues:ie,registerNode:function(e){R.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED&&function(e){if(ae.has(e)){const t=`Duplicate atom key "${e}". This is a FATAL ERROR in\n      production. But it is safe to ignore this warning if it occurred because of\n      hot module replacement.`;console.warn(t)}}(e.key),ae.set(e.key,e);const t=null==e.set?new Z.RecoilValueReadOnly(e.key):new Z.RecoilState(e.key);return ie.set(e.key,t),t},getNode:function(e){const t=ae.get(e);if(null==t)throw new se(`Missing definition for RecoilValue: "${e}""`);return t},getNodeMaybe:function(e){return ae.get(e)},deleteNodeConfigIfPossible:function(e){var t;if(!M("recoil_memory_managament_2020"))return;const n=ae.get(e);var r;null!=n&&null!==(t=n.shouldDeleteConfigOnRelease)&&void 0!==t&&t.call(n)&&(ae.delete(e),null===(r=ce(e))||void 0===r||r(),le.delete(e))},setConfigDeletionHandler:function(e,t){M("recoil_memory_managament_2020")&&(void 0===t?le.delete(e):le.set(e,t))},getConfigDeletionHandler:ce,recoilValuesForKeys:function(e){return te(e,e=>c(ie.get(e)))},NodeMissingError:se,DefaultValue:re,DEFAULT_VALUE:oe};var de={enqueueExecution:function(e,t){t()}};var fe=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n={},r=Math.pow(2,5),o=r-1,a=r/2,i=r/4,s={},l=function(e){return function(){return e}},c=n.hash=function(e){var n=void 0===e?"undefined":t(e);if("number"===n)return e;"string"!==n&&(e+="");for(var r=0,o=0,a=e.length;o<a;++o){r=(r<<5)-r+e.charCodeAt(o)|0}return r},u=function(e,t){return t>>>e&o},d=function(e){return 1<<e},f=function(e,t){return n=e&t-1,n=(n=(858993459&(n-=n>>1&1431655765))+(n>>2&858993459))+(n>>4)&252645135,n+=n>>8,127&(n+=n>>16);var n},p=function(e,t,n,r){var o=r;if(!e){var a=r.length;o=new Array(a);for(var i=0;i<a;++i)o[i]=r[i]}return o[t]=n,o},h=function(e,t,n){var r=n.length-1,o=0,a=0,i=n;if(e)o=a=t;else for(i=new Array(r);o<t;)i[a++]=n[o++];for(++o;o<=r;)i[a++]=n[o++];return e&&(i.length=r),i},m={__hamt_isEmpty:!0},v=function(e){return e===m||e&&e.__hamt_isEmpty},b=function(e,t,n,r){return{type:1,edit:e,hash:t,key:n,value:r,_modify:E}},y=function(e,t,n){return{type:2,edit:e,hash:t,children:n,_modify:w}},g=function(e,t,n){return{type:3,edit:e,mask:t,children:n,_modify:C}},_=function(e,t,n){return{type:4,edit:e,size:t,children:n,_modify:T}},O=function e(t,n,r,o,a,i){if(r===a)return y(t,r,[i,o]);var s=u(n,r),l=u(n,a);return g(t,d(s)|d(l),s===l?[e(t,n+5,r,o,a,i)]:s<l?[o,i]:[i,o])},S=function(e,t){return e===t.edit},E=function(e,t,n,r,o,a,i){if(t(a,this.key)){var l=r(this.value);return l===this.value?this:l===s?(--i.value,m):S(e,this)?(this.value=l,this):b(e,o,a,l)}var c=r();return c===s?this:(++i.value,O(e,n,this.hash,this,o,b(e,o,a,c)))},w=function(e,t,n,r,o,a,i){if(o===this.hash){var l=function(e,t,n,r,o,a,i,l){for(var c=o.length,u=0;u<c;++u){var d=o[u];if(n(i,d.key)){var f=d.value,m=a(f);return m===f?o:m===s?(--l.value,h(e,u,o)):p(e,u,b(t,r,i,m),o)}}var v=a();return v===s?o:(++l.value,p(e,c,b(t,r,i,v),o))}(S(e,this),e,t,this.hash,this.children,r,a,i);return l===this.children?this:l.length>1?y(e,this.hash,l):l[0]}var c=r();return c===s?this:(++i.value,O(e,n,this.hash,this,o,b(e,o,a,c)))},C=function(e,t,n,r,o,i,s){var l=this.mask,c=this.children,b=u(n,o),y=d(b),O=f(l,y),E=l&y,w=E?c[O]:m,C=w._modify(e,t,n+5,r,o,i,s);if(w===C)return this;var T,A=S(e,this),j=l,k=void 0;if(E&&v(C)){if(!(j&=~y))return m;if(c.length<=2&&((T=c[1^O])===m||1===T.type||2===T.type))return c[1^O];k=h(A,O,c)}else if(E||v(C))k=p(A,O,C,c);else{if(c.length>=a)return function(e,t,n,r,o){for(var a=[],i=r,s=0,l=0;i;++l)1&i&&(a[l]=o[s++]),i>>>=1;return a[t]=n,_(e,s+1,a)}(e,b,C,l,c);j|=y,k=function(e,t,n,r){var o=r.length;if(e){for(var a=o;a>=t;)r[a--]=r[a];return r[t]=n,r}for(var i=0,s=0,l=new Array(o+1);i<t;)l[s++]=r[i++];for(l[t]=n;i<o;)l[++s]=r[i++];return l}(A,O,C,c)}return A?(this.mask=j,this.children=k,this):g(e,j,k)},T=function(e,t,n,r,o,a,s){var l=this.size,c=this.children,d=u(n,o),f=c[d],h=(f||m)._modify(e,t,n+5,r,o,a,s);if(f===h)return this;var b=S(e,this),y=void 0;if(v(f)&&!v(h))++l,y=p(b,d,h,c);else if(!v(f)&&v(h)){if(--l<=i)return function(e,t,n,r){for(var o=new Array(t-1),a=0,i=0,s=0,l=r.length;s<l;++s)if(s!==n){var c=r[s];c&&!v(c)&&(o[a++]=c,i|=1<<s)}return g(e,i,o)}(e,l,d,c);y=p(b,d,m,c)}else y=p(b,d,h,c);return b?(this.size=l,this.children=y,this):_(e,l,y)};function A(e,t,n,r,o){this._editable=e,this._edit=t,this._config=n,this._root=r,this._size=o}m._modify=function(e,t,n,r,o,a,i){var l=r();return l===s?m:(++i.value,b(e,o,a,l))},A.prototype.setTree=function(e,t){return this._editable?(this._root=e,this._size=t,this):e===this._root?this:new A(this._editable,this._edit,this._config,e,t)};var j=n.tryGetHash=function(e,t,n,r){for(var o=r._root,a=0,i=r._config.keyEq;;)switch(o.type){case 1:return i(n,o.key)?o.value:e;case 2:if(t===o.hash)for(var s=o.children,l=0,c=s.length;l<c;++l){var p=s[l];if(i(n,p.key))return p.value}return e;case 3:var h=u(a,t),m=d(h);if(o.mask&m){o=o.children[f(o.mask,m)],a+=5;break}return e;case 4:if(o=o.children[u(a,t)]){a+=5;break}return e;default:return e}};A.prototype.tryGetHash=function(e,t,n){return j(e,t,n,this)};var k=n.tryGet=function(e,t,n){return j(e,n._config.hash(t),t,n)};A.prototype.tryGet=function(e,t){return k(e,t,this)};var I=n.getHash=function(e,t,n){return j(void 0,e,t,n)};A.prototype.getHash=function(e,t){return I(e,t,this)};n.get=function(e,t){return j(void 0,t._config.hash(e),e,t)};A.prototype.get=function(e,t){return k(t,e,this)};var N=n.has=function(e,t,n){return j(s,e,t,n)!==s};A.prototype.hasHash=function(e,t){return N(e,t,this)};var x=n.has=function(e,t){return N(t._config.hash(e),e,t)};A.prototype.has=function(e){return x(e,this)};var R=function(e,t){return e===t};n.make=function(e){return new A(0,0,{keyEq:e&&e.keyEq||R,hash:e&&e.hash||c},m,0)},n.empty=n.make();var D=n.isEmpty=function(e){return e&&!!v(e._root)};A.prototype.isEmpty=function(){return D(this)};var M=n.modifyHash=function(e,t,n,r){var o={value:r._size},a=r._root._modify(r._editable?r._edit:NaN,r._config.keyEq,0,e,t,n,o);return r.setTree(a,o.value)};A.prototype.modifyHash=function(e,t,n){return M(n,e,t,this)};var L=n.modify=function(e,t,n){return M(e,n._config.hash(t),t,n)};A.prototype.modify=function(e,t){return L(t,e,this)};var P=n.setHash=function(e,t,n,r){return M(l(n),e,t,r)};A.prototype.setHash=function(e,t,n){return P(e,t,n,this)};var F=n.set=function(e,t,n){return P(n._config.hash(e),e,t,n)};A.prototype.set=function(e,t){return F(e,t,this)};var B=l(s),U=n.removeHash=function(e,t,n){return M(B,e,t,n)};A.prototype.removeHash=A.prototype.deleteHash=function(e,t){return U(e,t,this)};var V=n.remove=function(e,t){return U(t._config.hash(e),e,t)};A.prototype.remove=A.prototype.delete=function(e){return V(e,this)};var q=n.beginMutation=function(e){return new A(e._editable+1,e._edit+1,e._config,e._root,e._size)};A.prototype.beginMutation=function(){return q(this)};var z=n.endMutation=function(e){return e._editable=e._editable&&e._editable-1,e};A.prototype.endMutation=function(){return z(this)};var Q=n.mutate=function(e,t){var n=q(t);return e(n),z(n)};A.prototype.mutate=function(e){return Q(e,this)};var $=function(e){return e&&W(e[0],e[1],e[2],e[3],e[4])},W=function(e,t,n,r,o){for(;n<e;){var a=t[n++];if(a&&!v(a))return H(a,r,[e,t,n,r,o])}return $(o)},H=function(e,t,n){switch(e.type){case 1:return{value:t(e),rest:n};case 2:case 4:case 3:var r=e.children;return W(r.length,r,0,t,n);default:return $(n)}},K={done:!0};function G(e){this.v=e}G.prototype.next=function(){if(!this.v)return K;var e=this.v;return this.v=$(e.rest),e},G.prototype[Symbol.iterator]=function(){return this};var Y=function(e,t){return new G(H(e._root,t))},X=function(e){return[e.key,e.value]},J=n.entries=function(e){return Y(e,X)};A.prototype.entries=A.prototype[Symbol.iterator]=function(){return J(this)};var Z=function(e){return e.key},ee=n.keys=function(e){return Y(e,Z)};A.prototype.keys=function(){return ee(this)};var te=function(e){return e.value},ne=n.values=A.prototype.values=function(e){return Y(e,te)};A.prototype.values=function(){return ne(this)};var re=n.fold=function(e,t,n){var r=n._root;if(1===r.type)return e(t,r.value,r.key);for(var o=[r.children],a=void 0;a=o.pop();)for(var i=0,s=a.length;i<s;){var l=a[i++];l&&l.type&&(1===l.type?t=e(t,l.value,l.key):o.push(l.children))}return t};A.prototype.fold=function(e,t){return re(e,t,this)};var oe=n.forEach=function(e,t){return re((function(n,r,o){return e(r,o,t)}),null,t)};A.prototype.forEach=function(e){return oe(e,this)};var ae=n.count=function(e){return e._size};A.prototype.count=function(){return ae(this)},Object.defineProperty(A.prototype,"size",{get:A.prototype.count}),e.exports?e.exports=n:(void 0).hamt=n}));class pe{constructor(e){u(this,"_map",void 0),this._map=new Map(null==e?void 0:e.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(e){return this._map.get(e)}has(e){return this._map.has(e)}set(e,t){return this._map.set(e,t),this}delete(e){return this._map.delete(e),this}clone(){return me(this)}toMap(){return new Map(this._map)}}class he{constructor(e){if(u(this,"_hamt",fe.empty.beginMutation()),e instanceof he){const t=e._hamt.endMutation();e._hamt=t.beginMutation(),this._hamt=t.beginMutation()}else if(e)for(const[t,n]of e.entries())this._hamt.set(t,n)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(e){return this._hamt.get(e)}has(e){return this._hamt.has(e)}set(e,t){return this._hamt.set(e,t),this}delete(e){return this._hamt.delete(e),this}clone(){return me(this)}toMap(){return new Map(this._hamt)}}function me(e){return M("recoil_hamt_2020")?new he(e):new pe(e)}var ve=me,be=Object.freeze({__proto__:null,persistentMap:ve});var ye=function(e,...t){const n=new Set;e:for(const r of e){for(const e of t)if(e.has(r))continue e;n.add(r)}return n};var ge=function(e,t){const n=new Map;return e.forEach((e,r)=>{n.set(r,t(e,r))}),n};function _e(e,t,n,r){const{nodeDeps:o,nodeToNodeSubscriptions:a}=n,i=o.get(e);if(i&&r&&i!==r.nodeDeps.get(e))return;o.set(e,t);const s=null==i?t:ye(t,i);for(const t of s){a.has(t)||a.set(t,new Set);c(a.get(t)).add(e)}if(i){const n=ye(i,t);for(const t of n){if(!a.has(t))return;const n=c(a.get(t));n.delete(e),0===n.size&&a.delete(t)}}}var Oe={cloneGraph:function(e){return{nodeDeps:ge(e.nodeDeps,e=>new Set(e)),nodeToNodeSubscriptions:ge(e.nodeToNodeSubscriptions,e=>new Set(e))}},graph:function(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}},saveDepsToStore:function(e,t,n,r){var o,a,i,s;const l=n.getState();r!==l.currentTree.version&&r!==(null===(o=l.nextTree)||void 0===o?void 0:o.version)&&r!==(null===(a=l.previousTree)||void 0===a?void 0:a.version)&&B("Tried to save dependencies to a discarded tree");const c=n.getGraph(r);if(_e(e,t,c),r===(null===(i=l.previousTree)||void 0===i?void 0:i.version)){_e(e,t,n.getGraph(l.currentTree.version),c)}if(r===(null===(s=l.previousTree)||void 0===s?void 0:s.version)||r===l.currentTree.version){var u;const r=null===(u=l.nextTree)||void 0===u?void 0:u.version;if(void 0!==r){_e(e,t,n.getGraph(r),c)}}}};let Se=0;let Ee=0;let we=0;var Ce={getNextTreeStateVersion:()=>Se++,getNextStoreID:()=>Ee++,getNextComponentID:()=>we++};const{persistentMap:Te}=be,{graph:Ae}=Oe,{getNextTreeStateVersion:je}=Ce;function ke(){const e=je();return{version:e,stateID:e,transactionMetadata:{},dirtyAtoms:new Set,atomValues:Te(),nonvalidatedAtoms:Te()}}var Ie={makeEmptyTreeState:ke,makeEmptyStoreState:function(){const e=ke();return{currentTree:e,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:(new Map).set(e.version,Ae()),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}},getNextTreeStateVersion:je};class Ne{}var xe={RetentionZone:Ne,retentionZone:function(){return new Ne}};var Re={setByAddingToSet:function(e,t){const n=new Set(e);return n.add(t),n},setByDeletingFromSet:function(e,t){const n=new Set(e);return n.delete(t),n},mapBySettingInMap:function(e,t,n){const r=new Map(e);return r.set(t,n),r},mapByUpdatingInMap:function(e,t,n){const r=new Map(e);return r.set(t,n(r.get(t))),r},mapByDeletingFromMap:function(e,t){const n=new Map(e);return n.delete(t),n},mapByDeletingMultipleFromMap:function(e,t){const n=new Map(e);return t.forEach(e=>n.delete(e)),n}};var De=function*(e,t){let n=0;for(const r of e)t(r,n++)&&(yield r)};var Me=function(e,t){return new Proxy(e,{get:(e,n)=>(!(n in e)&&n in t&&(e[n]=t[n]()),e[n]),ownKeys:e=>Object.keys(e)})};const{getNode:Le,getNodeMaybe:Pe,recoilValuesForKeys:Fe}=ue,{RetentionZone:Be}=xe,{setByAddingToSet:Ue}=Re,Ve=Object.freeze(new Set);class qe extends Error{}function ze(e,t,n,r){const o=e.getState();if(o.nodeCleanupFunctions.has(n))return;const a=Le(n),i=function(e,t,n){if(!M("recoil_memory_managament_2020"))return()=>{};const{nodesRetainedByZone:r}=e.getState().retention;function o(e){let n=r.get(e);n||r.set(e,n=new Set),n.add(t)}if(n instanceof Be)o(n);else if(Array.isArray(n))for(const e of n)o(e);return()=>{if(!M("recoil_memory_managament_2020"))return;const{retention:r}=e.getState();function o(e){const n=r.nodesRetainedByZone.get(e);null==n||n.delete(t),n&&0===n.size&&r.nodesRetainedByZone.delete(e)}if(n instanceof Be)o(n);else if(Array.isArray(n))for(const e of n)o(e)}}(e,n,a.retainedBy),s=a.init(e,t,r);o.nodeCleanupFunctions.set(n,()=>{s(),i()})}function Qe(e,t,n){return Le(n).peek(e,t)}function $e(e,t,n){const r=new Set,o=Array.from(n),a=e.getGraph(t.version);for(let e=o.pop();e;e=o.pop()){var i;r.add(e);const t=null!==(i=a.nodeToNodeSubscriptions.get(e))&&void 0!==i?i:Ve;for(const e of t)r.has(e)||o.push(e)}return r}var We={getNodeLoadable:function(e,t,n){return ze(e,t,n,"get"),Le(n).get(e,t)},peekNodeLoadable:Qe,setNodeValue:function(e,t,n,r){const o=Le(n);if(null==o.set)throw new qe("Attempt to set read-only RecoilValue: "+n);const a=o.set;return ze(e,t,n,"set"),a(e,t,r)},initializeNode:function(e,t,n){ze(e,e.getState().currentTree,t,n)},cleanUpNode:function(e,t){var n;const r=e.getState();null===(n=r.nodeCleanupFunctions.get(t))||void 0===n||n(),r.nodeCleanupFunctions.delete(t)},setUnvalidatedAtomValue_DEPRECATED:function(e,t,n){var r;const o=Pe(t);return null==o||null===(r=o.invalidate)||void 0===r||r.call(o,e),{...e,atomValues:e.atomValues.clone().delete(t),nonvalidatedAtoms:e.nonvalidatedAtoms.clone().set(t,n),dirtyAtoms:Ue(e.dirtyAtoms,t)}},peekNodeInfo:function(e,t,n){const r=e.getState(),o=e.getGraph(t.version),a=Le(n).nodeType;return Me({type:a},{loadable:()=>Qe(e,t,n),isActive:()=>r.knownAtoms.has(n)||r.knownSelectors.has(n),isSet:()=>"selector"!==a&&t.atomValues.has(n),isModified:()=>t.dirtyAtoms.has(n),deps:()=>{var e;return Fe(null!==(e=o.nodeDeps.get(n))&&void 0!==e?e:[])},subscribers:()=>{var o,a;return{nodes:Fe(De($e(e,t,new Set([n])),e=>e!==n)),components:te(null!==(o=null===(a=r.nodeToComponentSubscriptions.get(n))||void 0===a?void 0:a.values())&&void 0!==o?o:[],([e])=>({name:e}))}}})},getDownstreamNodes:$e};let He=null;var Ke={setInvalidateMemoizedSnapshot:function(e){He=e},invalidateMemoizedSnapshot:function(){var e;null===(e=He)||void 0===e||e()}};const{getDownstreamNodes:Ge,getNodeLoadable:Ye,setNodeValue:Xe}=We,{getNextComponentID:Je}=Ce,{getNode:Ze,getNodeMaybe:et}=ue,{DefaultValue:tt}=ue,{reactMode:nt}=Q,{AbstractRecoilValue:rt,RecoilState:ot,RecoilValueReadOnly:at,isRecoilValue:it}=Z,{invalidateMemoizedSnapshot:st}=Ke;function lt(e,t,n){if("set"===n.type){const{recoilValue:r,valueOrUpdater:o}=n,a=function(e,t,{key:n},r){if("function"==typeof r){const o=Ye(e,t,n);if("loading"===o.state){const e=`Tried to set atom or selector "${n}" using an updater function while the current state is pending, this is not currently supported.`;throw B(e),s(e)}if("hasError"===o.state)throw o.contents;return r(o.contents)}return r}(e,t,r,o),i=Xe(e,t,r.key,a);for(const[e,n]of i.entries())ct(t,e,n)}else if("setLoadable"===n.type){const{recoilValue:{key:e},loadable:r}=n;ct(t,e,r)}else if("markModified"===n.type){const{recoilValue:{key:e}}=n;t.dirtyAtoms.add(e)}else if("setUnvalidated"===n.type){var r;const{recoilValue:{key:e},unvalidatedValue:o}=n,a=et(e);null==a||null===(r=a.invalidate)||void 0===r||r.call(a,t),t.atomValues.delete(e),t.nonvalidatedAtoms.set(e,o),t.dirtyAtoms.add(e)}else B("Unknown action "+n.type)}function ct(e,t,n){"hasValue"===n.state&&n.contents instanceof tt?e.atomValues.delete(t):e.atomValues.set(t,n),e.dirtyAtoms.add(t),e.nonvalidatedAtoms.delete(t)}function ut(e,t){e.replaceState(n=>{const r=pt(n);for(const n of t)lt(e,r,n);return ht(e,r),st(),r})}function dt(e,t){if(ft.length){const n=ft[ft.length-1];let r=n.get(e);r||n.set(e,r=[]),r.push(t)}else ut(e,[t])}const ft=[];function pt(e){return{...e,atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(e.dirtyAtoms)}}function ht(e,t){const n=Ge(e,t,t.dirtyAtoms);for(const e of n){var r,o;null===(r=et(e))||void 0===r||null===(o=r.invalidate)||void 0===o||o.call(r,t)}}function mt(e,t,n){dt(e,{type:"set",recoilValue:t,valueOrUpdater:n})}var vt={RecoilValueReadOnly:at,AbstractRecoilValue:rt,RecoilState:ot,getRecoilValueAsLoadable:function(e,{key:t},n=e.getState().currentTree){var r,o;const a=e.getState();n.version!==a.currentTree.version&&n.version!==(null===(r=a.nextTree)||void 0===r?void 0:r.version)&&n.version!==(null===(o=a.previousTree)||void 0===o?void 0:o.version)&&B("Tried to read from a discarded tree");const i=Ye(e,n,t);return"loading"===i.state&&i.contents.catch(()=>{}),i},setRecoilValue:mt,setRecoilValueLoadable:function(e,t,n){if(n instanceof tt)return mt(e,t,n);dt(e,{type:"setLoadable",recoilValue:t,loadable:n})},markRecoilValueModified:function(e,t){dt(e,{type:"markModified",recoilValue:t})},setUnvalidatedRecoilValue:function(e,t,n){dt(e,{type:"setUnvalidated",recoilValue:t,unvalidatedValue:n})},subscribeToRecoilValue:function(e,{key:t},n,r=null){const o=Je(),a=e.getState();a.nodeToComponentSubscriptions.has(t)||a.nodeToComponentSubscriptions.set(t,new Map),c(a.nodeToComponentSubscriptions.get(t)).set(o,[null!=r?r:"<not captured>",n]);const i=nt();if(i.early&&("LEGACY"===i.mode||"MUTABLE_SOURCE"===i.mode)){const r=e.getState().nextTree;r&&r.dirtyAtoms.has(t)&&n(r)}return{release:()=>{const n=e.getState(),r=n.nodeToComponentSubscriptions.get(t);void 0!==r&&r.has(o)?(r.delete(o),0===r.size&&n.nodeToComponentSubscriptions.delete(t)):B(`Subscription missing at release time for atom ${t}. This is a bug in Recoil.`)}}},isRecoilValue:it,applyAtomValueWrites:function(e,t){const n=e.clone();return t.forEach((e,t)=>{"hasValue"===e.state&&e.contents instanceof tt?n.delete(t):n.set(t,e)}),n},batchStart:function(){const e=new Map;return ft.push(e),()=>{for(const[t,n]of e)ut(t,n);ft.pop()!==e&&B("Incorrect order of batch popping")}},writeLoadableToTreeState:ct,invalidateDownstreams:ht,copyTreeState:pt,refreshRecoilValue:function(e,t){var n;const{currentTree:r}=e.getState(),o=Ze(t.key);null===(n=o.clearCache)||void 0===n||n.call(o,e,r)}};var bt=function(e,t,n){const r=e.entries();let o=r.next();for(;!o.done;){const a=o.value;if(t.call(n,a[1],a[0],e))return!0;o=r.next()}return!1};const{cleanUpNode:yt}=We,{deleteNodeConfigIfPossible:gt,getNode:_t}=ue,{RetentionZone:Ot}=xe,St=new Set;function Et(e,t){const n=e.getState(),r=n.currentTree;if(n.nextTree)return void B("releaseNodesNowOnCurrentTree should only be called at the end of a batch");const o=new Set;for(const e of t)if(e instanceof Ot)for(const t of Ct(n,e))o.add(t);else o.add(e);const a=function(e,t){const n=e.getState(),r=n.currentTree,o=e.getGraph(r.version),a=new Set,i=new Set;return s(t),a;function s(t){const l=new Set,u=function(e,t,n,r,o){const a=e.getGraph(t.version),i=[],s=new Set;for(;n.size>0;)l(c(n.values().next().value));return i;function l(e){if(r.has(e)||o.has(e))return void n.delete(e);if(s.has(e))return;const t=a.nodeToNodeSubscriptions.get(e);if(t)for(const e of t)l(e);s.add(e),n.delete(e),i.push(e)}}(e,r,t,a,i);for(const e of u){var d;if("recoilRoot"===_t(e).retainedBy){i.add(e);continue}if((null!==(d=n.retention.referenceCounts.get(e))&&void 0!==d?d:0)>0){i.add(e);continue}if(Tt(e).some(e=>n.retention.referenceCounts.get(e))){i.add(e);continue}const t=o.nodeToNodeSubscriptions.get(e);t&&bt(t,e=>i.has(e))?i.add(e):(a.add(e),l.add(e))}const f=new Set;for(const e of l)for(const t of null!==(p=o.nodeDeps.get(e))&&void 0!==p?p:St){var p;a.has(t)||f.add(t)}f.size&&s(f)}}(e,o);for(const t of a)wt(e,r,t)}function wt(e,t,n){if(!M("recoil_memory_managament_2020"))return;yt(e,n);const r=e.getState();r.knownAtoms.delete(n),r.knownSelectors.delete(n),r.nodeTransactionSubscriptions.delete(n),r.retention.referenceCounts.delete(n);const o=Tt(n);for(const e of o){var a;null===(a=r.retention.nodesRetainedByZone.get(e))||void 0===a||a.delete(n)}t.atomValues.delete(n),t.dirtyAtoms.delete(n),t.nonvalidatedAtoms.delete(n);const i=r.graphsByVersion.get(t.version);if(i){const e=i.nodeDeps.get(n);if(void 0!==e){i.nodeDeps.delete(n);for(const t of e){var s;null===(s=i.nodeToNodeSubscriptions.get(t))||void 0===s||s.delete(n)}}i.nodeToNodeSubscriptions.delete(n)}gt(n)}function Ct(e,t){var n;return null!==(n=e.retention.nodesRetainedByZone.get(t))&&void 0!==n?n:St}function Tt(e){const t=_t(e).retainedBy;return void 0===t||"components"===t||"recoilRoot"===t?[]:t instanceof Ot?[t]:t}function At(e,t){if(!M("recoil_memory_managament_2020"))return;e.getState().retention.referenceCounts.delete(t),function(e,t){const n=e.getState();n.nextTree?n.retention.retainablesToCheckForRelease.add(t):Et(e,new Set([t]))}(e,t)}var jt={SUSPENSE_TIMEOUT_MS:12e4,updateRetainCount:function(e,t,n){var r;if(!M("recoil_memory_managament_2020"))return;const o=e.getState().retention.referenceCounts,a=(null!==(r=o.get(t))&&void 0!==r?r:0)+n;0===a?At(e,t):o.set(t,a)},updateRetainCountToZero:At,releaseScheduledRetainablesNow:function(e){if(!M("recoil_memory_managament_2020"))return;const t=e.getState();Et(e,t.retention.retainablesToCheckForRelease),t.retention.retainablesToCheckForRelease.clear()},retainedByOptionWithDefault:function(e){return void 0===e?"recoilRoot":e}};const{unstable_batchedUpdates:kt}=i.a;var It={unstable_batchedUpdates:kt};const{unstable_batchedUpdates:Nt}=It;var xt={unstable_batchedUpdates:Nt};const{batchStart:Rt}=vt,{unstable_batchedUpdates:Dt}=xt;let Mt=Dt||(e=>e());var Lt={getBatcher:()=>Mt,setBatcher:e=>{Mt=e},batchUpdates:e=>{Mt(()=>{let t=()=>{};try{t=Rt(),e()}finally{t()}})}};var Pt=function*(e){for(const t of e)for(const e of t)yield e};const Ft="undefined"==typeof Window||"undefined"==typeof window,Bt="undefined"!=typeof navigator&&"ReactNative"===navigator.product;var Ut={isSSR:Ft,isReactNative:Bt,isWindow:e=>!Ft&&(e===window||e instanceof Window)};var Vt={memoizeWithArgsHash:function(e,t){let n;return(...r)=>{n||(n={});const o=t(...r);return Object.hasOwnProperty.call(n,o)||(n[o]=e(...r)),n[o]}},memoizeOneWithArgsHash:function(e,t){let n,r;return(...o)=>{const a=t(...o);return n===a||(n=a,r=e(...o)),r}},memoizeOneWithArgsHashAndInvalidation:function(e,t){let n,r;return[(...o)=>{const a=t(...o);return n===a||(n=a,r=e(...o)),r},()=>{n=null}]}};const{batchUpdates:qt}=Lt,{initializeNode:zt,peekNodeInfo:Qt}=We,{graph:$t}=Oe,{getNextStoreID:Wt}=Ce,{DEFAULT_VALUE:Ht,recoilValues:Kt,recoilValuesForKeys:Gt}=ue,{AbstractRecoilValue:Yt,getRecoilValueAsLoadable:Xt,setRecoilValue:Jt,setUnvalidatedRecoilValue:Zt}=vt,{updateRetainCount:en}=jt,{setInvalidateMemoizedSnapshot:tn}=Ke,{getNextTreeStateVersion:nn,makeEmptyStoreState:rn}=Ie,{isSSR:on}=Ut,{memoizeOneWithArgsHashAndInvalidation:an}=Vt;class sn{constructor(e,t){u(this,"_store",void 0),u(this,"_refCount",1),u(this,"getLoadable",e=>(this.checkRefCount_INTERNAL(),Xt(this._store,e))),u(this,"getPromise",e=>(this.checkRefCount_INTERNAL(),this.getLoadable(e).toPromise())),u(this,"getNodes_UNSTABLE",e=>{if(this.checkRefCount_INTERNAL(),!0===(null==e?void 0:e.isModified)){if(!1===(null==e?void 0:e.isInitialized))return[];const t=this._store.getState().currentTree;return Gt(t.dirtyAtoms)}const t=this._store.getState().knownAtoms,n=this._store.getState().knownSelectors;return null==(null==e?void 0:e.isInitialized)?Kt.values():!0===e.isInitialized?Gt(Pt([t,n])):De(Kt.values(),({key:e})=>!t.has(e)&&!n.has(e))}),u(this,"getInfo_UNSTABLE",({key:e})=>(this.checkRefCount_INTERNAL(),Qt(this._store,this._store.getState().currentTree,e))),u(this,"map",e=>{this.checkRefCount_INTERNAL();const t=new dn(this,qt);return e(t),t}),u(this,"asyncMap",async e=>{this.checkRefCount_INTERNAL();const t=new dn(this,qt);return t.retain(),await e(t),t.autoRelease_INTERNAL(),t}),this._store={storeID:Wt(),parentStoreID:t,getState:()=>e,replaceState:t=>{e.currentTree=t(e.currentTree)},getGraph:t=>{const n=e.graphsByVersion;if(n.has(t))return c(n.get(t));const r=$t();return n.set(t,r),r},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw s("Cannot subscribe to Snapshots")}};for(const e of this._store.getState().knownAtoms)zt(this._store,e,"get"),en(this._store,e,1);this.autoRelease_INTERNAL()}retain(){this._refCount<=0&&B("Attempt to retain() Snapshot that was already released."),this._refCount++;let e=!1;return()=>{e||(e=!0,this._release())}}autoRelease_INTERNAL(){on||window.setTimeout(()=>this._release(),10)}_release(){if(this._refCount--,0===this._refCount){if(this._store.getState().nodeCleanupFunctions.forEach(e=>e()),this._store.getState().nodeCleanupFunctions.clear(),!M("recoil_memory_managament_2020"))return}else this._refCount}isRetained(){return this._refCount>0}checkRefCount_INTERNAL(){M("recoil_memory_managament_2020")&&this._refCount}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}getStoreID(){return this.checkRefCount_INTERNAL(),this._store.storeID}}function ln(e,t,n=!1){const r=e.getState(),o=n?nn():t.version;return{currentTree:{version:n?o:t.version,stateID:n?o:t.stateID,transactionMetadata:{...t.transactionMetadata},dirtyAtoms:new Set(t.dirtyAtoms),atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone()},commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(r.knownAtoms),knownSelectors:new Set(r.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:(new Map).set(o,e.getGraph(t.version)),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map(te(r.nodeCleanupFunctions.entries(),([e])=>[e,()=>{}]))}}const[cn,un]=an((e,t)=>{var n;const r=e.getState(),o="latest"===t?null!==(n=r.nextTree)&&void 0!==n?n:r.currentTree:c(r.previousTree);return new sn(ln(e,o),e.storeID)},(e,t)=>{var n,r;return String(t)+String(e.storeID)+String(null===(n=e.getState().nextTree)||void 0===n?void 0:n.version)+String(e.getState().currentTree.version)+String(null===(r=e.getState().previousTree)||void 0===r?void 0:r.version)});tn(un);class dn extends sn{constructor(e,t){super(ln(e.getStore_INTERNAL(),e.getStore_INTERNAL().getState().currentTree,!0),e.getStoreID()),u(this,"_batch",void 0),u(this,"set",(e,t)=>{this.checkRefCount_INTERNAL();const n=this.getStore_INTERNAL();this._batch(()=>{en(n,e.key,1),Jt(this.getStore_INTERNAL(),e,t)})}),u(this,"reset",e=>{this.checkRefCount_INTERNAL();const t=this.getStore_INTERNAL();this._batch(()=>{en(t,e.key,1),Jt(this.getStore_INTERNAL(),e,Ht)})}),u(this,"setUnvalidatedAtomValues_DEPRECATED",e=>{this.checkRefCount_INTERNAL();const t=this.getStore_INTERNAL();qt(()=>{for(const[n,r]of e.entries())en(t,n,1),Zt(t,new Yt(n),r)})}),this._batch=t}}var fn={Snapshot:sn,MutableSnapshot:dn,freshSnapshot:function(e){const t=new sn(rn());return null!=e?t.map(e):t},cloneSnapshot:function(e,t="latest"){const n=cn(e,t);return n.isRetained()?n:(un(),cn(e,t))}},pn=fn.Snapshot,hn=fn.MutableSnapshot,mn=fn.freshSnapshot,vn=fn.cloneSnapshot,bn=Object.freeze({__proto__:null,Snapshot:pn,MutableSnapshot:hn,freshSnapshot:mn,cloneSnapshot:vn});var yn=function(...e){const t=new Set;for(const n of e)for(const e of n)t.add(e);return t};const{useRef:gn}=o.a;var _n=function(e){const t=gn(e);return t.current===e&&"function"==typeof e&&(t.current=e()),t};const{getNextTreeStateVersion:On,makeEmptyStoreState:Sn}=Ie,{cleanUpNode:En,getDownstreamNodes:wn,initializeNode:Cn,setNodeValue:Tn,setUnvalidatedAtomValue_DEPRECATED:An}=We,{graph:jn}=Oe,{cloneGraph:kn}=Oe,{getNextStoreID:In}=Ce,{createMutableSource:Nn,reactMode:xn}=Q,{applyAtomValueWrites:Rn}=vt,{releaseScheduledRetainablesNow:Dn}=jt,{freshSnapshot:Mn}=bn,{useCallback:Ln,useContext:Pn,useEffect:Fn,useMemo:Bn,useRef:Un,useState:Vn}=o.a;function qn(){throw s("This component must be used inside a <RecoilRoot> component.")}const zn=Object.freeze({storeID:In(),getState:qn,replaceState:qn,getGraph:qn,subscribeToTransactions:qn,addTransactionMetadata:qn});let Qn=!1;function $n(e){if(Qn)throw s("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");const t=e.getState();if(null===t.nextTree){M("recoil_memory_managament_2020")&&M("recoil_release_on_cascading_update_killswitch_2021")&&t.commitDepth>0&&Dn(e);const n=t.currentTree.version,r=On();t.nextTree={...t.currentTree,version:r,stateID:r,dirtyAtoms:new Set,transactionMetadata:{}},t.graphsByVersion.set(r,kn(c(t.graphsByVersion.get(n))))}}const Wn=o.a.createContext({current:zn}),Hn=()=>Pn(Wn),Kn=o.a.createContext(null);function Gn(e,t,n){const r=wn(e,n,n.dirtyAtoms);for(const e of r){const r=t.nodeToComponentSubscriptions.get(e);if(r)for(const[e,[t,o]]of r)o(n)}}function Yn(e){const t=e.getState(),n=t.currentTree,r=n.dirtyAtoms;if(r.size){for(const[n,o]of t.nodeTransactionSubscriptions)if(r.has(n))for(const[t,n]of o)n(e);for(const[n,r]of t.transactionSubscriptions)r(e);(!xn().early||t.suspendedComponentResolvers.size>0)&&(Gn(e,t,n),t.suspendedComponentResolvers.forEach(e=>e()),t.suspendedComponentResolvers.clear())}t.queuedComponentCallbacks_DEPRECATED.forEach(e=>e(n)),t.queuedComponentCallbacks_DEPRECATED.splice(0,t.queuedComponentCallbacks_DEPRECATED.length)}function Xn({setNotifyBatcherOfChange:e}){const t=Hn(),[,n]=Vn([]);return e(()=>n({})),Fn(()=>(e(()=>n({})),()=>{e(()=>{})}),[e]),Fn(()=>{de.enqueueExecution("Batcher",()=>{!function(e){const t=e.getState();t.commitDepth++;try{const{nextTree:n}=t;if(null==n)return;t.previousTree=t.currentTree,t.currentTree=n,t.nextTree=null,Yn(e),null!=t.previousTree?t.graphsByVersion.delete(t.previousTree.version):B("Ended batch with no previous state, which is unexpected","recoil"),t.previousTree=null,M("recoil_memory_managament_2020")&&null==n&&Dn(e)}finally{t.commitDepth--}}(t.current)})}),null}let Jn=0;function Zn({initializeState_DEPRECATED:e,initializeState:t,store_INTERNAL:n,children:r}){let a;const i=e=>{const t=a.current.graphsByVersion;if(t.has(e))return c(t.get(e));const n=jn();return t.set(e,n),n},s=(e,t)=>{if(null==t){const{transactionSubscriptions:t}=p.current.getState(),n=Jn++;return t.set(n,e),{release:()=>{t.delete(n)}}}{const{nodeTransactionSubscriptions:n}=p.current.getState();n.has(t)||n.set(t,new Map);const r=Jn++;return c(n.get(t)).set(r,e),{release:()=>{const e=n.get(t);e&&(e.delete(r),0===e.size&&n.delete(t))}}}},l=e=>{$n(p.current);for(const t of Object.keys(e))c(p.current.getState().nextTree).transactionMetadata[t]=e[t]},u=e=>{$n(p.current);const t=c(a.current.nextTree);let n;try{Qn=!0,n=e(t)}finally{Qn=!1}n!==t&&(a.current.nextTree=n,xn().early&&Gn(p.current,a.current,n),c(d.current)())},d=Un(null),f=Ln(e=>{d.current=e},[d]),p=_n(()=>null!=n?n:{storeID:In(),getState:()=>a.current,replaceState:u,getGraph:i,subscribeToTransactions:s,addTransactionMetadata:l});null!=n&&(p.current=n),a=_n(()=>null!=e?function(e,t){const n=Sn();return t({set:(t,r)=>{const o=n.currentTree,a=Tn(e,o,t.key,r),i=new Set(a.keys()),s=o.nonvalidatedAtoms.clone();for(const e of i)s.delete(e);n.currentTree={...o,dirtyAtoms:yn(o.dirtyAtoms,i),atomValues:Rn(o.atomValues,a),nonvalidatedAtoms:s}},setUnvalidatedAtomValues:e=>{e.forEach((e,t)=>{n.currentTree=An(n.currentTree,t,e)})}}),n}(p.current,e):null!=t?function(e){const t=Mn(e),n=t.getStore_INTERNAL().getState();return t.retain(),n.nodeCleanupFunctions.forEach(e=>e()),n.nodeCleanupFunctions.clear(),n}(t):Sn());const h=Bn(()=>null==Nn?void 0:Nn(a,()=>a.current.currentTree.version),[a]);return Fn(()=>{const e=p.current;for(const t of new Set(e.getState().knownAtoms))Cn(e,t,"get");return()=>{for(const t of e.getState().knownAtoms)En(e,t)}},[p]),o.a.createElement(Wn.Provider,{value:p},o.a.createElement(Kn.Provider,{value:h},o.a.createElement(Xn,{setNotifyBatcherOfChange:f}),r))}var er={RecoilRoot:function(e){const{override:t,...n}=e,r=Hn();return!1===t&&r.current!==zn?e.children:o.a.createElement(Zn,n)},useStoreRef:Hn,useRecoilMutableSource:function(){const e=Pn(Kn);return null==e&&ee("Attempted to use a Recoil hook outside of a <RecoilRoot>. <RecoilRoot> must be an ancestor of any component that uses Recoil hooks."),e},useRecoilStoreID:function(){return Hn().current.storeID},notifyComponents_FOR_TESTING:Gn,sendEndOfBatchNotifications_FOR_TESTING:Yn};var tr=function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0};const{useEffect:nr,useRef:rr}=o.a;var or=function(e){const t=rr();return nr(()=>{t.current=e}),t.current};const{useStoreRef:ar}=er,{SUSPENSE_TIMEOUT_MS:ir}=jt,{updateRetainCount:sr}=jt,{RetentionZone:lr}=xe,{useEffect:cr,useRef:ur}=o.a,{isSSR:dr}=Ut;var fr=function(e){if(M("recoil_memory_managament_2020"))return function(e){const t=(Array.isArray(e)?e:[e]).map(e=>e instanceof lr?e:e.key),n=ar();cr(()=>{if(!M("recoil_memory_managament_2020"))return;const e=n.current;if(r.current&&!dr)window.clearTimeout(r.current),r.current=null;else for(const n of t)sr(e,n,1);return()=>{for(const n of t)sr(e,n,-1)}},[n,...t]);const r=ur(),o=or(t);if(!(dr||void 0!==o&&tr(o,t))){const e=n.current;for(const n of t)sr(e,n,1);if(o)for(const t of o)sr(e,t,-1);r.current&&window.clearTimeout(r.current),r.current=window.setTimeout(()=>{r.current=null;for(const n of t)sr(e,n,-1)},ir)}}(e)};var pr=function(){return"<component name not available>"};const{batchUpdates:hr}=Lt,{DEFAULT_VALUE:mr}=ue,{currentRendererSupportsUseSyncExternalStore:vr,reactMode:br,useMutableSource:yr,useSyncExternalStore:gr}=Q,{useRecoilMutableSource:_r,useStoreRef:Or}=er,{isRecoilValue:Sr}=Z,{AbstractRecoilValue:Er,getRecoilValueAsLoadable:wr,setRecoilValue:Cr,setUnvalidatedRecoilValue:Tr,subscribeToRecoilValue:Ar}=vt,{useCallback:jr,useEffect:kr,useMemo:Ir,useRef:Nr,useState:xr}=o.a,{setByAddingToSet:Rr}=Re,{isSSR:Dr}=Ut;function Mr(e,t,n){if("hasValue"===e.state)return e.contents;if("loading"===e.state){throw new Promise(t=>{const r=n.current.getState().suspendedComponentResolvers;r.add(t),Dr&&l(e.contents)&&e.contents.finally(()=>{r.delete(t)})})}throw"hasError"===e.state?e.contents:s(`Invalid value of loadable atom "${t.key}"`)}function Lr(e){const t=Or(),n=pr(),r=jr(()=>{var n;const r=t.current,o=r.getState(),a=br().early&&null!==(n=o.nextTree)&&void 0!==n?n:o.currentTree;return{loadable:wr(r,e,a),key:e.key}},[t,e]),o=jr(e=>{let t;return()=>{var n,r;const o=e();return null!==(n=t)&&void 0!==n&&n.loadable.is(o.loadable)&&(null===(r=t)||void 0===r?void 0:r.key)===o.key?t:(t=o,o)}},[]),a=Ir(()=>o(r),[r,o]),i=jr(r=>{const o=t.current;return Ar(o,e,r,n).release},[t,e,n]);return gr(i,a,a).loadable}function Pr(e){const t=Or(),n=jr(()=>{var n;const r=t.current,o=r.getState(),a=br().early&&null!==(n=o.nextTree)&&void 0!==n?n:o.currentTree;return wr(r,e,a)},[t,e]),r=jr(()=>n(),[n]),o=pr(),a=jr((r,a)=>{const i=t.current;return Ar(i,e,()=>{if(!M("recoil_suppress_rerender_in_callback"))return a();const e=n();c.current.is(e)||a(),c.current=e},o).release},[t,e,o,n]),i=_r();if(null==i)throw s("Recoil hooks must be used in components contained within a <RecoilRoot> component.");const l=yr(i,r,a),c=Nr(l);return kr(()=>{c.current=l}),l}function Fr(e){const t=Or(),n=pr(),r=jr(()=>{var n;const r=t.current,o=r.getState(),a=br().early&&null!==(n=o.nextTree)&&void 0!==n?n:o.currentTree;return wr(r,e,a)},[t,e]),o=jr(()=>({loadable:r(),key:e.key}),[r,e.key]),a=jr(e=>{const t=o();return e.loadable.is(t.loadable)&&e.key===t.key?e:t},[o]);kr(()=>{const r=Ar(t.current,e,e=>{s(a)},n);return s(a),r.release},[n,e,t,a]);const[i,s]=xr(o);return i.key!==e.key?o().loadable:i.loadable}function Br(e){const t=Or(),[,n]=xr([]),r=pr(),o=jr(()=>{var n;const r=t.current,o=r.getState(),a=br().early&&null!==(n=o.nextTree)&&void 0!==n?n:o.currentTree;return wr(r,e,a)},[t,e]),a=o(),i=Nr(a);return kr(()=>{i.current=a}),kr(()=>{const a=t.current,s=a.getState(),l=Ar(a,e,e=>{var t;if(!M("recoil_suppress_rerender_in_callback"))return n([]);const r=o();null!==(t=i.current)&&void 0!==t&&t.is(r)||n(r),i.current=r},r);if(s.nextTree)a.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{i.current=null,n([])});else{var c;if(!M("recoil_suppress_rerender_in_callback"))return n([]);const e=o();null!==(c=i.current)&&void 0!==c&&c.is(e)||n(e),i.current=e}return l.release},[r,o,e,t]),a}function Ur(e){return M("recoil_memory_managament_2020")&&fr(e),{TRANSITION_SUPPORT:Fr,SYNC_EXTERNAL_STORE:vr()?Lr:Fr,MUTABLE_SOURCE:Pr,LEGACY:Br}[br().mode](e)}function Vr(e){const t=Or();return Mr(Ur(e),e,t)}function qr(e){const t=Or();return jr(n=>{Cr(t.current,e,n)},[t,e])}function zr(e){return M("recoil_memory_managament_2020")&&fr(e),Fr(e)}function Qr(e){const t=Or();return Mr(zr(e),e,t)}var $r={recoilComponentGetRecoilValueCount_FOR_TESTING:{current:0},useRecoilInterface:function(){const e=pr(),t=Or(),[,n]=xr([]),r=Nr(new Set);r.current=new Set;const o=Nr(new Set),a=Nr(new Map),i=jr(e=>{const t=a.current.get(e);t&&(t.release(),a.current.delete(e))},[a]),s=jr((e,t)=>{a.current.has(t)&&n([])},[]);return kr(()=>{const n=t.current;ye(r.current,o.current).forEach(t=>{if(a.current.has(t))return void ee(`Double subscription to RecoilValue "${t}"`);const r=Ar(n,new Er(t),e=>s(e,t),e);a.current.set(t,r);n.getState().nextTree?n.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{s(n.getState(),t)}):s(n.getState(),t)}),ye(o.current,r.current).forEach(e=>{i(e)}),o.current=r.current}),kr(()=>{const n=a.current;return ye(r.current,new Set(n.keys())).forEach(r=>{const o=Ar(t.current,new Er(r),e=>s(e,r),e);n.set(r,o)}),()=>n.forEach((e,t)=>i(t))},[e,t,i,s]),Ir(()=>{function e(e){return n=>{Cr(t.current,e,n)}}function n(e){var n;r.current.has(e.key)||(r.current=Rr(r.current,e.key));const o=t.current.getState();return wr(t.current,e,br().early&&null!==(n=o.nextTree)&&void 0!==n?n:o.currentTree)}function o(e){return Mr(n(e),e,t)}return{getRecoilValue:o,getRecoilValueLoadable:n,getRecoilState:function(t){return[o(t),e(t)]},getRecoilStateLoadable:function(t){return[n(t),e(t)]},getSetRecoilState:e,getResetRecoilState:function(e){return()=>Cr(t.current,e,mr)}}},[r,t])},useRecoilState:function(e){return[Vr(e),qr(e)]},useRecoilStateLoadable:function(e){return[Ur(e),qr(e)]},useRecoilValue:Vr,useRecoilValueLoadable:Ur,useResetRecoilState:function(e){const t=Or();return jr(()=>{Cr(t.current,e,mr)},[t,e])},useSetRecoilState:qr,useSetUnvalidatedAtomValues:function(){const e=Or();return(t,n={})=>{hr(()=>{e.current.addTransactionMetadata(n),t.forEach((t,n)=>Tr(e.current,new Er(n),t))})}},useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:zr,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:Qr,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:function(e){return[Qr(e),qr(e)]}};var Wr=function(e,t){const n=new Map;for(const[r,o]of e)t(o,r)&&n.set(r,o);return n};var Hr=function(e,t){const n=new Set;for(const r of e)t(r)&&n.add(r);return n};var Kr=function(...e){const t=new Map;for(let n=0;n<e.length;n++){const r=e[n].keys();let o;for(;!(o=r.next()).done;)t.set(o.value,e[n].get(o.value))}return t};const{batchUpdates:Gr}=Lt,{DEFAULT_VALUE:Yr,getNode:Xr,nodes:Jr}=ue,{useStoreRef:Zr}=er,{AbstractRecoilValue:eo,setRecoilValueLoadable:to}=vt,{SUSPENSE_TIMEOUT_MS:no}=jt,{cloneSnapshot:ro}=bn,{useCallback:oo,useEffect:ao,useRef:io,useState:so}=o.a,{isSSR:lo}=Ut;function co(e){const t=Zr();ao(()=>t.current.subscribeToTransactions(e).release,[e,t])}function uo(e){const t=e.atomValues.toMap(),n=ge(Wr(t,(e,t)=>{const n=Xr(t).persistence_UNSTABLE;return null!=n&&"none"!==n.type&&"hasValue"===e.state}),e=>e.contents);return Kr(e.nonvalidatedAtoms.toMap(),n)}function fo(e,t){var n;const r=e.getState(),o=null!==(n=r.nextTree)&&void 0!==n?n:r.currentTree,a=t.getStore_INTERNAL().getState().currentTree;Gr(()=>{const n=new Set;for(const e of[o.atomValues.keys(),a.atomValues.keys()])for(const t of e){var r,i;(null===(r=o.atomValues.get(t))||void 0===r?void 0:r.contents)!==(null===(i=a.atomValues.get(t))||void 0===i?void 0:i.contents)&&Xr(t).shouldRestoreFromSnapshots&&n.add(t)}n.forEach(t=>{to(e,new eo(t),a.atomValues.has(t)?c(a.atomValues.get(t)):Yr)}),e.replaceState(e=>({...e,stateID:t.getID()}))})}var po={useRecoilSnapshot:function(){const e=Zr(),[t,n]=so(()=>ro(e.current)),r=or(t),o=io(),a=io();if(co(oo(e=>n(ro(e)),[])),ao(()=>{const e=t.retain();var n;o.current&&!lo&&(window.clearTimeout(o.current),o.current=null,null===(n=a.current)||void 0===n||n.call(a),a.current=null);return()=>{window.setTimeout(e,10)}},[t]),r!==t&&!lo){var i;if(o.current)window.clearTimeout(o.current),o.current=null,null===(i=a.current)||void 0===i||i.call(a),a.current=null;a.current=t.retain(),o.current=window.setTimeout(()=>{var e;o.current=null,null===(e=a.current)||void 0===e||e.call(a),a.current=null},no)}return t},gotoSnapshot:fo,useGotoRecoilSnapshot:function(){const e=Zr();return oo(t=>fo(e.current,t),[e])},useRecoilTransactionObserver:function(e){co(oo(t=>{const n=ro(t,"latest"),r=ro(t,"previous");e({snapshot:n,previousSnapshot:r})},[e]))},useTransactionObservation_DEPRECATED:function(e){co(oo(t=>{let n=t.getState().previousTree;const r=t.getState().currentTree;n||(B("Transaction subscribers notified without a previous tree being present -- this is a bug in Recoil"),n=t.getState().currentTree);const o=uo(r),a=uo(n),i=ge(Jr,e=>{var t,n,r,o;return{persistence_UNSTABLE:{type:null!==(t=null===(n=e.persistence_UNSTABLE)||void 0===n?void 0:n.type)&&void 0!==t?t:"none",backButton:null!==(r=null===(o=e.persistence_UNSTABLE)||void 0===o?void 0:o.backButton)&&void 0!==r&&r}}}),s=Hr(r.dirtyAtoms,e=>o.has(e)||a.has(e));e({atomValues:o,previousAtomValues:a,atomInfo:i,modifiedAtoms:s,transactionMetadata:{...r.transactionMetadata}})},[e]))},useTransactionSubscription_DEPRECATED:co};const{peekNodeInfo:ho}=We,{useStoreRef:mo}=er;var vo=function(){const e=mo();return({key:t})=>ho(e.current,e.current.getState().currentTree,t)};const{reactMode:bo}=Q,{RecoilRoot:yo,useStoreRef:go}=er,{useMemo:_o}=o.a;var Oo=function(){"MUTABLE_SOURCE"===bo().mode&&console.warn("Warning: There are known issues using useRecoilBridgeAcrossReactRoots() in recoil_mutable_source rendering mode.  Please consider upgrading to recoil_sync_external_store mode.");const e=go().current;return _o(()=>function({children:t}){return o.a.createElement(yo,{store_INTERNAL:e},t)},[e])};const{loadableWithValue:So}=I,{initializeNode:Eo}=We,{DEFAULT_VALUE:wo,getNode:Co}=ue,{copyTreeState:To,getRecoilValueAsLoadable:Ao,invalidateDownstreams:jo,writeLoadableToTreeState:ko}=vt;function Io(e){return"atom"===Co(e.key).nodeType}class No{constructor(e,t){u(this,"_store",void 0),u(this,"_treeState",void 0),u(this,"_changes",void 0),u(this,"get",e=>{if(this._changes.has(e.key))return this._changes.get(e.key);if(!Io(e))throw s("Reading selectors within atomicUpdate is not supported");const t=Ao(this._store,e,this._treeState);if("hasValue"===t.state)return t.contents;throw"hasError"===t.state?t.contents:s(`Expected Recoil atom ${e.key} to have a value, but it is in a loading state.`)}),u(this,"set",(e,t)=>{if(!Io(e))throw s("Setting selectors within atomicUpdate is not supported");if("function"==typeof t){const n=this.get(e);this._changes.set(e.key,t(n))}else Eo(this._store,e.key,"set"),this._changes.set(e.key,t)}),u(this,"reset",e=>{this.set(e,wo)}),this._store=e,this._treeState=t,this._changes=new Map}newTreeState_INTERNAL(){if(0===this._changes.size)return this._treeState;const e=To(this._treeState);for(const[t,n]of this._changes)ko(e,t,So(n));return jo(this._store,e),e}}var xo=function(e){return t=>{e.replaceState(n=>{const r=new No(e,n);return t(r),r.newTreeState_INTERNAL()})}},Ro=Object.freeze({__proto__:null,atomicUpdater:xo});var Do=function(e,t){if(!e)throw new Error(t)};const{atomicUpdater:Mo}=Ro,{batchUpdates:Lo}=Lt,{DEFAULT_VALUE:Po}=ue,{useStoreRef:Fo}=er,{refreshRecoilValue:Bo,setRecoilValue:Uo}=vt,{cloneSnapshot:Vo}=bn,{gotoSnapshot:qo}=po,{useCallback:zo}=o.a;class Qo{}const $o=new Qo;function Wo(e,t,n,r){let o,a=$o;var i;(Lo(()=>{const i="useRecoilCallback() expects a function that returns a function: it accepts a function of the type (RecoilInterface) => (Args) => ReturnType and returns a callback function (Args) => ReturnType, where RecoilInterface is an object {snapshot, set, ...} and Args and ReturnType are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if("function"!=typeof t)throw s(i);const l=Me({...null!=r?r:{},set:(t,n)=>Uo(e,t,n),reset:t=>Uo(e,t,Po),refresh:t=>Bo(e,t),gotoSnapshot:t=>qo(e,t),transact_UNSTABLE:t=>Mo(e)(t)},{snapshot:()=>{const t=Vo(e);return o=t.retain(),t}}),c=t(l);if("function"!=typeof c)throw s(i);a=c(...n)}),a instanceof Qo&&Do(!1),l(a))?a=a.finally(()=>{var e;null===(e=o)||void 0===e||e()}):null===(i=o)||void 0===i||i();return a}var Ho={recoilCallback:Wo,useRecoilCallback:function(e,t){const n=Fo();return zo((...t)=>Wo(n.current,e,t),null!=t?[...t,n]:void 0)}};const{useStoreRef:Ko}=er,{refreshRecoilValue:Go}=vt,{useCallback:Yo}=o.a;var Xo=function(e){const t=Ko();return Yo(()=>{const n=t.current;Go(n,e)},[e,t])};const{atomicUpdater:Jo}=Ro,{useStoreRef:Zo}=er,{useMemo:ea}=o.a;var ta=function(e,t){const n=Zo();return ea(()=>(...t)=>{Jo(n.current)(n=>{e(n)(...t)})},null!=t?[...t,n]:void 0)};var na=class{constructor(e){u(this,"value",void 0),this.value=e}},ra=Object.freeze({__proto__:null,WrappedValue:na});const{isFastRefreshEnabled:oa}=Q;class aa extends Error{}var ia=class{constructor(e){var t,n,r;u(this,"_name",void 0),u(this,"_numLeafs",void 0),u(this,"_root",void 0),u(this,"_onHit",void 0),u(this,"_onSet",void 0),u(this,"_mapNodeValue",void 0),this._name=null==e?void 0:e.name,this._numLeafs=0,this._root=null,this._onHit=null!==(t=null==e?void 0:e.onHit)&&void 0!==t?t:()=>{},this._onSet=null!==(n=null==e?void 0:e.onSet)&&void 0!==n?n:()=>{},this._mapNodeValue=null!==(r=null==e?void 0:e.mapNodeValue)&&void 0!==r?r:e=>e}size(){return this._numLeafs}root(){return this._root}get(e,t){var n;return null===(n=this.getLeafNode(e,t))||void 0===n?void 0:n.value}getLeafNode(e,t){if(null==this._root)return;let n=this._root;for(;n;){if(null==t||t.onNodeVisit(n),"leaf"===n.type)return this._onHit(n),n;const r=this._mapNodeValue(e(n.nodeKey));n=n.branches.get(r)}}set(e,t,n){const r=()=>{var r,o,a,i;let s,l;for(const[t,r]of e){var c,u,d;const e=this._root;if("leaf"===(null==e?void 0:e.type))throw this.invalidCacheError();const o=s;if(s=o?o.branches.get(l):e,s=null!==(c=s)&&void 0!==c?c:{type:"branch",nodeKey:t,parent:o,branches:new Map,branchKey:l},"branch"!==s.type||s.nodeKey!==t)throw this.invalidCacheError();null==o||o.branches.set(l,s),null==n||null===(u=n.onNodeVisit)||void 0===u||u.call(n,s),l=this._mapNodeValue(r),this._root=null!==(d=this._root)&&void 0!==d?d:s}const f=s?null===(r=s)||void 0===r?void 0:r.branches.get(l):this._root;if(null!=f&&("leaf"!==f.type||f.branchKey!==l))throw this.invalidCacheError();const p={type:"leaf",value:t,parent:s,branchKey:l};null===(o=s)||void 0===o||o.branches.set(l,p),this._root=null!==(a=this._root)&&void 0!==a?a:p,this._numLeafs++,this._onSet(p),null==n||null===(i=n.onNodeVisit)||void 0===i||i.call(n,p)};try{r()}catch(e){if(!(e instanceof aa))throw e;this.clear(),r()}}delete(e){const t=this.root();if(!t)return!1;if(e===t)return this._root=null,this._numLeafs=0,!0;let n=e.parent,r=e.branchKey;for(;n;){var o;if(n.branches.delete(r),n===t)return 0===n.branches.size?(this._root=null,this._numLeafs=0):this._numLeafs--,!0;if(n.branches.size>0)break;r=null===(o=n)||void 0===o?void 0:o.branchKey,n=n.parent}for(;n!==t;n=n.parent)if(null==n)return!1;return this._numLeafs--,!0}clear(){this._numLeafs=0,this._root=null}invalidCacheError(){const e=oa()?"Possible Fast Refresh module reload detected.  This may also be caused by an selector returning inconsistent values. Resetting cache.":"Invalid cache values.  This happens when selectors do not return consistent values for the same input dependency values.  That may also be caused when using Fast Refresh to change a selector implementation.  Resetting cache.";throw B(e+(null!=this._name?" - "+this._name:"")),new aa}},sa=Object.freeze({__proto__:null,TreeCache:ia});var la=class{constructor(e){var t;u(this,"_maxSize",void 0),u(this,"_size",void 0),u(this,"_head",void 0),u(this,"_tail",void 0),u(this,"_map",void 0),u(this,"_keyMapper",void 0),this._maxSize=e.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=null!==(t=e.mapKey)&&void 0!==t?t:e=>e}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(e){return this._map.has(this._keyMapper(e))}get(e){const t=this._keyMapper(e),n=this._map.get(t);if(n)return this.set(e,n.value),n.value}set(e,t){const n=this._keyMapper(e);this._map.get(n)&&this.delete(e);const r=this.head(),o={key:e,right:r,left:null,value:t};r?r.left=o:this._tail=o,this._map.set(n,o),this._head=o,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){const e=this.tail();e&&this.delete(e.key)}delete(e){const t=this._keyMapper(e);if(!this._size||!this._map.has(t))return;const n=c(this._map.get(t)),r=n.right,o=n.left;r&&(r.left=n.left),o&&(o.right=n.right),n===this.head()&&(this._head=r),n===this.tail()&&(this._tail=o),this._map.delete(t),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}},ca=Object.freeze({__proto__:null,LRUCache:la});const{LRUCache:ua}=ca,{TreeCache:da}=sa;var fa=function({name:e,maxSize:t,mapNodeValue:n=(e=>e)}){const r=new ua({maxSize:t}),o=new da({name:e,mapNodeValue:n,onHit:e=>{r.set(e,!0)},onSet:e=>{const n=r.tail();r.set(e,!0),n&&o.size()>t&&o.delete(n.key)}});return o};var pa=function(e,t={allowFunctions:!1}){return function e(t,n,r){if("string"==typeof t&&!t.includes('"')&&!t.includes("\\"))return`"${t}"`;switch(typeof t){case"undefined":return"";case"boolean":return t?"true":"false";case"number":case"symbol":return String(t);case"string":return JSON.stringify(t);case"function":if(!0!==(null==n?void 0:n.allowFunctions))throw s("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${t.name})__`}if(null===t)return"null";var o;if("object"!=typeof t)return null!==(o=JSON.stringify(t))&&void 0!==o?o:"";if(l(t))return"__PROMISE__";if(Array.isArray(t))return`[${t.map((t,r)=>e(t,n,r.toString()))}]`;if("function"==typeof t.toJSON)return e(t.toJSON(r),n,r);if(t instanceof Map){const o={};for(const[r,a]of t)o["string"==typeof r?r:e(r,n)]=a;return e(o,n,r)}return t instanceof Set?e(Array.from(t).sort((t,r)=>e(t,n).localeCompare(e(r,n))),n,r):void 0!==Symbol&&null!=t[Symbol.iterator]&&"function"==typeof t[Symbol.iterator]?e(Array.from(t),n,r):`{${Object.keys(t).filter(e=>void 0!==t[e]).sort().map(r=>`${e(r,n)}:${e(t[r],n,r)}`).join(",")}}`}(e,t)};const{TreeCache:ha}=sa,ma={equality:"reference",eviction:"keep-all",maxSize:1/0};var va=function({equality:e=ma.equality,eviction:t=ma.eviction,maxSize:n=ma.maxSize}=ma,r){return function(e,t,n,r){switch(e){case"keep-all":return new ha({name:r,mapNodeValue:n});case"lru":return fa({name:r,maxSize:c(t),mapNodeValue:n});case"most-recent":return fa({name:r,maxSize:1,mapNodeValue:n})}throw s("Unrecognized eviction policy "+e)}(t,n,function(e){switch(e){case"reference":return e=>e;case"value":return e=>pa(e)}throw s("Unrecognized equality policy "+e)}(e),r)};const{isReactNative:ba,isWindow:ya}=Ut;var ga={startPerfBlock:function(e){return()=>null}};const{isLoadable:_a,loadableWithError:Oa,loadableWithPromise:Sa,loadableWithValue:Ea}=I,{WrappedValue:wa}=ra,{getNodeLoadable:Ca,peekNodeLoadable:Ta,setNodeValue:Aa}=We,{saveDepsToStore:ja}=Oe,{DEFAULT_VALUE:ka,getConfigDeletionHandler:Ia,getNode:Na,registerNode:xa}=ue,{isRecoilValue:Ra}=Z,{markRecoilValueModified:Da}=vt,{retainedByOptionWithDefault:Ma}=jt,{recoilCallback:La}=Ho,{startPerfBlock:Pa}=ga;class Fa{}const Ba=new Fa,Ua=[],Va=new Map,qa=(()=>{let e=0;return()=>e++})();function za(e){let t=null;const{key:n,get:r,cachePolicy_UNSTABLE:o}=e,a=null!=e.set?e.set:void 0;const i=new Set,u=va(null!=o?o:{equality:"reference",eviction:"keep-all"},n),d=Ma(e.retainedBy_UNSTABLE),f=new Map;let p=0;function h(){return!M("recoil_memory_managament_2020")||p>0}function m(e){return e.getState().knownSelectors.add(n),p++,()=>{p--}}function v(){return void 0!==Ia(n)&&!h()}function b(e,t,n,r,o){I(t,r,o),y(e,n)}function y(e,t){k(e,t)&&j(e),g(t,!0)}function g(e,n){const r=Va.get(e);if(null!=r){for(const e of r)Da(e,c(t));n&&Va.delete(e)}}function _(e,t){let n=Va.get(t);null==n&&Va.set(t,n=new Set),n.add(e)}function O(e,t,n,r,o,a){return t.then(r=>{if(!h())throw j(e),Ba;null!=a.loadingDepKey&&a.loadingDepPromise===t?n.atomValues.set(a.loadingDepKey,Ea(r)):e.getState().knownSelectors.forEach(e=>{n.atomValues.delete(e)});const i=w(e,n);if(i&&"loading"!==i.state){if((k(e,o)||null==A(e))&&y(e,o),"hasValue"===i.state)return i.contents;throw i.contents}if(!k(e,o)){const t=T(e,n);if(null!=t)return t.loadingLoadable.contents}const[s,l]=E(e,n,o);if("loading"!==s.state&&b(e,n,o,s,l),"hasError"===s.state)throw s.contents;return s.contents}).catch(t=>{if(t instanceof Fa)throw Ba;if(!h())throw j(e),Ba;const a=Oa(t);throw b(e,n,o,a,r),t})}function S(e,t,r,o){var a,s,l,c,u,d,f;(k(e,o)||t.version===(null===(a=e.getState())||void 0===a||null===(s=a.currentTree)||void 0===s?void 0:s.version)||t.version===(null===(l=e.getState())||void 0===l||null===(c=l.nextTree)||void 0===c?void 0:c.version))&&ja(n,r,e,null!==(u=null===(d=e.getState())||void 0===d||null===(f=d.nextTree)||void 0===f?void 0:f.version)&&void 0!==u?u:e.getState().currentTree.version);for(const e of r)i.add(e)}function E(e,o,a){const i=Pa(n);let u=!0,d=!0;const f=()=>{i(),d=!1};let p,m,v=!1;const y={loadingDepKey:null,loadingDepPromise:null},_=new Map;function E({key:t}){const n=Ca(e,o,t);switch(_.set(t,n),u||(S(e,o,new Set(_.keys()),a),function(e,t){if(k(e,t)){c(A(e)).stateVersions.clear(),g(t,!1)}}(e,a)),n.state){case"hasValue":return n.contents;case"hasError":throw n.contents;case"loading":throw y.loadingDepKey=t,y.loadingDepPromise=n.contents,n.contents}throw s("Invalid Loadable state")}const w=n=>(...r)=>{if(d)throw s("Callbacks from getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can work with Recoil state without a subscription.");return null==t&&Do(!1),La(e,n,r,{node:t})};try{p=r({get:E,getCallback:w}),p=Ra(p)?E(p):p,_a(p)&&("hasError"===p.state&&(v=!0),p=p.contents),l(p)?p=function(e,t,n,r,o,a){return t.then(t=>{if(!h())throw j(e),Ba;const a=Ea(t);return b(e,n,o,a,r),t}).catch(t=>{if(!h())throw j(e),Ba;if(l(t))return O(e,t,n,r,o,a);const i=Oa(t);throw b(e,n,o,i,r),t})}(e,p,o,_,a,y).finally(f):f(),p=p instanceof wa?p.value:p}catch(t){p=t,l(p)?p=O(e,p,o,_,a,y).finally(f):(v=!0,f())}return m=v?Oa(p):l(p)?Sa(p):Ea(p),u=!1,function(e,t,n){if(k(e,t)){const t=A(e);null!=t&&(t.depValuesDiscoveredSoFarDuringAsyncWork=n)}}(e,a,_),S(e,o,new Set(_.keys()),a),[m,_]}function w(e,t){let r=t.atomValues.get(n);if(null!=r)return r;const o=new Set;try{r=u.get(n=>("string"!=typeof n&&Do(!1),Ca(e,t,n).contents),{onNodeVisit:e=>{"branch"===e.type&&e.nodeKey!==n&&o.add(e.nodeKey)}})}catch(e){throw s(`Problem with cache lookup for selector "${n}": ${e.message}`)}var a;r&&(t.atomValues.set(n,r),S(e,t,o,null===(a=A(e))||void 0===a?void 0:a.executionID));return r}function C(e,t){const n=w(e,t);if(null!=n)return j(e),n;const r=T(e,t);var o;if(null!=r)return"loading"===(null===(o=r.loadingLoadable)||void 0===o?void 0:o.state)&&_(e,r.executionID),r.loadingLoadable;const a=qa(),[i,s]=E(e,t,a);return"loading"===i.state?(!function(e,t,n,r,o){f.set(e,{depValuesDiscoveredSoFarDuringAsyncWork:r,executionID:t,loadingLoadable:n,stateVersions:new Map([[o.version,!0]])})}(e,a,i,s,t),_(e,a)):(j(e),I(t,i,s)),i}function T(e,t){const n=Pt([f.has(e)?[c(f.get(e))]:[],te(De(f,([t])=>t!==e),([,e])=>e)]);function r(n){for(const[r,o]of n)if(!Ca(e,t,r).is(o))return!0;return!1}for(const e of n){if(e.stateVersions.get(t.version)||!r(e.depValuesDiscoveredSoFarDuringAsyncWork))return e.stateVersions.set(t.version,!0),e;e.stateVersions.set(t.version,!1)}}function A(e){return f.get(e)}function j(e){f.delete(e)}function k(e,t){var n;return t===(null===(n=A(e))||void 0===n?void 0:n.executionID)}function I(e,t,r){e.atomValues.set(n,t);try{u.set(function(e){return Array.from(e.entries()).map(([e,t])=>[e,t.contents])}(r),t)}catch(e){throw s(`Problem with setting cache for selector "${n}": ${e.message}`)}}function N(e,t){const r=t.atomValues.get(n);return null!=r?r:u.get(n=>{var r;return"string"!=typeof n&&Do(!1),null===(r=Ta(e,t,n))||void 0===r?void 0:r.contents})}function x(e,t){return function(e){if(Ua.includes(n)){const e="Recoil selector has circular dependencies: "+Ua.slice(Ua.indexOf(n)).join(" → ");return Oa(s(e))}Ua.push(n);try{return e()}finally{Ua.pop()}}(()=>C(e,t))}function R(e){e.atomValues.delete(n)}function D(e,n){null==t&&Do(!1);for(const t of i){var r;const o=Na(t);null===(r=o.clearCache)||void 0===r||r.call(o,e,n)}i.clear(),R(n),u.clear(),Da(e,t)}if(null!=a){return t=xa({key:n,nodeType:"selector",peek:N,get:x,set:(e,t,r)=>{let o=!1;const i=new Map;function c({key:r}){if(o)throw s("Recoil: Async selector sets are not currently supported.");const a=Ca(e,t,r);if("hasValue"===a.state)return a.contents;if("loading"===a.state){const e=`Getting value of asynchronous atom or selector "${r}" in a pending state while setting selector "${n}" is not yet supported.`;throw B(e),s(e)}throw a.contents}function u(n,r){if(o){const e="Recoil: Async selector sets are not currently supported.";throw B(e),s(e)}const a="function"==typeof r?r(c(n)):r;Aa(e,t,n.key,a).forEach((e,t)=>i.set(t,e))}const d=a({set:u,get:c,reset:function(e){u(e,ka)}},r);if(void 0!==d)throw l(d)?s("Recoil: Async selector sets are not currently supported."):s("Recoil: selector set should be a void function.");return o=!0,i},init:m,invalidate:R,clearCache:D,shouldDeleteConfigOnRelease:v,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:d})}return t=xa({key:n,nodeType:"selector",peek:N,get:x,init:m,invalidate:R,clearCache:D,shouldDeleteConfigOnRelease:v,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:d})}za.value=e=>new wa(e);var Qa=za;const{isLoadable:$a,loadableWithError:Wa,loadableWithPromise:Ha,loadableWithValue:Ka}=I,{WrappedValue:Ga}=ra,{peekNodeInfo:Ya}=We,{DEFAULT_VALUE:Xa,DefaultValue:Ja,getConfigDeletionHandler:Za,registerNode:ei,setConfigDeletionHandler:ti}=ue,{isRecoilValue:ni}=Z,{getRecoilValueAsLoadable:ri,markRecoilValueModified:oi,setRecoilValue:ai,setRecoilValueLoadable:ii}=vt,{retainedByOptionWithDefault:si}=jt,li=e=>e instanceof Ga?e.value:e;function ci(e){const{key:t,persistence_UNSTABLE:n}=e,r=si(e.retainedBy_UNSTABLE);let o=0;function a(e){return Ha(e.then(e=>(i=Ka(e),e)).catch(e=>{throw i=Wa(e),e}))}let i=l(e.default)?a(e.default):$a(e.default)?"loading"===e.default.state?a(e.default.contents):e.default:Ka(li(e.default));f(i.contents);let u=void 0;const d=new Map;function f(e){return e}function p(e,n){var r,o;return null!==(r=null!==(o=n.atomValues.get(t))&&void 0!==o?o:u)&&void 0!==r?r:i}const h=ei({key:t,nodeType:"atom",peek:p,get:function(e,r){if(r.atomValues.has(t))return c(r.atomValues.get(t));if(r.nonvalidatedAtoms.has(t)){if(null!=u)return u;if(null==n)return ee(`Tried to restore a persisted value for atom ${t} but it has no persistence settings.`),i;const e=r.nonvalidatedAtoms.get(t),o=n.validator(e,Xa),a=o instanceof Ja?i:Ka(o);return u=a,u}return i},set:function(e,n,r){if(n.atomValues.has(t)){const e=c(n.atomValues.get(t));if("hasValue"===e.state&&r===e.contents)return new Map}else if(!n.nonvalidatedAtoms.has(t)&&r instanceof Ja)return new Map;return u=void 0,(new Map).set(t,Ka(r))},init:function(n,r,a){var c;if(o++,n.getState().knownAtoms.add(t),"loading"===i.state){const e=()=>{var e;(null!==(e=n.getState().nextTree)&&void 0!==e?e:n.getState().currentTree).atomValues.has(t)||oi(n,h)};i.contents.finally(e)}const u=null!==(c=e.effects)&&void 0!==c?c:e.effects_UNSTABLE;if(null!=u){let e=Xa,o=!0,c=!1,g=null;function f(a){if(o&&a.key===t){const t=e;return t instanceof Ja?p(n,r):l(t)?Ha(t.then(e=>e instanceof Ja?i.toPromise():e)):Ka(t)}return ri(n,a)}function m(e){return f(e).toPromise()}function v(r){var a;const i=Ya(n,null!==(a=n.getState().nextTree)&&void 0!==a?a:n.getState().currentTree,r.key);return!o||r.key!==t||e instanceof Ja?i:{...i,isSet:!0,loadable:f(r)}}const _=t=>r=>{if(o){const n=f(h),o="hasValue"===n.state?n.contents:Xa;e="function"==typeof r?r(o):r,l(e)&&(e=e.then(e=>(g={effect:t,value:e},e)))}else{if(l(r))throw s("Setting atoms to async values is not implemented.");"function"!=typeof r&&(g={effect:t,value:li(r)}),ai(n,h,"function"==typeof r?e=>{const n=li(r(e));return g={effect:t,value:n},n}:li(r))}},O=e=>()=>_(e)(Xa),S=e=>r=>{var o;const{release:a}=n.subscribeToTransactions(n=>{var o;let{currentTree:a,previousTree:s}=n.getState();s||(B("Transaction subscribers notified without a next tree being present -- this is a bug in Recoil"),s=a);const l=null!==(o=a.atomValues.get(t))&&void 0!==o?o:i;if("hasValue"===l.state){var c,u,d,f;const n=l.contents,o=null!==(c=s.atomValues.get(t))&&void 0!==c?c:i,p="hasValue"===o.state?o.contents:Xa;(null===(u=g)||void 0===u?void 0:u.effect)!==e||(null===(d=g)||void 0===d?void 0:d.value)!==n?r(n,p,!a.atomValues.has(t)):(null===(f=g)||void 0===f?void 0:f.effect)===e&&(g=null)}},t);d.set(n,[...null!==(o=d.get(n))&&void 0!==o?o:[],a])};for(const t of u)try{const e=t({node:h,storeID:n.storeID,parentStoreID_UNSTABLE:n.parentStoreID,trigger:a,setSelf:_(t),resetSelf:O(t),onSet:S(t),getPromise:m,getLoadable:f,getInfo_UNSTABLE:v});var b;if(null!=e)d.set(n,[...null!==(b=d.get(n))&&void 0!==b?b:[],e])}catch(t){e=t,c=!0}if(o=!1,!(e instanceof Ja)){var y;const o=c?Wa(e):l(e)?Ha(function(e,n){const r=n.then(n=>{var o,a;return(null===(a=(null!==(o=e.getState().nextTree)&&void 0!==o?o:e.getState().currentTree).atomValues.get(t))||void 0===a?void 0:a.contents)===r&&ai(e,h,n),n}).catch(n=>{var o,a;throw(null===(a=(null!==(o=e.getState().nextTree)&&void 0!==o?o:e.getState().currentTree).atomValues.get(t))||void 0===a?void 0:a.contents)===r&&ii(e,h,Wa(n)),n});return r}(n,e)):Ka(li(e));o.contents,r.atomValues.set(t,o),null===(y=n.getState().nextTree)||void 0===y||y.atomValues.set(t,o)}}return()=>{var e;o--,null===(e=d.get(n))||void 0===e||e.forEach(e=>e()),d.delete(n)}},invalidate:function(){u=void 0},shouldDeleteConfigOnRelease:function(){return void 0!==Za(t)&&o<=0},dangerouslyAllowMutability:e.dangerouslyAllowMutability,persistence_UNSTABLE:e.persistence_UNSTABLE?{type:e.persistence_UNSTABLE.type,backButton:e.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:r});return h}function ui(e){const{...t}=e,n="default"in e?e.default:new Promise(()=>{});return ni(n)?function(e){const t=ui({...e,default:Xa,persistence_UNSTABLE:void 0===e.persistence_UNSTABLE?void 0:{...e.persistence_UNSTABLE,validator:t=>t instanceof Ja?t:c(e.persistence_UNSTABLE).validator(t,Xa)},effects:e.effects,effects_UNSTABLE:e.effects_UNSTABLE}),n=Qa({key:e.key+"__withFallback",get:({get:n})=>{const r=n(t);return r instanceof Ja?e.default:r},set:({set:e},n)=>e(t,n),cachePolicy_UNSTABLE:{eviction:"most-recent"},dangerouslyAllowMutability:e.dangerouslyAllowMutability});return ti(n.key,Za(e.key)),n}({...t,default:n}):ci({...t,default:n})}ui.value=e=>new Ga(e);var di=ui;var fi=class{constructor(e){var t;u(this,"_map",void 0),u(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=null!==(t=null==e?void 0:e.mapKey)&&void 0!==t?t:e=>e}size(){return this._map.size}has(e){return this._map.has(this._keyMapper(e))}get(e){return this._map.get(this._keyMapper(e))}set(e,t){this._map.set(this._keyMapper(e),t)}delete(e){this._map.delete(this._keyMapper(e))}clear(){this._map.clear()}},pi=Object.freeze({__proto__:null,MapCache:fi});const{LRUCache:hi}=ca,{MapCache:mi}=pi,vi={equality:"reference",eviction:"none",maxSize:1/0};var bi=function({equality:e=vi.equality,eviction:t=vi.eviction,maxSize:n=vi.maxSize}=vi){return function(e,t,n){switch(e){case"keep-all":return new mi({mapKey:n});case"lru":return new hi({mapKey:n,maxSize:c(t)});case"most-recent":return new hi({mapKey:n,maxSize:1})}throw s("Unrecognized eviction policy "+e)}(t,n,function(e){switch(e){case"reference":return e=>e;case"value":return e=>pa(e)}throw s("Unrecognized equality policy "+e)}(e))};const{setConfigDeletionHandler:yi}=ue;var gi=function(e){var t,n;const r=bi({equality:null!==(t=null===(n=e.cachePolicyForParams_UNSTABLE)||void 0===n?void 0:n.equality)&&void 0!==t?t:"value",eviction:"keep-all"});return t=>{var n,o;const a=r.get(t);if(null!=a)return a;const{cachePolicyForParams_UNSTABLE:i,...s}=e,l="default"in e?e.default:new Promise(()=>{}),c=di({...s,key:`${e.key}__${null!==(n=pa(t))&&void 0!==n?n:"void"}`,default:"function"==typeof l?l(t):l,retainedBy_UNSTABLE:"function"==typeof e.retainedBy_UNSTABLE?e.retainedBy_UNSTABLE(t):e.retainedBy_UNSTABLE,effects:"function"==typeof e.effects?e.effects(t):"function"==typeof e.effects_UNSTABLE?e.effects_UNSTABLE(t):null!==(o=e.effects)&&void 0!==o?o:e.effects_UNSTABLE});return r.set(t,c),yi(c.key,()=>{r.delete(t)}),c}};const{setConfigDeletionHandler:_i}=ue;let Oi=0;var Si=function(e){var t,n;const r=bi({equality:null!==(t=null===(n=e.cachePolicyForParams_UNSTABLE)||void 0===n?void 0:n.equality)&&void 0!==t?t:"value",eviction:"keep-all"});return t=>{var n;let o;try{o=r.get(t)}catch(t){throw s(`Problem with cache lookup for selector ${e.key}: ${t.message}`)}if(null!=o)return o;const a=`${e.key}__selectorFamily/${null!==(n=pa(t,{allowFunctions:!0}))&&void 0!==n?n:"void"}/${Oi++}`,i=n=>e.get(t)(n),l=e.cachePolicy_UNSTABLE,c="function"==typeof e.retainedBy_UNSTABLE?e.retainedBy_UNSTABLE(t):e.retainedBy_UNSTABLE;let u;if(null!=e.set){const n=e.set;u=Qa({key:a,get:i,set:(e,r)=>n(t)(e,r),cachePolicy_UNSTABLE:l,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:c})}else u=Qa({key:a,get:i,cachePolicy_UNSTABLE:l,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:c});return r.set(t,u),_i(u.key,()=>{r.delete(t)}),u}};const Ei=Si({key:"__constant",get:e=>()=>e,cachePolicyForParams_UNSTABLE:{equality:"reference"}});var wi=function(e){return Ei(e)};const Ci=Si({key:"__error",get:e=>()=>{throw s(e)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});var Ti=function(e){return Ci(e)};var Ai=function(e){return e};const{loadableWithError:ji,loadableWithPromise:ki,loadableWithValue:Ii}=I;function Ni(e,t){const n=Array(t.length).fill(void 0),r=Array(t.length).fill(void 0);for(const[o,a]of t.entries())try{n[o]=e(a)}catch(e){r[o]=e}return[n,r]}function xi(e){return null!=e&&!l(e)}function Ri(e){return Array.isArray(e)?e:Object.getOwnPropertyNames(e).map(t=>e[t])}function Di(e,t){return Array.isArray(e)?t:Object.getOwnPropertyNames(e).reduce((e,n,r)=>({...e,[n]:t[r]}),{})}function Mi(e,t,n){return Di(e,n.map((e,n)=>null==e?Ii(t[n]):l(e)?ki(e):ji(e)))}var Li={waitForNone:Si({key:"__waitForNone",get:e=>({get:t})=>{const n=Ri(e),[r,o]=Ni(t,n);return Mi(e,r,o)},dangerouslyAllowMutability:!0}),waitForAny:Si({key:"__waitForAny",get:e=>({get:t})=>{const n=Ri(e),[r,o]=Ni(t,n);return o.some(e=>!l(e))?Mi(e,r,o):new Promise(t=>{for(const[n,a]of o.entries())l(a)&&a.then(a=>{r[n]=a,o[n]=void 0,t(Mi(e,r,o))}).catch(a=>{o[n]=a,t(Mi(e,r,o))})})},dangerouslyAllowMutability:!0}),waitForAll:Si({key:"__waitForAll",get:e=>({get:t})=>{const n=Ri(e),[r,o]=Ni(t,n);if(o.every(e=>null==e))return Di(e,r);const a=o.find(xi);if(null!=a)throw a;return Promise.all(o).then(t=>{return Di(e,(n=r,t.map((e,t)=>void 0===e?n[t]:e)));var n})},dangerouslyAllowMutability:!0}),waitForAllSettled:Si({key:"__waitForAllSettled",get:e=>({get:t})=>{const n=Ri(e),[r,o]=Ni(t,n);return o.every(e=>!l(e))?Mi(e,r,o):Promise.all(o.map((e,t)=>l(e)?e.then(e=>{r[t]=e,o[t]=void 0}).catch(e=>{r[t]=void 0,o[t]=e}):null)).then(()=>Mi(e,r,o))},dangerouslyAllowMutability:!0}),noWait:Si({key:"__noWait",get:e=>({get:t})=>{try{return Qa.value(Ii(t(e)))}catch(e){return Qa.value(l(e)?ki(e):ji(e))}},dangerouslyAllowMutability:!0})};const{RecoilLoadable:Pi}=I,{DefaultValue:Fi}=ue,{RecoilRoot:Bi,useRecoilStoreID:Ui}=er,{isRecoilValue:Vi}=Z,{retentionZone:qi}=xe,{freshSnapshot:zi}=bn,{useRecoilState:Qi,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:$i,useRecoilStateLoadable:Wi,useRecoilValue:Hi,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:Ki,useRecoilValueLoadable:Gi,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:Yi,useResetRecoilState:Xi,useSetRecoilState:Ji}=$r,{useGotoRecoilSnapshot:Zi,useRecoilSnapshot:es,useRecoilTransactionObserver:ts}=po,{useRecoilCallback:ns}=Ho,{noWait:rs,waitForAll:os,waitForAllSettled:as,waitForAny:is,waitForNone:ss}=Li;var ls={DefaultValue:Fi,isRecoilValue:Vi,RecoilLoadable:Pi,RecoilEnv:R,RecoilRoot:Bi,useRecoilStoreID:Ui,useRecoilBridgeAcrossReactRoots_UNSTABLE:Oo,atom:di,selector:Qa,atomFamily:gi,selectorFamily:Si,constSelector:wi,errorSelector:Ti,readOnlySelector:Ai,noWait:rs,waitForNone:ss,waitForAny:is,waitForAll:os,waitForAllSettled:as,useRecoilValue:Hi,useRecoilValueLoadable:Gi,useRecoilState:Qi,useRecoilStateLoadable:Wi,useSetRecoilState:Ji,useResetRecoilState:Xi,useGetRecoilValueInfo_UNSTABLE:vo,useRecoilRefresher_UNSTABLE:Xo,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:Yi,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:Ki,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:$i,useRecoilCallback:ns,useRecoilTransaction_UNSTABLE:ta,useGotoRecoilSnapshot:Zi,useRecoilSnapshot:es,useRecoilTransactionObserver_UNSTABLE:ts,snapshot_UNSTABLE:zi,useRetain:fr,retentionZone:qi},cs=ls.RecoilRoot,us=ls.atom,ds=ls.selector,fs=ls.atomFamily,ps=ls.selectorFamily,hs=ls.useRecoilValue,ms=ls.useRecoilState,vs=ls.useSetRecoilState}).call(this,n(97))},function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"e",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"f",(function(){return c}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function i(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((r=r.apply(e,t||[])).next())}))}function l(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function c(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var a=arguments[t],i=0,s=a.length;i<s;i++,o++)r[o]=a[i];return r}},function(e,t,n){"use strict";var r,o=n(40),a=(r=o)&&r.__esModule?r:{default:r};e.exports=(0,a.default)("NeosProjectPackages")().ReactUiComponents},function(e,t,n){"use strict";var r=n(36);n.o(r,"ApolloClient")&&n.d(t,"ApolloClient",(function(){return r.ApolloClient})),n.o(r,"ApolloLink")&&n.d(t,"ApolloLink",(function(){return r.ApolloLink})),n.o(r,"ApolloProvider")&&n.d(t,"ApolloProvider",(function(){return r.ApolloProvider})),n.o(r,"InMemoryCache")&&n.d(t,"InMemoryCache",(function(){return r.InMemoryCache})),n.o(r,"defaultDataIdFromObject")&&n.d(t,"defaultDataIdFromObject",(function(){return r.defaultDataIdFromObject})),n.o(r,"gql")&&n.d(t,"gql",(function(){return r.gql})),n.o(r,"useApolloClient")&&n.d(t,"useApolloClient",(function(){return r.useApolloClient})),n.o(r,"useLazyQuery")&&n.d(t,"useLazyQuery",(function(){return r.useLazyQuery})),n.o(r,"useMutation")&&n.d(t,"useMutation",(function(){return r.useMutation})),n.o(r,"useQuery")&&n.d(t,"useQuery",(function(){return r.useQuery}));var o=n(119);n.o(o,"ApolloClient")&&n.d(t,"ApolloClient",(function(){return o.ApolloClient})),n.o(o,"ApolloLink")&&n.d(t,"ApolloLink",(function(){return o.ApolloLink})),n.o(o,"ApolloProvider")&&n.d(t,"ApolloProvider",(function(){return o.ApolloProvider})),n.o(o,"InMemoryCache")&&n.d(t,"InMemoryCache",(function(){return o.InMemoryCache})),n.o(o,"defaultDataIdFromObject")&&n.d(t,"defaultDataIdFromObject",(function(){return o.defaultDataIdFromObject})),n.o(o,"gql")&&n.d(t,"gql",(function(){return o.gql})),n.o(o,"useApolloClient")&&n.d(t,"useApolloClient",(function(){return o.useApolloClient})),n.o(o,"useLazyQuery")&&n.d(t,"useLazyQuery",(function(){return o.useLazyQuery})),n.o(o,"useMutation")&&n.d(t,"useMutation",(function(){return o.useMutation})),n.o(o,"useQuery")&&n.d(t,"useQuery",(function(){return o.useQuery}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return r.d})),n.d(t,"d",(function(){return r.f})),n.d(t,"e",(function(){return r.g})),n.d(t,"f",(function(){return r.h})),n.d(t,"c",(function(){return o}));var r=n(24);const o=n(4).gql`
    # Define the apollo specific directives here to prevent schema warnings in the IDE
    directive @client(always: Boolean!) on FIELD
    directive @export(as: String!) on FIELD

    # TODO: Can this type be removed or moved to the root schema?
    type AssetIdentity {
        id: AssetId!
        assetSourceId: AssetSourceId!
    }
`;n(38),n(11),n(48)},function(e,t,n){"use strict";n.d(t,"L",(function(){return a})),n.d(t,"y",(function(){return i})),n.d(t,"x",(function(){return s})),n.d(t,"k",(function(){return u})),n.d(t,"p",(function(){return c})),n.d(t,"o",(function(){return d})),n.d(t,"r",(function(){return T})),n.d(t,"s",(function(){return A})),n.d(t,"n",(function(){return j})),n.d(t,"t",(function(){return k})),n.d(t,"q",(function(){return I})),n.d(t,"m",(function(){return N})),n.d(t,"E",(function(){return h})),n.d(t,"C",(function(){return m})),n.d(t,"z",(function(){return E})),n.d(t,"A",(function(){return w})),n.d(t,"M",(function(){return b})),n.d(t,"e",(function(){return _})),n.d(t,"K",(function(){return O})),n.d(t,"u",(function(){return g})),n.d(t,"v",(function(){return S})),n.d(t,"d",(function(){return P})),n.d(t,"g",(function(){return U})),n.d(t,"J",(function(){return B})),n.d(t,"I",(function(){return V})),n.d(t,"c",(function(){return G.a})),n.d(t,"G",(function(){return z})),n.d(t,"H",(function(){return Q})),n.d(t,"b",(function(){return H})),n.d(t,"i",(function(){return J})),n.d(t,"F",(function(){return Z})),n.d(t,"D",(function(){return ee})),n.d(t,"f",(function(){return te})),n.d(t,"a",(function(){return oe})),n.d(t,"l",(function(){return ne})),n.d(t,"B",(function(){return ae})),n.d(t,"w",(function(){return ie})),n.d(t,"h",(function(){return se})),n.d(t,"j",(function(){return le}));var r=n(135),o=n(8);function a(e,t){var n=e.directives;return!n||!n.length||function(e){var t=[];e&&e.length&&e.forEach((function(e){if("skip"===(n=e.name.value)||"include"===n){var n,r=e.arguments;e.name.value;Object(o.b)(r&&1===r.length,39);var a=r[0];Object(o.b)(a.name&&"if"===a.name.value,40);var i=a.value;Object(o.b)(i&&("Variable"===i.kind||"BooleanValue"===i.kind),41),t.push({directive:e,ifArgument:a})}}));return t}(n).every((function(e){var n=e.directive,r=e.ifArgument,a=!1;return"Variable"===r.value.kind?(a=t&&t[r.value.name.value],Object(o.b)(void 0!==a,38)):a=r.value.value,"skip"===n.name.value?!a:a}))}function i(e,t){return function(e){var t=[];return Object(r.b)(e,{Directive:function(e){t.push(e.name.value)}}),t}(t).some((function(t){return e.indexOf(t)>-1}))}function s(e){return e&&i(["client"],e)&&i(["export"],e)}var l=n(2);function c(e,t){var n=t,r=[];return e.definitions.forEach((function(e){if("OperationDefinition"===e.kind)throw new o.a(42);"FragmentDefinition"===e.kind&&r.push(e)})),void 0===n&&(Object(o.b)(1===r.length,43),n=r[0].name.value),Object(l.a)(Object(l.a)({},e),{definitions:Object(l.f)([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:n}}]}}],e.definitions)})}function u(e){void 0===e&&(e=[]);var t={};return e.forEach((function(e){t[e.name.value]=e})),t}function d(e,t){switch(e.kind){case"InlineFragment":return e;case"FragmentSpread":var n=t&&t[e.name.value];return Object(o.b)(n,44),n;default:return null}}var f=n(136),p=n.n(f);function h(e){return{__ref:String(e)}}function m(e){return Boolean(e&&"object"==typeof e&&"string"==typeof e.__ref)}function v(e,t,n,r){if(function(e){return"IntValue"===e.kind}(n)||function(e){return"FloatValue"===e.kind}(n))e[t.value]=Number(n.value);else if(function(e){return"BooleanValue"===e.kind}(n)||function(e){return"StringValue"===e.kind}(n))e[t.value]=n.value;else if(function(e){return"ObjectValue"===e.kind}(n)){var a={};n.fields.map((function(e){return v(a,e.name,e.value,r)})),e[t.value]=a}else if(function(e){return"Variable"===e.kind}(n)){var i=(r||{})[n.name.value];e[t.value]=i}else if(function(e){return"ListValue"===e.kind}(n))e[t.value]=n.values.map((function(e){var n={};return v(n,t,e,r),n[t.value]}));else if(function(e){return"EnumValue"===e.kind}(n))e[t.value]=n.value;else{if(!function(e){return"NullValue"===e.kind}(n))throw new o.a(53);e[t.value]=null}}function b(e,t){var n=null;e.directives&&(n={},e.directives.forEach((function(e){n[e.name.value]={},e.arguments&&e.arguments.forEach((function(r){var o=r.name,a=r.value;return v(n[e.name.value],o,a,t)}))})));var r=null;return e.arguments&&e.arguments.length&&(r={},e.arguments.forEach((function(e){var n=e.name,o=e.value;return v(r,n,o,t)}))),g(e.name.value,r,n)}var y=["connection","include","skip","client","rest","export"];function g(e,t,n){if(t&&n&&n.connection&&n.connection.key){if(n.connection.filter&&n.connection.filter.length>0){var r=n.connection.filter?n.connection.filter:[];r.sort();var o={};return r.forEach((function(e){o[e]=t[e]})),n.connection.key+"("+JSON.stringify(o)+")"}return n.connection.key}var a=e;if(t){var i=p()(t);a+="("+i+")"}return n&&Object.keys(n).forEach((function(e){-1===y.indexOf(e)&&(n[e]&&Object.keys(n[e]).length?a+="@"+e+"("+JSON.stringify(n[e])+")":a+="@"+e)})),a}function _(e,t){if(e.arguments&&e.arguments.length){var n={};return e.arguments.forEach((function(e){var r=e.name,o=e.value;return v(n,r,o,t)})),n}return null}function O(e){return e.alias?e.alias.value:e.name.value}function S(e,t,n){if("string"==typeof e.__typename)return e.__typename;for(var r=0,o=t.selections;r<o.length;r++){var a=o[r];if(E(a)){if("__typename"===a.name.value)return e[O(a)]}else{var i=S(e,d(a,n).selectionSet,n);if("string"==typeof i)return i}}}function E(e){return"Field"===e.kind}function w(e){return"InlineFragment"===e.kind}function C(e){Object(o.b)(e&&"Document"===e.kind,45);var t=e.definitions.filter((function(e){return"FragmentDefinition"!==e.kind})).map((function(e){if("OperationDefinition"!==e.kind)throw new o.a(46);return e}));return Object(o.b)(t.length<=1,47),e}function T(e){return C(e),e.definitions.filter((function(e){return"OperationDefinition"===e.kind}))[0]}function A(e){return e.definitions.filter((function(e){return"OperationDefinition"===e.kind&&e.name})).map((function(e){return e.name.value}))[0]||null}function j(e){return e.definitions.filter((function(e){return"FragmentDefinition"===e.kind}))}function k(e){var t=T(e);return Object(o.b)(t&&"query"===t.operation,48),t}function I(e){var t;C(e);for(var n=0,r=e.definitions;n<r.length;n++){var a=r[n];if("OperationDefinition"===a.kind){var i=a.operation;if("query"===i||"mutation"===i||"subscription"===i)return a}"FragmentDefinition"!==a.kind||t||(t=a)}if(t)return t;throw new o.a(52)}function N(e){var t=Object.create(null),n=e&&e.variableDefinitions;return n&&n.length&&n.forEach((function(e){e.defaultValue&&v(t,e.variable.name,e.defaultValue)})),t}function x(e,t,n){var r=0;return e.forEach((function(n,o){t.call(this,n,o,e)&&(e[r++]=n)}),n),e.length=r,e}var R={kind:"Field",name:{kind:"Name",value:"__typename"}};function D(e){return function e(t,n){return t.selectionSet.selections.every((function(t){return"FragmentSpread"===t.kind&&e(n[t.name.value],n)}))}(T(e)||function(e){Object(o.b)("Document"===e.kind,49),Object(o.b)(e.definitions.length<=1,50);var t=e.definitions[0];return Object(o.b)("FragmentDefinition"===t.kind,51),t}(e),u(j(e)))?null:e}function M(e){return function(t){return e.some((function(e){return e.name&&e.name===t.name.value||e.test&&e.test(t)}))}}function L(e,t){var n=Object.create(null),o=[],a=Object.create(null),i=[],s=D(Object(r.b)(t,{Variable:{enter:function(e,t,r){"VariableDefinition"!==r.kind&&(n[e.name.value]=!0)}},Field:{enter:function(t){if(e&&t.directives&&(e.some((function(e){return e.remove}))&&t.directives&&t.directives.some(M(e))))return t.arguments&&t.arguments.forEach((function(e){"Variable"===e.value.kind&&o.push({name:e.value.name.value})})),t.selectionSet&&function e(t){var n=[];return t.selections.forEach((function(t){(E(t)||w(t))&&t.selectionSet?e(t.selectionSet).forEach((function(e){return n.push(e)})):"FragmentSpread"===t.kind&&n.push(t)})),n}(t.selectionSet).forEach((function(e){i.push({name:e.name.value})})),null}},FragmentSpread:{enter:function(e){a[e.name.value]=!0}},Directive:{enter:function(t){if(M(e)(t))return null}}}));return s&&x(o,(function(e){return!!e.name&&!n[e.name]})).length&&(s=function(e,t){var n=function(e){return function(t){return e.some((function(e){return t.value&&"Variable"===t.value.kind&&t.value.name&&(e.name===t.value.name.value||e.test&&e.test(t))}))}}(e);return D(Object(r.b)(t,{OperationDefinition:{enter:function(t){return Object(l.a)(Object(l.a)({},t),{variableDefinitions:t.variableDefinitions?t.variableDefinitions.filter((function(t){return!e.some((function(e){return e.name===t.variable.name.value}))})):[]})}},Field:{enter:function(t){if(e.some((function(e){return e.remove}))){var r=0;if(t.arguments&&t.arguments.forEach((function(e){n(e)&&(r+=1)})),1===r)return null}}},Argument:{enter:function(e){if(n(e))return null}}}))}(o,s)),s&&x(i,(function(e){return!!e.name&&!a[e.name]})).length&&(s=function(e,t){function n(t){if(e.some((function(e){return e.name===t.name.value})))return null}return D(Object(r.b)(t,{FragmentSpread:{enter:n},FragmentDefinition:{enter:n}}))}(i,s)),s}function P(e){return Object(r.b)(C(e),{SelectionSet:{enter:function(e,t,n){if(!n||"OperationDefinition"!==n.kind){var r=e.selections;if(r)if(!r.some((function(e){return E(e)&&("__typename"===e.name.value||0===e.name.value.lastIndexOf("__",0))}))){var o=n;if(!(E(o)&&o.directives&&o.directives.some((function(e){return"export"===e.name.value}))))return Object(l.a)(Object(l.a)({},e),{selections:Object(l.f)(r,[R])})}}}}})}P.added=function(e){return e===R};var F={test:function(e){var t="connection"===e.name.value;return t&&(!e.arguments||e.arguments.some((function(e){return"key"===e.name.value}))),t}};function B(e){return L([F],C(e))}function U(e){return"query"===I(e).operation?e:Object(r.b)(e,{OperationDefinition:{enter:function(e){return Object(l.a)(Object(l.a)({},e),{operation:"query"})}}})}function V(e){C(e);var t=L([{test:function(e){return"client"===e.name.value},remove:!0}],e);return t&&(t=Object(r.b)(t,{FragmentDefinition:{enter:function(e){if(e.selectionSet&&e.selectionSet.selections.every((function(e){return E(e)&&"__typename"===e.name.value})))return null}}})),t}var q=Object.prototype.hasOwnProperty;function z(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Q(e)}function Q(e){var t=e[0]||{},n=e.length;if(n>1)for(var r=new H,o=1;o<n;++o)t=r.merge(t,e[o]);return t}function $(e){return null!==e&&"object"==typeof e}var W=function(e,t,n){return this.merge(e[n],t[n])},H=function(){function e(e){void 0===e&&(e=W),this.reconciler=e,this.isObject=$,this.pastCopies=new Set}return e.prototype.merge=function(e,t){for(var n=this,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];return $(t)&&$(e)?(Object.keys(t).forEach((function(o){if(q.call(e,o)){var a=e[o];if(t[o]!==a){var i=n.reconciler.apply(n,Object(l.f)([e,t,o],r));i!==a&&((e=n.shallowCopyForMerge(e))[o]=i)}}else(e=n.shallowCopyForMerge(e))[o]=t[o]})),e):t},e.prototype.shallowCopyForMerge=function(e){return $(e)&&!this.pastCopies.has(e)&&(e=Array.isArray(e)?e.slice(0):Object(l.a)({__proto__:Object.getPrototypeOf(e)},e),this.pastCopies.add(e)),e},e}();var K=n(100),G=n.n(K),Y=(n(176),G.a.prototype);Y["@@observable"]||(Y["@@observable"]=function(){return this});var X=Object.prototype.toString;function J(e){return function e(t,n){switch(X.call(t)){case"[object Array]":if((n=n||new Map).has(t))return n.get(t);var r=t.slice(0);return n.set(t,r),r.forEach((function(t,o){r[o]=e(t,n)})),r;case"[object Object]":if((n=n||new Map).has(t))return n.get(t);var o=Object.create(Object.getPrototypeOf(t));return n.set(t,o),Object.keys(t).forEach((function(r){o[r]=e(t[r],n)})),o;default:return t}}(e)}n(178);function Z(e){return e}function ee(e,t,n){var r=[];e.forEach((function(e){return e[t]&&r.push(e)})),r.forEach((function(e){return e[t](n)}))}function te(e,t,n){return new G.a((function(r){var o=r.next,a=r.error,i=r.complete,s=0,l=!1,c={then:function(e){return new Promise((function(t){return t(e())}))}};function u(e,t){return e?function(t){++s;var n=function(){return e(t)};c=c.then(n,n).then((function(e){--s,o&&o.call(r,e),l&&d.complete()}),(function(e){throw--s,e})).catch((function(e){a&&a.call(r,e)}))}:function(e){return t&&t.call(r,e)}}var d={next:u(t,o),error:u(n,a),complete:function(){l=!0,s||i&&i.call(r)}},f=e.subscribe(d);return function(){return f.unsubscribe()}}))}function ne(e){function t(t){Object.defineProperty(e,t,{value:G.a})}return"function"==typeof Symbol&&Symbol.species&&t(Symbol.species),t("@@species"),e}function re(e){return e&&"function"==typeof e.then}var oe=function(e){function t(t){var n=e.call(this,(function(e){return n.addObserver(e),function(){return n.removeObserver(e)}}))||this;return n.observers=new Set,n.addCount=0,n.promise=new Promise((function(e,t){n.resolve=e,n.reject=t})),n.handlers={next:function(e){null!==n.sub&&(n.latest=["next",e],ee(n.observers,"next",e))},error:function(e){var t=n.sub;null!==t&&(t&&Promise.resolve().then((function(){return t.unsubscribe()})),n.sub=null,n.latest=["error",e],n.reject(e),ee(n.observers,"error",e))},complete:function(){if(null!==n.sub){var e=n.sources.shift();e?re(e)?e.then((function(e){return n.sub=e.subscribe(n.handlers)})):n.sub=e.subscribe(n.handlers):(n.sub=null,n.latest&&"next"===n.latest[0]?n.resolve(n.latest[1]):n.resolve(),ee(n.observers,"complete"))}}},n.cancel=function(e){n.reject(e),n.sources=[],n.handlers.complete()},n.promise.catch((function(e){})),"function"==typeof t&&(t=[new G.a(t)]),re(t)?t.then((function(e){return n.start(e)}),n.handlers.error):n.start(t),n}return Object(l.c)(t,e),t.prototype.start=function(e){void 0===this.sub&&(this.sources=Array.from(e),this.handlers.complete())},t.prototype.deliverLastMessage=function(e){if(this.latest){var t=this.latest[0],n=e[t];n&&n.call(e,this.latest[1]),null===this.sub&&"next"===t&&e.complete&&e.complete()}},t.prototype.addObserver=function(e){this.observers.has(e)||(this.deliverLastMessage(e),this.observers.add(e),++this.addCount)},t.prototype.removeObserver=function(e,t){this.observers.delete(e)&&--this.addCount<1&&!t&&this.handlers.error(new Error("Observable cancelled prematurely"))},t.prototype.cleanup=function(e){var t=this,n=!1,r=function(){n||(n=!0,t.observers.delete(o),e())},o={next:r,error:r,complete:r},a=this.addCount;this.addObserver(o),this.addCount=a},t}(G.a);function ae(e){return Array.isArray(e)&&e.length>0}function ie(e){return e.errors&&e.errors.length>0||!1}ne(oe);var se="function"==typeof WeakMap&&!("object"==typeof navigator&&"ReactNative"===navigator.product);function le(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Object.create(null);return e.forEach((function(e){e&&Object.keys(e).forEach((function(t){var r=e[t];void 0!==r&&(n[t]=r)}))})),n}},function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return u})),n.d(t,"h",(function(){return d})),n.d(t,"i",(function(){return s.a})),n.d(t,"j",(function(){return p})),n.d(t,"k",(function(){return S})),n.d(t,"l",(function(){return O})),n.d(t,"n",(function(){return g})),n.d(t,"o",(function(){return E})),n.d(t,"m",(function(){return C})),n.d(t,"p",(function(){return T.c})),n.d(t,"a",(function(){return b}));var r=n(1);const o=Object(r.b)({key:"AvailableAssetsState",default:[]}),a=Object(r.d)({key:"AvailableAssetIdentitiesState",get:({get:e})=>e(o).map(e=>({assetId:e.id,assetSourceId:e.assetSource.id}))}),i=Object(r.b)({key:"ConstraintsState",default:{assetSources:[],mediaTypes:[]}});var s=n(22);const l=Object(r.b)({key:"currentPageState",default:1,effects:[Object(s.a)("currentPageState",e=>isNaN(e)?1:e)]}),c=Object(r.b)({key:"FeatureFlagsState",default:{useNewMediaSelection:!0,queryAssetUsage:!1,pollForChanges:!0,showSimilarAssets:!1,showVariantsEditor:!1,createAssetRedirectsOption:!0,pagination:{assetsPerPage:20,maximumLinks:5},propertyEditor:{collapsed:!1},limitToSingleAssetCollectionPerAsset:!0,mediaTypeFilterOptions:{all:{},image:{},video:{},document:{},audio:{}}}}),u=Object(r.b)({key:"InitialLoadCompleteState",default:!1}),d=Object(r.b)({key:"loadingState",default:!1});var f=n(53);const p=Object(r.b)({key:"searchTermState",default:f.a.fromString(""),effects:[Object(s.a)("searchTermState",({value:e})=>{const t=f.a.fromString(e);return t.empty()?void 0:t})]});var h=n(14),m=n(12),v=n(20);const b=Object(r.b)({key:"applicationContext",default:"browser"}),y=Object(r.c)({key:"selectedInspectorViewForContextState",default:null,effects:e=>[Object(s.a)("selectedInspectorViewState",void 0,e)]}),g=Object(r.d)({key:"selectedInspectorViewState",get:({get:e})=>e(y(e(b))),set:({get:e,set:t},n)=>t(y(e(b)),n)}),_=Object(r.c)({key:"selectedAssetIdForContextState",default:null,effects:e=>[Object(s.a)("selectedAssetIdForContextState",void 0,e)]}),O=Object(r.d)({key:"selectedAssetIdState",get:({get:e})=>e(_(e(b))),set:({get:e,set:t},n)=>t(_(e(b)),n)}),S=Object(r.d)({key:"SelectedTagIdProxySelector",get:({get:e})=>({tagId:e(h.c),assetCollectionId:e(m.f)}),set:({set:e},t)=>{e(g,t.tagId?"tag":"assetCollection"),e(h.c,t.tagId),e(O,null),e(l,1),e(m.f,t.assetCollectionId),e(v.f,!1)}}),E=Object(r.b)({key:"selectedMediaTypeState",default:"",effects:[Object(s.a)("selectedMediaTypeState")]}),w=Object(r.b)({key:"selectedAssetTypeInternalState",default:"",effects:[Object(s.a)("selectedAssetTypeState")]}),C=Object(r.d)({key:"selectedAssetTypeState",get:({get:e})=>{const t=e(w),n=e(i);return(null==n?void 0:n.assetType)?n.assetType:t},set:({get:e,set:t},n)=>{const r=e(i);(null==r?void 0:r.assetType)&&r.assetType!==n&&(n=r.assetType),t(w,n)}});var T=n(31)},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return d}));var r=n(134),o=Object.setPrototypeOf,a=void 0===o?function(e,t){return e.__proto__=t,e}:o,i=function(e){function t(n){void 0===n&&(n="Invariant Violation");var r=e.call(this,"number"==typeof n?"Invariant Violation: "+n+" (see https://github.com/apollographql/invariant-packages)":n)||this;return r.framesToPop=1,r.name="Invariant Violation",a(r,t.prototype),r}return Object(r.a)(t,e),t}(Error);function s(e,t){if(!e)throw new i(t)}var l=["log","warn","error","silent"],c=l.indexOf("log");function u(e){return function(){if(l.indexOf(e)>=c)return console[e].apply(console,arguments)}}function d(e){var t=l[c];return c=Math.max(0,l.indexOf(e)),t}!function(e){e.log=u("log"),e.warn=u("warn"),e.error=u("error")}(s||(s={}));"object"==typeof e&&e.env}).call(this,n(97))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return S})),n.d(t,"f",(function(){return E})),n.d(t,"g",(function(){return w})),n.d(t,"h",(function(){return T})),n.d(t,"i",(function(){return A})),n.d(t,"j",(function(){return j})),n.d(t,"k",(function(){return k})),n.d(t,"l",(function(){return I}));var r=n(84),o=n(4),a=n(37);function i(e){const{data:t,loading:n,refetch:r}=Object(o.useQuery)(a.a,{variables:{id:null==e?void 0:e.assetId,assetSourceId:null==e?void 0:e.assetSourceId},skip:!e});return{asset:(null==t?void 0:t.asset)||null,loading:n,refetch:r}}var s=n(0),l=n(1),c=n(14),u=n(12),d=n(23),f=n(7);var p=()=>{const{pagination:{assetsPerPage:e}}=Object(l.g)(f.f),t=Object(l.g)(f.j),n=Object(l.g)(u.f),r=Object(l.g)(d.d),i=Object(l.g)(c.c),p=Object(l.g)(f.o),h=Object(l.g)(f.m),m=Object(l.g)(f.p),v=Object(l.g)(f.e),b=Object(l.h)(f.h),y=Object(l.h)(f.g),[g,_]=Object(l.f)(f.c),O=(v-1)*e,[S,{loading:E,error:w,data:C,refetch:T}]=Object(o.useLazyQuery)(a.b,{notifyOnNetworkStatusChange:!1,variables:{searchTerm:t.toString(),assetSourceId:r,assetCollectionId:n,assetType:h,mediaType:p,tagId:i,limit:e,offset:O,sortBy:m.sortBy,sortDirection:m.sortDirection}});return Object(s.useEffect)(()=>{E||(S({variables:{searchTerm:t.toString(),assetSourceId:r,assetCollectionId:n,assetType:h,mediaType:p,tagId:i,limit:e,offset:O,sortBy:m.sortBy,sortDirection:m.sortDirection}}),b(!0))},[S,E,O,t,r,n,p,i,m,h,e,b]),Object(s.useEffect)(()=>{!E&&C&&(_(e=>C&&JSON.stringify(e)==JSON.stringify(C.assets)?e:C.assets||[]),b(!1),y(!0))},[E,C,_,y,b]),{error:w,assets:g,refetch:T}};var h=()=>{const{data:e,loading:t}=Object(o.useQuery)(a.d);return{config:null==e?void 0:e.config,loading:t}};var m=o.gql`
    mutation DeleteAsset($id: AssetId!, $assetSourceId: AssetSourceId!) {
        deleteAsset(id: $id, assetSourceId: $assetSourceId) {
            success
            messages
        }
    }
`,v=n(21);var b=o.gql`
    mutation ImportAsset($id: AssetId!, $assetSourceId: AssetSourceId!, $includeUsage: Boolean = false) {
        includeUsage @client(always: true) @export(as: "includeUsage")
        importAsset(id: $id, assetSourceId: $assetSourceId) {
            ...AssetProps
        }
    }
    ${v.a}
`;var y=o.gql`
    mutation SetAssetCollections(
        $id: AssetId!
        $assetSourceId: AssetSourceId!
        $assetCollectionIds: [AssetCollectionId!]!
    ) {
        setAssetCollections(id: $id, assetSourceId: $assetSourceId, assetCollectionIds: $assetCollectionIds)
    }
`;var g=o.gql`
    mutation SetAssetTags(
        $id: AssetId!
        $assetSourceId: AssetSourceId!
        $tagIds: [TagId!]!
        $includeUsage: Boolean = false
    ) {
        includeUsage @client(always: true) @export(as: "includeUsage")
        setAssetTags(id: $id, assetSourceId: $assetSourceId, tagIds: $tagIds) {
            ...AssetProps
        }
    }
    ${v.a}
`;o.gql`
    mutation TagAsset($id: AssetId!, $assetSourceId: AssetSourceId!, $tagId: TagId!, $includeUsage: Boolean = false) {
        includeUsage @client(always: true) @export(as: "includeUsage")
        tagAsset(id: $id, assetSourceId: $assetSourceId, tagId: $tagId) {
            ...AssetProps
        }
    }
    ${v.a}
`;o.gql`
    mutation UntagAsset($id: AssetId!, $assetSourceId: AssetSourceId!, $tagId: TagId!, $includeUsage: Boolean = false) {
        includeUsage @client(always: true) @export(as: "includeUsage")
        untagAsset(id: $id, assetSourceId: $assetSourceId, tagId: $tagId) {
            ...AssetProps
        }
    }
    ${v.a}
`;var _=o.gql`
    mutation UpdateAsset(
        $id: AssetId!
        $assetSourceId: AssetSourceId!
        $label: String
        $caption: String
        $copyrightNotice: String
        $includeUsage: Boolean = false
    ) {
        includeUsage @client(always: true) @export(as: "includeUsage")
        updateAsset(
            id: $id
            assetSourceId: $assetSourceId
            label: $label
            caption: $caption
            copyrightNotice: $copyrightNotice
        ) {
            ...AssetProps
        }
    }
    ${v.a}
`,O=n(38);function S(){const[e,{error:t,data:n}]=Object(o.useMutation)(m),r=Object(l.h)(f.l),i=O.b;return{deleteAsset:({assetId:t,assetSourceId:n})=>e({variables:{id:t,assetSourceId:n},refetchQueries:[{query:a.a,variables:{id:t,assetSourceId:n}},"ASSET_COLLECTIONS"],update:(e,{data:{deleteAsset:n}})=>{n&&(e.evict({id:e.identify({__typename:"Asset",id:t})}),e.gc())}}).then(({data:{deleteAsset:e}})=>{if(!e.success)throw new Error(e.messages.join(", "));i({assetId:t,assetSourceId:n}),r(e=>(null==e?void 0:e.assetId)===t?null:e)}),data:n,error:t}}function E(e){return e}function w(){const[e,{error:t,data:n,loading:r}]=Object(o.useMutation)(b);return{importAsset:t=>e({variables:{id:t.assetId,assetSourceId:t.assetSourceId}}),data:n,error:t,loading:r}}var C=n(24);var T=()=>{const e=Object(l.h)(f.l),t=Object(l.h)(f.n),{handleSelectAsset:n,selectionMode:r}=Object(C.g)();return Object(s.useCallback)(o=>{o&&(n(o),r||(e(o),t("asset")))},[r,e,n,t])};var A=()=>{const e=Object(l.g)(f.l),{asset:t}=i(e);return t};function j(){const[e,{error:t,data:n,loading:r}]=Object(o.useMutation)(y);return{setAssetCollections:({asset:t,assetCollections:n})=>e({variables:{id:t.id,assetSourceId:t.assetSource.id,assetCollectionIds:n.map(e=>e.id)},optimisticResponse:!0,refetchQueries:["ASSETS","ASSET_COLLECTIONS"],update:(e,{data:r})=>{r&&e.modify({id:e.identify({__typename:"Asset",id:t.id}),fields:{assetCollections:()=>null==n?void 0:n.map(t=>({__ref:e.identify({__typename:"AssetCollection",id:t.id})}))}})}}),data:n,error:t,loading:r}}function k(){const[e,{error:t,data:n,loading:r}]=Object(o.useMutation)(g);return{setAssetTags:({asset:t,tags:n})=>e({variables:{id:t.id,assetSourceId:t.assetSource.id,tagIds:n.map(e=>e.id)},optimisticResponse:{__typename:"Mutation",setAssetTags:{...t,tags:n}},refetchQueries:["ASSETS","TAGS"]}),data:n,error:t,loading:r}}function I(){const[e,{error:t,data:n,loading:r}]=Object(o.useMutation)(_);return{updateAsset:({asset:t,label:n,caption:r,copyrightNotice:o})=>e({variables:{id:t.id,assetSourceId:t.assetSource.id,label:n,caption:r,copyrightNotice:o},optimisticResponse:{__typename:"Mutation",updateAsset:{...t,label:n,caption:r,copyrightNotice:o}}}),data:n,error:t,loading:r}}},function(e,t,n){"use strict";var r,o=n(40),a=(r=o)&&r.__esModule?r:{default:r};e.exports=(0,a.default)("vendor")().PropTypes},function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return v})),n.d(t,"d",(function(){return O})),n.d(t,"f",(function(){return w})),n.d(t,"g",(function(){return C})),n.d(t,"e",(function(){return j}));var r=n(0),o=n.n(r),a=n(71),i=n.n(a),s=n(3),l=n(58),c=n.n(l);const u=e=>{const t=o.a.useRef();return o.a.useEffect(()=>{var e;if(t.current){const n=i.a.findDOMNode(t.current);null===(e=null==n?void 0:n.firstElementChild)||void 0===e||e.setAttribute("data-ignore_click_outside","true")}},[t]),o.a.createElement(s.Dialog,{...e,autoFocus:!0,ref:t,className:c.a.mediaModuleTheme})};var d=n(130),f=n.n(d);var p=r.memo(({label:e})=>r.createElement("span",{className:f.a.assetLabel},e)),h=n(131),m=n.n(h);var v=({children:e})=>o.a.createElement("div",{className:m.a.column},e),b=n(13),y=n.n(b),g=n(78),_=n.n(g);var O=o.a.memo(({icon:e="question",iconUri:t="",label:n="",className:r="",children:a=null})=>o.a.createElement("span",{className:y()(_.a.wrapper,r)},o.a.createElement("span",{className:_.a.iconWrap},t?o.a.createElement("img",{src:t,alt:n,className:_.a.imgIcon}):o.a.createElement(s.Icon,{icon:e})),o.a.createElement("span",{className:_.a.label},a||n||""))),S=n(132),E=n.n(S);var w=o.a.memo(({children:e})=>o.a.createElement("dl",{className:E.a.propertyList},e));var C=o.a.memo(({label:e,value:t})=>o.a.createElement(o.a.Fragment,null,o.a.createElement("dt",null,e),o.a.createElement("dd",{title:t},t))),T=n(133),A=n.n(T);const j=({primaryIcon:e,secondaryIcon:t})=>o.a.createElement("div",{className:A.a.iconStack},o.a.createElement(s.Icon,{icon:e}),t&&o.a.createElement(s.Icon,{icon:t}))},function(e,t,n){"use strict";n.d(t,"g",(function(){return l})),n.d(t,"h",(function(){return f})),n.d(t,"j",(function(){return b})),n.d(t,"i",(function(){return _})),n.d(t,"b",(function(){return Y})),n.d(t,"c",(function(){return Z})),n.d(t,"a",(function(){return s})),n.d(t,"f",(function(){return d})),n.d(t,"e",(function(){return F})),n.d(t,"d",(function(){return ee}));var r=n(4),o=n(35);const a=r.gql`
    fragment AssetCollectionProps on AssetCollection {
        id
        title
        parent {
            id
            title
        }
        tags {
            ...TagProps
        }
        assetCount
    }
    ${o.a}
`,i=r.gql`
    query ASSET_COLLECTION($id: AssetCollectionId!) {
        assetCollection(id: $id) {
            ...AssetCollectionProps
        }
    }
    ${a}
`;const s=r.gql`
    query ASSET_COLLECTIONS {
        assetCollections {
            ...AssetCollectionProps
        }
    }
    ${a}
`;function l(){const{data:e,loading:t}=Object(r.useQuery)(s);return{assetCollections:(null==e?void 0:e.assetCollections)||[],loading:t}}var c=n(1),u=n(7);const d=Object(c.b)({key:"SelectedAssetCollectionIdState",default:null,effects:[Object(u.i)("SelectedAssetCollectionIdState")]});var f=()=>{const e=Object(c.g)(d),{data:t}=Object(r.useQuery)(i,{variables:{id:e},skip:!e});return(null==t?void 0:t.assetCollection)||null};const p=r.gql`
    mutation DeleteAssetCollection($id: AssetCollectionId!) {
        deleteAssetCollection(id: $id)
    }
`;var h=n(0),m=n.n(h);const v=r.gql`
    mutation UpdateAssetCollection($id: AssetCollectionId!, $title: String, $tagIds: [TagId]) {
        updateAssetCollection(id: $id, title: $title, tagIds: $tagIds)
    }
`;function b(){const[e,{error:t,data:n,loading:o}]=Object(r.useMutation)(v);return{updateAssetCollection:Object(h.useCallback)(({assetCollection:t,title:n,tags:r,parent:o})=>e({variables:{id:t.id,title:n,tagIds:null==r?void 0:r.map(e=>e.id),parent:null===o?null:null==o?void 0:o.id},refetchQueries:["ASSET_COLLECTIONS"],optimisticResponse:{updateAssetCollection:{...t,title:n,...n?{title:n}:{},...o?{...o}:{},...r?{tags:r}:{}}}}),[e]),data:n,error:t,loading:o}}const y=r.gql`
    mutation CreateAssetCollection($title: String!, $parent: AssetCollectionId) {
        createAssetCollection(title: $title, parent: $parent) {
            ...AssetCollectionProps
        }
    }
    ${a}
`;const g=r.gql`
    mutation SetAssetCollectionParent($id: AssetCollectionId!, $parent: AssetCollectionId) {
        setAssetCollectionParent(id: $id, parent: $parent)
    }
`;function _(){const[e,{error:t,data:n,loading:o}]=Object(r.useMutation)(g);return{setAssetCollectionParent:Object(h.useCallback)(({assetCollection:t,parent:n})=>e({variables:{id:t.id,parent:null==n?void 0:n.id},optimisticResponse:!0,update:(e,{data:r})=>{r&&e.modify({id:e.identify({__typename:"AssetCollection",id:t.id}),broadcast:!1,fields:{parent:()=>n?{__ref:e.identify({__typename:"AssetCollection",id:n.id})}:null}})}}),[e]),data:n,error:t,loading:o}}var O=n(3),S=n(5),E=n(11),w=n(84),C=n(14),T=n(23);var A={TAG:"neos-tree-tag",COLLECTION:"neos-tree-collection"};const j=Object(c.e)({key:"TagFocusedState",get:({assetCollectionId:e,tagId:t})=>({get:n})=>n(d)===e&&n(C.c)===t});var k=m.a.memo(({tagId:e,assetCollectionId:t,label:n,level:r,icon:o="tag",customIconComponent:a})=>{const i=Object(c.h)(u.k),s=Object(c.g)(j({assetCollectionId:t,tagId:e}));return m.a.createElement(O.Tree.Node,null,m.a.createElement(O.Tree.Node.Header,{isActive:s,isCollapsed:!0,isFocused:s,isLoading:!1,hasError:!1,label:n,title:n,icon:o,customIconComponent:a,nodeDndType:A.TAG,level:r,onClick:()=>i({tagId:e,assetCollectionId:t}),hasChildren:!1}))});const I=Object(c.b)({key:"AssetCollectionFavouritesState",default:{},effects:[Object(u.i)("AssetCollectionFavouritesState")]}),N=Object(c.e)({key:"AssetCollectionFavouriteState",get:e=>({get:t})=>!!t(I)[e],set:e=>({set:t},n)=>t(I,t=>{const r={...t,[e]:n};return!1===r[e]&&delete r[e],r})}),x=Object(c.b)({key:"AssetCollectionTreeState",default:{},effects:[Object(u.i)("AssetCollectionTreeState")]}),R=Object(c.e)({key:"AssetCollectionTreeCollapsedProxyState",get:e=>({get:t})=>{var n;return null===(n=t(x)[e])||void 0===n||n},set:e=>({set:t},n)=>t(x,t=>{const r={...t,[e]:n};return!0===r[e]&&delete r[e],r})}),D=Object(c.e)({key:"AssetCollectionFocusedState",get:e=>({get:t})=>t(d)===e}),M=Object(c.e)({key:"AssetCollectionActiveState",get:e=>({get:t})=>{const{assetCollectionId:n,tagId:r}=t(u.k);return e===n&&!!r}}),L=({assetCollectionId:e,label:t="n/a",title:n="n/a",level:o,children:a=null,renderChildCollections:s=!0})=>{var d;const{assetCollection:f}=function(e){const{data:t,loading:n,refetch:o}=Object(r.useQuery)(i,{variables:{id:e},skip:!e||"UNASSIGNED"===e});return{assetCollection:(null==t?void 0:t.assetCollection)||null,loading:n,refetch:o}}(e),{assetCollections:p}=l(),[v,b]=Object(c.f)(R(e)),y=Object(c.h)(u.k),g=Object(c.g)(D(e)),_=Object(c.g)(N(e)),S=Object(c.g)(M(e)),w=Object(h.useCallback)(()=>{y({assetCollectionId:e,tagId:null}),b(!1)},[e,y,b]),C=Object(h.useMemo)(()=>(null==p?void 0:p.filter(t=>{var n;return((null===(n=t.parent)||void 0===n?void 0:n.id)||null)==e}).map(({id:e})=>e))||[],[e,p]),T="UNASSIGNED"===e?m.a.createElement(E.e,{primaryIcon:"folder",secondaryIcon:"times"}):m.a.createElement(E.e,{primaryIcon:e?!v&&((null==f?void 0:f.tags.length)>0||C.length>0)?"folder-open":"folder":"globe",secondaryIcon:_?"star":void 0});return m.a.createElement(O.Tree.Node,null,m.a.createElement(O.Tree.Node.Header,{isActive:S||g,isFocused:g&&!S,isLoading:!1,hasError:!1,label:((null==f?void 0:f.title)||t)+((null==f?void 0:f.assetCount)>=0?` (${null==f?void 0:f.assetCount})`:""),title:(null==f?void 0:f.title)||n,isHiddenInIndex:0===(null==f?void 0:f.assetCount),customIconComponent:T,nodeDndType:A.COLLECTION,level:o,onToggle:()=>b(!v),onClick:w,isCollapsed:0===(null==f?void 0:f.tags.length)&&0===C.length||v,hasChildren:null!==a||(null==f?void 0:f.tags.length)>0||s&&C.length>0}),!v&&f&&m.a.createElement(m.a.Fragment,null,s&&C.map(e=>m.a.createElement(L,{key:e,assetCollectionId:e,level:o+1})),null===(d=f.tags)||void 0===d?void 0:d.map(t=>m.a.createElement(k,{key:t.id,tagId:t.id,label:t.label,assetCollectionId:e,level:o+1}))),!v&&a)};var P=m.a.memo(L);const F=Object(c.b)({key:"createAssetCollectionDialogState",default:!1}),B=Object(c.b)({key:"AssetCollectionTreeViewState",default:"collections",effects:[Object(u.i)("AssetCollectionTreeViewState")]});var U=n(138),V=n.n(U);var q=m.a.memo(()=>{const{translate:e}=Object(S.d)(),t=Object(c.h)(F),n=Object(c.g)(B);return m.a.createElement(O.Button,{size:"regular",style:"transparent",hoverStyle:"brand",title:e("assetCollectionTree.toolbar.createAssetCollection","Create new asset collection"),onClick:()=>t(!0),disabled:"collections"!==n},m.a.createElement("span",{className:"fa-layers fa-fw"},m.a.createElement(O.Icon,{icon:"folder"}),m.a.createElement(O.Icon,{icon:"plus",color:"primaryBlue",className:V.a.plusIcon})))});var z=m.a.memo(()=>{const{translate:e}=Object(S.d)(),t=Object(S.f)(),{approvalAttainmentStrategy:n}=Object(S.e)(),o=f(),a=Object(C.f)(),{deleteTag:i}=Object(C.e)(),{deleteAssetCollection:l}=function(){const[e,{error:t,data:n,loading:o}]=Object(r.useMutation)(p);return{deleteAssetCollection:t=>e({variables:{id:t},optimisticResponse:!0,update(e){const{assetCollections:n}=e.readQuery({query:s});e.writeQuery({query:s,data:{assetCollections:n.filter(e=>e.id!==t)}})}}),data:n,error:t,loading:o}}(),d=Object(c.h)(u.k),v=Object(h.useCallback)(async()=>{if(a){if(!await n.obtainApprovalToDeleteTag({tag:a}))return;if(!window.confirm(e("action.deleteTag.confirm","Do you really want to delete the tag "+a.label,[a.label])))return;i(a.id).then(()=>{t.ok(e("action.deleteTag.success","The tag has been deleted")),d(({assetCollectionId:e})=>({tagId:null,assetCollectionId:e}))}).catch(({message:n})=>{t.error(e("action.deleteTag.error","Error while trying to delete the tag"),n)})}else if(o){if(!await n.obtainApprovalToDeleteAssetCollection({assetCollection:o}))return;l(o.id).then(()=>{t.ok(e("assetCollectionActions.delete.success","Asset collection was successfully deleted")),d({tagId:null,assetCollectionId:null})}).catch(n=>{t.error(e("assetCollectionActions.delete.error","Failed to delete asset collection"),n.message)})}},[a,o,e,i,t,d,n,l]);return m.a.createElement(O.IconButton,{icon:"trash-alt",size:"regular",style:"transparent",hoverStyle:"error",disabled:!o&&!a,title:e("assetCollectionTree.toolbar.delete","Delete"),onClick:v})}),Q=n(139),$=n.n(Q);var W=m.a.memo(()=>{const{translate:e}=Object(S.d)(),t=Object(c.h)(C.b),n=Object(c.g)(C.c),r=Object(h.useCallback)(()=>{t({label:"",visible:!0})},[t]);return m.a.createElement(O.Button,{size:"regular",style:"transparent",hoverStyle:"brand",title:e("assetCollectionTree.toolbar.createTag","Create new tag"),onClick:r,disabled:null!==n},m.a.createElement("span",{className:"fa-layers fa-fw"},m.a.createElement(O.Icon,{icon:"tag"}),m.a.createElement(O.Icon,{icon:"plus",color:"primaryBlue",className:$.a.plusIcon})))});var H=m.a.memo(()=>{const{translate:e}=Object(S.d)(),t=Object(c.g)(d),[n,r]=Object(c.f)(N(t)),o=Object(h.useCallback)(()=>{r(e=>!e)},[r]);return m.a.createElement(O.IconButton,{icon:"star",size:"regular",style:n?"brand":"transparent",hoverStyle:"brand",disabled:!t,title:e("assetCollectionTree.toolbar.favourite","Toggle favourite"),onClick:o})}),K=n(79),G=n.n(K);var Y=m.a.memo(()=>{const{translate:e}=Object(S.d)(),{assetCollections:t}=l(),n=Object(T.f)(),{tags:r}=Object(C.g)(),{assetCount:o}=Object(w.a)(!0),[a,i]=Object(c.f)(B),s=Object(c.g)(I),u=Object(h.useMemo)(()=>t.filter(e=>!e.parent).map(({id:e})=>e),[t]),d=Object(h.useMemo)(()=>{const e=Object.keys(s);return t.filter(({id:t})=>e.includes(t))},[t,s]),f=Object(h.useMemo)(()=>[{value:"collections",label:e("assetCollectionList.viewMode.collections","Collections"),icon:"folder"},{value:"favourites",label:e("assetCollectionList.viewMode.favourites","Favourites"),icon:"star"}],[e]);return(null==n?void 0:n.supportsCollections)?m.a.createElement("nav",{className:G.a.assetCollectionTree},m.a.createElement(O.SelectBox,{className:G.a.viewSelection,options:f,value:a,optionValueField:"value",onValueChange:i}),m.a.createElement("div",{className:G.a.toolbar},m.a.createElement(q,null),m.a.createElement(W,null),m.a.createElement(z,null),m.a.createElement(H,null)),m.a.createElement(O.Tree,{className:G.a.tree},"favourites"===a?d.map(e=>m.a.createElement(P,{key:e.id,assetCollectionId:e.id,level:1,renderChildCollections:!1})):m.a.createElement(m.a.Fragment,null,m.a.createElement(P,{label:e("assetCollectionList.showAll","All")+` (${o})`,title:e("assetCollectionList.showAll.title","Show assets for all collections"),level:1,assetCollectionId:null},m.a.createElement(P,{label:e("assetCollectionList.unassigned","Unassigned"),title:e("assetCollectionList.unassigned.title","Show assets which are not assigned to any collection"),level:2,assetCollectionId:"UNASSIGNED"}),m.a.createElement(k,{tagId:"UNTAGGED",label:e("assetCollectionList.untagged","Untagged"),assetCollectionId:null,level:2,customIconComponent:m.a.createElement(E.e,{primaryIcon:"tag",secondaryIcon:"times"})}),null==r?void 0:r.map(e=>m.a.createElement(k,{key:e.id,tagId:e.id,label:e.label,assetCollectionId:null,level:2}))),u.map(e=>m.a.createElement(P,{key:e,assetCollectionId:e,level:1}))))):null}),X=n(140),J=n.n(X);var Z=m.a.memo(()=>{const{translate:e}=Object(S.d)(),t=Object(S.f)(),[n,o]=Object(c.f)(F),[a,i]=Object(h.useState)(""),{createAssetCollection:l}=function(){const[e,{error:t,data:n,loading:o}]=Object(r.useMutation)(y);return{createAssetCollection:(t,n=null)=>e({variables:{title:t,parent:n},update(e,{data:t}){const{assetCollections:n}=e.readQuery({query:s});e.writeQuery({query:s,data:{assetCollections:n.concat([null==t?void 0:t.createAssetCollection])}})}}),data:n,error:t,loading:o}}(),u=f(),d=Object(h.useCallback)(e=>{i(e.trim())},[]),p=Object(h.useCallback)(()=>o(!1),[o]),v=Object(h.useCallback)(()=>{o(!1),l(a,null==u?void 0:u.id).then(()=>{t.ok(e("assetCollectionActions.create.success","Asset collection was created"))}).catch(n=>{t.error(e("assetCollectionActions.create.error","Failed to create asset collection"),n.message)})},[o,l,a,null==u?void 0:u.id,t,e]);return m.a.createElement(E.c,{isOpen:n,title:e("createAssetCollectionDialog.title",'Create Asset Collection in "{location}"',{location:(null==u?void 0:u.title)||"Root"}),onRequestClose:p,actions:[m.a.createElement(O.Button,{key:"cancel",style:"neutral",hoverStyle:"darken",onClick:p},e("general.cancel","Cancel")),m.a.createElement(O.Button,{key:"upload",style:"success",hoverStyle:"success",disabled:!a,onClick:v},e("general.create","Create"))]},m.a.createElement("div",{className:J.a.formBody},m.a.createElement(O.Label,null,e("general.title","Title")),m.a.createElement(O.TextInput,{setFocus:!0,type:"text",onChange:d,onEnterKey:a?v:null})))});function ee(e,t){const n=[];let r=e;for(;r;)n.push({title:r.title,id:r.id}),r=r.parent?t.find(({id:e})=>e===r.parent.id):null;return n.reverse()}},function(e,t,n){"use strict";var r,o=n(40),a=(r=o)&&r.__esModule?r:{default:r};e.exports=(0,a.default)("vendor")().classnames},function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return p})),n.d(t,"f",(function(){return m})),n.d(t,"g",(function(){return v})),n.d(t,"h",(function(){return y})),n.d(t,"a",(function(){return T})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return E}));var r=n(4),o=n(12),a=n(35);var i=r.gql`
    query TAGS {
        tags {
            ...TagProps
        }
    }
    ${a.a}
`;var s=r.gql`
    mutation CreateTag($label: TagLabel!, $assetCollectionId: AssetCollectionId) {
        createTag(label: $label, assetCollectionId: $assetCollectionId) {
            ...TagProps
        }
    }
    ${a.a}
`;function l(){const[e,{error:t,data:n}]=Object(r.useMutation)(s);return{createTag:(t,n)=>e({variables:{label:t,assetCollectionId:n},update:(e,{data:{createTag:t}})=>{const{assetCollections:r}=e.readQuery({query:o.a}),a=r.map(e=>e.id===n?{...e,tags:[...e.tags,t]}:e);e.writeQuery({query:o.a,data:{assetCollections:a}});const{tags:s}=e.readQuery({query:i});s.find(e=>(null==e?void 0:e.label)===(null==t?void 0:t.label))||e.writeQuery({query:i,data:{tags:[...s,t]}})}}),data:n,error:t}}var c=n(1),u=n(7);var d=Object(c.b)({key:"SelectedTagIdState",default:null,effects:[Object(u.i)("SelectedTagIdState")]});var f=r.gql`
    mutation DeleteTag($id: TagId!) {
        deleteTag(id: $id)
    }
`;function p(){const[e,{error:t,data:n}]=Object(r.useMutation)(f),[a,s]=Object(c.f)(d);return{deleteTag:t=>e({variables:{id:t},optimisticResponse:{__typename:"Mutation",deleteTag:!0},update:(e,{data:{deleteTag:n}})=>{if(!n)return;const{assetCollections:r}=e.readQuery({query:o.a}),a=r.map(e=>({...e,tags:e.tags.filter(e=>(null==e?void 0:e.id)!==t)}));e.writeQuery({query:o.a,data:{assetCollections:a}});const{tags:s}=e.readQuery({query:i});e.writeQuery({query:i,data:{tags:s.filter(e=>e.id!==t)}})}}).then(e=>{e&&t===a&&s(null)}),data:n,error:t}}var h=r.gql`
    query TAG($id: TagId!) {
        tag(id: $id) {
            ...TagProps
        }
    }
    ${a.a}
`;var m=()=>{const e=Object(c.g)(d),{data:t}=Object(r.useQuery)(h,{variables:{id:e},skip:!e});return(null==t?void 0:t.tag)||null};function v(){const{data:e,loading:t}=Object(r.useQuery)(i);return{tags:(null==e?void 0:e.tags)||[],loading:t}}var b=r.gql`
    mutation UpdateTag($id: TagId!, $label: String) {
        updateTag(id: $id, label: $label) {
            ...TagProps
        }
    }
    ${a.a}
`;function y(){const[e,{error:t,data:n,loading:o}]=Object(r.useMutation)(b);return{updateTag:({tag:t,label:n})=>e({variables:{id:t.id,label:n},optimisticResponse:{updateTag:{...t,label:n,...n?{label:n}:{}}}}),data:n,error:t,loading:o}}var g=n(0),_=n(3),O=n(5),S=n(11);var E=Object(c.b)({key:"createTagDialogState",default:{visible:!1,label:""}}),w=n(141),C=n.n(w);var T=g.memo(()=>{const{translate:e}=Object(O.d)(),t=Object(O.f)(),n=Object(o.h)(),[r,a]=Object(c.f)(E),i=!(!r.label||!r.label.trim()),{createTag:s}=l(),u=Object(g.useCallback)(()=>a({visible:!1,label:""}),[a]),d=Object(g.useCallback)(()=>{a(e=>({...e,visible:!1})),s(r.label,null==n?void 0:n.id).then(()=>{t.ok(e("assetCollectionActions.create.success","Tag was created"))}).catch(n=>{t.error(e("assetCollectionActions.create.error","Failed to create tag"),n.message)})},[t,a,s,r,e,n]),f=Object(g.useCallback)(e=>a(t=>({...t,label:e})),[a]);return g.createElement(S.c,{isOpen:r.visible,title:e("createTagDialog.title","Create tag"),onRequestClose:u,actions:[g.createElement(_.Button,{key:"cancel",style:"neutral",hoverStyle:"darken",onClick:u},e("general.cancel","Cancel")),g.createElement(_.Button,{key:"upload",style:"success",hoverStyle:"success",disabled:!i,onClick:d},e("general.create","Create"))]},g.createElement("div",{className:C.a.formBody},g.createElement(_.Label,null,e("general.label","Label")),g.createElement(_.TextInput,{setFocus:!0,type:"text",value:r.label,onChange:f,onEnterKey:i?d:null})))})},function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"d",(function(){return c}));var r=n(6),o=Object.prototype.hasOwnProperty;var a=/^[_a-z][_0-9a-z]*/i;function i(e){var t=e.match(a);return t?t[0]:e}function s(e,t,n){return!(!t||"object"!=typeof t)&&(Array.isArray(t)?t.every((function(t){return s(e,t,n)})):e.selections.every((function(e){if(Object(r.z)(e)&&Object(r.L)(e,n)){var a=Object(r.K)(e);return o.call(t,a)&&(!e.selectionSet||s(e.selectionSet,t[a],n))}return!0})))}function l(e){return null!==e&&"object"==typeof e&&!Object(r.C)(e)&&!Array.isArray(e)}function c(){return new r.b}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=Object.prototype,o=r.toString,a=r.hasOwnProperty,i=Function.prototype.toString,s=new Map;function l(e,t){try{return function e(t,n){if(t===n)return!0;var r=o.call(t),s=o.call(n);if(r!==s)return!1;switch(r){case"[object Array]":if(t.length!==n.length)return!1;case"[object Object]":if(f(t,n))return!0;var l=c(t),u=c(n),p=l.length;if(p!==u.length)return!1;for(var h=0;h<p;++h)if(!a.call(n,l[h]))return!1;for(h=0;h<p;++h){var m=l[h];if(!e(t[m],n[m]))return!1}return!0;case"[object Error]":return t.name===n.name&&t.message===n.message;case"[object Number]":if(t!=t)return n!=n;case"[object Boolean]":case"[object Date]":return+t==+n;case"[object RegExp]":case"[object String]":return t==""+n;case"[object Map]":case"[object Set]":if(t.size!==n.size)return!1;if(f(t,n))return!0;for(var v=t.entries(),b="[object Map]"===r;;){var y=v.next();if(y.done)break;var g=y.value,_=g[0],O=g[1];if(!n.has(_))return!1;if(b&&!e(O,n.get(_)))return!1}return!0;case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":var S=i.call(t);return S===i.call(n)&&(w=d,!((C=(E=S).length-w.length)>=0&&E.indexOf(w,C)===C))}var E,w,C;return!1}(e,t)}finally{s.clear()}}function c(e){return Object.keys(e).filter(u,e)}function u(e){return void 0!==this[e]}var d="{ [native code] }";function f(e,t){var n=s.get(e);if(n){if(n.has(t))return!0}else s.set(e,n=new Set);return n.add(t),!1}},function(e,t,n){"use strict";var r;function o(e){return!!e&&e<7}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),function(e){e[e.loading=1]="loading",e[e.setVariables=2]="setVariables",e[e.fetchMore=3]="fetchMore",e[e.refetch=4]="refetch",e[e.poll=6]="poll",e[e.ready=7]="ready",e[e.error=8]="error"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s}));var r=n(76);function o(e){var t=e.prototype.toJSON;"function"==typeof t||function(e,t){if(!Boolean(e))throw new Error(null!=t?t:"Unexpected invariant triggered.")}(0),e.prototype.inspect=t,r.a&&(e.prototype[r.a]=t)}var a=function(){function e(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}return e.prototype.toJSON=function(){return{start:this.start,end:this.end}},e}();o(a);var i=function(){function e(e,t,n,r,o,a,i){this.kind=e,this.start=t,this.end=n,this.line=r,this.column=o,this.value=i,this.prev=a,this.next=null}return e.prototype.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},e}();function s(e){return null!=e&&"string"==typeof e.kind}o(i)},function(e,t,n){"use strict";n.d(t,"e",(function(){return j})),n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return S})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return E})),n.d(t,"g",(function(){return C})),n.d(t,"f",(function(){return A}));var r=n(4);var o=r.gql`
    fragment UsageDetailsGroupProps on UsageDetailsGroup {
        serviceId
        label
        metadataSchema {
            name
            label
            type
        }
        usages {
            label
            url
            metadata {
                name
                value
            }
        }
    }
`;var a=r.gql`
    query ASSET_USAGE_DETAILS($id: AssetId!, $assetSourceId: AssetSourceId!) {
        assetUsageDetails(id: $id, assetSourceId: $assetSourceId) {
            ...UsageDetailsGroupProps
        }
    }
    ${o}
`,i=n(21);var s=r.gql`
    query UNUSED_ASSETS($limit: Int, $offset: Int, $includeUsage: Boolean = false) {
        includeUsage @client(always: true) @export(as: "includeUsage")
        unusedAssets(limit: $limit, offset: $offset) {
            ...AssetProps
            isInUse @include(if: $includeUsage)
        }
    }
    ${i.a}
`,l=n(0),c=n.n(l),u=n(1),d=n(3),f=n(5),p=n(9),h=n(11);var m=Object(u.b)({key:"assetUsageDetailsModalState",default:!1});var v=n(103),b=n.n(v);var y=l.memo(({usageDetailsGroup:e})=>{const{translate:t}=Object(f.d)(),{label:n,usages:r,metadataSchema:o}=e;return l.createElement("section",{className:b.a.usageSection},l.createElement("h2",null,n," (",r.length,")"),r.length>0&&l.createElement("table",{className:b.a.usageTable},l.createElement("thead",null,l.createElement("tr",null,l.createElement("th",null,t("assetUsage.header.label","Label")),o.map((e,t)=>l.createElement("th",{key:t},e.label)))),l.createElement("tbody",null,r.map((e,t)=>l.createElement("tr",{key:t},l.createElement("td",null,e.url?l.createElement("a",{href:e.url,target:"_blank",rel:"noreferrer"},e.label):e.label),o.map(({name:t,type:n},r)=>{const o=e.metadata.find(e=>e.name==t);return o?l.createElement("td",{key:r},"DATETIME"==n||"DATE"==n?new Date(o.value).toLocaleString():"URL"==n?l.createElement("a",{href:o.value,target:"_blank",rel:"noreferrer"},t):"JSON"==n?function e(t){return Array.isArray(t)?l.createElement("ul",null,t.map((t,n)=>l.createElement("li",{key:n},e(t)))):"object"==typeof t?l.createElement("ul",null,Object.keys(t).map(n=>l.createElement("li",{key:n},l.createElement("strong",null,n,":")," ",e(t[n])))):"string"==typeof t?t:JSON.stringify(t)}(JSON.parse(o.value)):o.value):null}))))))}),g=n(145),_=n.n(g);var O=l.memo(()=>{const{translate:e}=Object(f.d)(),[t,n]=Object(u.f)(m),o=Object(p.i)(),{assetUsageDetails:i,loading:s}=function(e){const{data:t,loading:n}=Object(r.useQuery)(a,{variables:{id:null==e?void 0:e.assetId,assetSourceId:null==e?void 0:e.assetSourceId},skip:!e});return{assetUsageDetails:(null==t?void 0:t.assetUsageDetails)||null,loading:n}}(o?{assetId:o.id,assetSourceId:o.assetSource.id}:null),c=Object(l.useCallback)(()=>n(!1),[n]);return l.createElement(h.c,{isOpen:t,title:e("assetUsage.header","Usage details for "+o.label,{asset:o.label}),onRequestClose:c,style:"wide",actions:[l.createElement(d.Button,{key:"cancel",style:"neutral",hoverStyle:"darken",onClick:c},e("assetUsage.close","Close"))]},l.createElement("div",{className:_.a.assetUsage},(null==i?void 0:i.length)>0?i.map((e,t)=>l.createElement(y,{key:t,usageDetailsGroup:e})):l.createElement("span",null,s?e("assetUsagesModal.loading","Loading…"):e("assetUsagesModal.noResults","No results"))))});var S=c.a.memo(()=>{const{isInUse:e}=Object(p.i)(),[t,n]=Object(u.f)(m),{translate:r}=Object(f.d)();return c.a.createElement(d.Button,{disabled:!1===e,size:"regular",style:t?"brand":"lighter",hoverStyle:"brand",onClick:()=>n(!0)},c.a.createElement(d.Icon,{icon:"link"}),r("assetUsageList.toggle","Show usages"))});var E=Object(u.b)({key:"showUnusedAssets",default:!1}),w=n(7);var C=()=>{const{pagination:{assetsPerPage:e}}=Object(u.g)(w.f),t=Object(u.g)(w.e),[n,o]=Object(u.f)(w.h),a=Object(u.g)(E),[i,c]=Object(l.useState)([]),d=(t-1)*e,[f,{loading:p,error:h,data:m,refetch:v}]=Object(r.useLazyQuery)(s,{notifyOnNetworkStatusChange:!1,variables:{limit:e,offset:d}});return Object(l.useEffect)(()=>{!a||p||n?m&&!p&&n&&(o(!1),c(m.unusedAssets)):(f({variables:{limit:e,offset:d}}),o(!0))},[f,m,p,d,a]),{error:h,assets:i,refetch:v}};var T=r.gql`
    query UNUSED_ASSET_COUNT {
        unusedAssetCount
    }
`;function A(){const[e,{called:t,loading:n,data:o}]=Object(r.useLazyQuery)(T);return{called:t,load:e,unusedAssetCount:(null==o?void 0:o.unusedAssetCount)||0,loading:n}}const j=r.gql`
    extend type Query {
        includeUsage: Boolean!
    }

    extend type Mutation {
        includeUsage: Boolean!
    }
`},function(e,t,n){"use strict";n.d(t,"f",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return i})),n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return S})),n.d(t,"c",(function(){return w}));var r=n(1);const o=Object(r.b)({key:"clipboardState",default:!1});var a=n(22);const i=Object(r.b)({key:"ClipboardState",default:[],effects:[Object(a.a)("ClipboardState")]}),s=Object(r.e)({key:"ClipboardItemState",get:e=>({get:t})=>void 0!==t(i).find(({assetId:t,assetSourceId:n})=>t===e.assetId&&n===e.assetSourceId),set:e=>({set:t})=>{t(i,t=>{const n=t.findIndex(({assetId:t,assetSourceId:n})=>t===e.assetId&&n===e.assetSourceId);return-1===n?[...t,e]:t.splice(n,1)})}});var l=n(0),c=n.n(l),u=n(3),d=n(5),f=n(7),p=n(9),h=n(142),m=n.n(h);var v=l.memo(({assetIdentity:e})=>{const{asset:t}=Object(p.b)(e),{dummyImage:n}=Object(d.e)(),r=Object(d.f)(),o=Object(p.h)(),{translate:a}=Object(d.d)(),i=Object(l.useCallback)(()=>{e?o(e):r.warning(a("clipboard.assetNotLoaded","Cannot select asset as it couldn't be loaded"))},[e,o,r,a]);return l.createElement("button",{type:"button",onClick:i,className:m.a.clipboardItem,title:null==t?void 0:t.label},l.createElement("img",{src:(null==t?void 0:t.thumbnailUrl)||n,alt:(null==t?void 0:t.label)||e.assetId,width:40,height:36}))}),b=n(143),y=n.n(b);var g=c.a.memo(()=>{const{translate:e}=Object(d.d)(),t=Object(r.g)(i),[n,a]=Object(r.f)(o),s=Object(r.g)(f.g),p=Object(l.useCallback)(()=>a(e=>!e),[a]),h=Object.keys(t).length;return s?c.a.createElement("div",{className:y.a.clipboardToggle},c.a.createElement(u.Button,{disabled:0===h,size:"regular",style:n?"brand":"lighter",hoverStyle:"brand",onClick:p},e("clipboard.toggle","Clipboard")," (",h,")"),Object.values(t).slice().reverse().slice(0,3).map(e=>c.a.createElement(v,{key:e.assetId,assetIdentity:e}))):null}),_=n(144),O=n.n(_);var S=c.a.memo(()=>{const{translate:e}=Object(d.d)(),{approvalAttainmentStrategy:t}=Object(d.e)(),n=Object(r.g)(o),[a,s]=Object(r.f)(i),{deleteAsset:f}=Object(p.e)(),h=Object(d.f)(),m=Object(l.useCallback)(async()=>{await t.obtainApprovalToDeleteAssets({assets:a})&&Promise.all(a.map(async e=>await f(e))).then(()=>{h.ok(e("clipboard.deleteAssets.success","The assets have been deleted"))}).catch(({message:t})=>{h.error(e("clipboard.deleteAssets.error","Error while trying to delete the assets"),t)})},[t,a,f,h,e]),v=Object(l.useCallback)(()=>{t.obtainApprovalToFlushClipboard()&&s([])},[t,s]);return n?c.a.createElement("div",{className:O.a.clipboardActions},c.a.createElement(u.IconButton,{title:e("clipboard.deleteAsset","Delete all assets in clipboard"),icon:"trash",size:"regular",style:"transparent",hoverStyle:"error",onClick:m}),c.a.createElement(u.IconButton,{title:e("clipboard.flush","Flush clipboard"),icon:"clipboard",size:"regular",style:"transparent",hoverStyle:"warn",onClick:v})):null}),E=n(38);var w=()=>{const e=Object(r.h)(i),t=Object(p.f)(E.b);return Object(l.useEffect)(()=>{const n=t.subscribe((t,n)=>{e(e=>e.filter(({assetId:e,assetSourceId:t})=>!(e===n.assetId&&t===n.assetSourceId)))});return()=>{t.unsubscribe(n)}},[e,t]),null}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(4),o=n(35);const a=r.gql`
    fragment IptcPropertyProps on IptcProperty {
        propertyName
        value
    }
`,i=r.gql`
    fragment FileProps on File {
        extension
        mediaType
        typeIcon {
            url
            alt
        }
        size
        url
    }
`,s=r.gql`
    fragment AssetProps on Asset {
        id
        localId
        assetSource {
            id
            readOnly
        }
        imported
        label
        caption
        filename
        tags {
            ...TagProps
        }
        collections {
            id
            title
        }
        copyrightNotice
        lastModified
        iptcProperties {
            ...IptcPropertyProps
        }
        width
        height
        file {
            ...FileProps
        }
        thumbnailUrl
        previewUrl
        isInUse @include(if: $includeUsage)
    }
    ${a}
    ${i}
    ${o.a}
`},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));function r(e,t,n){return({setSelf:r,onSet:o})=>{if("details"==n)return;const a="flowpack.mediaui."+e,i=localStorage.getItem(a);if(null!=i)try{let e=JSON.parse(i);t&&(e=t(e)),null!=e&&r(e)}catch(e){console.warn("[MEDIA UI]: Could not parse saved value for stored setting "+a),localStorage.removeItem(a)}o((e,t,r)=>{"selection"!=n&&(r||""==e||null==e?localStorage.removeItem(a):localStorage.setItem(a,JSON.stringify(e)))})}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return T})),n.d(t,"e",(function(){return p})),n.d(t,"f",(function(){return y})),n.d(t,"d",(function(){return b})),n.d(t,"c",(function(){return m}));var r=n(0),o=n.n(r),a=n(3),i=n(5),s=n(11),l=n(1),c=n(4),u=n(7);const d=c.gql`
    fragment AssetSourceProps on AssetSource {
        label
        id
        description
        iconUri
        readOnly
        supportsTagging
        supportsCollections
    }
`,f=c.gql`
    query ASSET_SOURCES {
        assetSources {
            ...AssetSourceProps
        }
    }
    ${d}
`;function p(){const{data:e,loading:t}=Object(c.useQuery)(f),n=Object(l.g)(u.d);return{assetSources:Object(r.useMemo)(()=>{var t;const r=(null==e?void 0:e.assetSources)||[];return(null===(t=n.assetSources)||void 0===t?void 0:t.length)>0?r.filter(e=>n.assetSources.includes(e.id)):r},[null==e?void 0:e.assetSources,n.assetSources]),loading:t}}var h=n(20);const m="neos",v=Object(l.b)({key:"SelectedAssetSourceIdState",default:m,effects:[Object(u.i)("SelectedAssetSourceIdState")]}),b=Object(l.d)({key:"SelectedAssetSourceState",get:({get:e})=>{var t;const n=e(v),r=e(u.d);return(null===(t=r.assetSources)||void 0===t?void 0:t.length)>0&&!r.assetSources.includes(n)?r.assetSources[0]:n},set:({set:e},t)=>{e(v,t),e(u.e,1),e(h.f,!1)}}),y=()=>{const e=Object(l.g)(b),{assetSources:t}=p();return Object(r.useMemo)(()=>t.find(t=>t.id===e),[t,e])};var g=n(101),_=n.n(g);var O=o.a.memo(()=>{const{translate:e}=Object(i.d)(),t=y();return(null==t?void 0:t.description)?o.a.createElement(a.ToggablePanel,{closesToBottom:!0,className:_.a.assetSourceDescription},o.a.createElement(a.ToggablePanel.Header,{className:_.a.panelHeader},o.a.createElement(s.d,{icon:"info-circle",label:e("assetSourceDescription.header","Media source description")})),o.a.createElement(a.ToggablePanel.Contents,null,o.a.createElement("p",null,t.description))):null}),S=n(13),E=n.n(S),w=n(63),C=n.n(w);var T=o.a.memo(()=>{const{assetSources:e}=p(),{translate:t}=Object(i.d)(),[n,r]=Object(l.f)(b);return!e||e.length<2?null:o.a.createElement("nav",{className:C.a.assetSourceList},o.a.createElement(a.Headline,{type:"h2",className:C.a.header},o.a.createElement(s.d,{icon:"box",label:t("assetSourceList.header","Media sources")})),null==e?void 0:e.map(e=>o.a.createElement("button",{key:e.id,type:"button",className:E()(C.a.item,n===e.id&&C.a.itemSelected),onClick:()=>r(e.id)},o.a.createElement(s.d,{label:"neos"===e.id?t("assetSource.local","Local"):e.label,iconUri:e.iconUri,className:C.a.itemLabel}))))})},function(e,t,n){"use strict";n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return S})),n.d(t,"a",(function(){return E})),n.d(t,"d",(function(){return I})),n.d(t,"e",(function(){return r.b})),n.d(t,"f",(function(){return h})),n.d(t,"g",(function(){return k})),n.d(t,"h",(function(){return r.c}));var r=n(52),o=n(0),a=n.n(o),i=n(4);const s=new Map,l=(e,t)=>{if(!Array.isArray(e))switch(typeof e){case"string":e=[e];break;case"undefined":e=[];break;default:throw new TypeError(`Expected '${t}' to be a string or an array, but got a type of '${typeof e}'`)}return e.filter(e=>{if("string"!=typeof e){if(void 0===e)return!1;throw new TypeError(`Expected '${t}' to be an array of strings, but found a type of '${typeof e}' in the array`)}return!0})},c=(e,t)=>{t={caseSensitive:!1,...t};const n=e+JSON.stringify(t);if(s.has(n))return s.get(n);const r="!"===e[0];r&&(e=e.slice(1)),e=function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}(e).replace(/\\\*/g,"[\\s\\S]*");const o=new RegExp(`^${e}$`,t.caseSensitive?"":"i");return o.negated=r,s.set(n,o),o},u=(e,t,n,r)=>{if(e=l(e,"inputs"),0===(t=l(t,"patterns")).length)return[];t=t.map(e=>c(e,n));const{allPatterns:o}=n||{},a=[];for(const n of e){let e;const i=[...t].fill(!1);for(const[r,o]of t.entries())if(o.test(n)&&(i[r]=!0,e=!o.negated,!e))break;if(!(!1===e||void 0===e&&t.some(e=>!e.negated)||o&&i.some((e,n)=>!e&&!t[n].negated))&&(a.push(n),r))break}return a};function d(e,t,n){return u(e,t,n,!0).length>0}var f=n(9);const p=Object(o.createContext)(null),h=()=>Object(o.useContext)(p);function m({children:e,translate:t}){return o.createElement(p.Provider,{value:{translate:t}},e)}var v=n(3),b=n(11),y=n(102),g=n.n(y);var _=a.a.memo(({title:e,message:t,buttonLabel:n,onConfirm:r,onDeny:o})=>{const{translate:i}=h(),s=a.a.useCallback(()=>o(),[o]),l=a.a.useCallback(()=>r(),[r]);return a.a.createElement(b.c,{type:"error",isOpen:!0,title:a.a.createElement(a.a.Fragment,null,a.a.createElement(v.Icon,{icon:"exclamation-triangle"}),a.a.createElement("span",{className:g.a.modalTitle},e)),onRequestClose:s,actions:[a.a.createElement(v.Button,{key:"cancel",style:"neutral",hoverStyle:"darken",onClick:s},i("general.cancel","Cancel")),a.a.createElement(v.Button,{key:"confirm",style:"error",hoverStyle:"error",onClick:l},n)]},a.a.createElement("div",{className:g.a.dialogBody},a.a.createElement(v.Label,null,t)))});const O=Object(o.createContext)({}),S=({children:e})=>{const[t,n]=Object(o.useState)(null),r=Object(o.useCallback)(e=>{if(null!==t)throw new Error("[InteractionProvider]: Element cannot be overwritten if it is already set.");n(e)},[t]);return a.a.createElement(O.Provider,{value:{element:t,setElement:r}},e)},E=()=>{const{element:e}=Object(o.useContext)(O);return e};var w=n(21),C=n(92),T=n(1),A=n(7);const j=Object(o.createContext)({}),k=()=>Object(o.useContext)(j);function I({children:e,dummyImage:t,selectionMode:n=!1,isInNodeCreationDialog:s=!1,onAssetSelection:l=null,containerRef:c,approvalAttainmentStrategyFactory:u=C.b}){const{translate:p}=h(),m=Object(r.c)(),v=(()=>{const{setElement:e}=Object(o.useContext)(O),t=Object(o.useCallback)(async t=>{try{return await new Promise(n=>{e(a.a.createElement(_,{title:t.title,message:t.message,buttonLabel:t.buttonLabel,onConfirm:()=>n(!0),onDeny:()=>n(!1)}))})}finally{e(null)}},[e]);return Object(o.useMemo)(()=>({confirm:t}),[t])})(),b=Object(i.useApolloClient)(),{importAsset:y}=Object(f.g)(),g=Object(T.g)(A.d),S=Object(o.useMemo)(()=>u({interaction:v,intl:{translate:p}}),[u,v,p]),E=Object(o.useCallback)(e=>{var t,n;return!((null===(t=g.mediaTypes)||void 0===t?void 0:t.length)>0&&!d(e.file.mediaType,g.mediaTypes))&&!((null===(n=g.assetSources)||void 0===n?void 0:n.length)>0&&!d(e.assetSource.id,g.assetSources))},[g]),k=Object(o.useCallback)(e=>{if(!l||!e)return;const t=b.readFragment({fragment:i.gql`
                    fragment LocalAssetData on Asset {
                        ...AssetProps
                    }
                    ${w.a}
                `,fragmentName:"LocalAssetData",variables:{includeUsage:!1},id:b.cache.identify({__typename:"Asset",id:e.assetId})});E(t)?t.localId?l(t.localId):y(e).then(({data:e})=>{l(e.importAsset.localId)}):m.notice(p("action.selectAsset.invalidType.message","You can only select any of the following types: {types}",{types:g.mediaTypes.join(", ")}))},[b,y,l,E,p,m,g.mediaTypes]);return a.a.createElement(j.Provider,{value:{containerRef:c,dummyImage:t,handleSelectAsset:k,selectionMode:n,isInNodeCreationDialog:s,isAssetSelectable:E,approvalAttainmentStrategy:S}},e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return T})),n.d(t,"c",(function(){return I}));var r=function(){return Object.create(null)},o=Array.prototype,a=o.forEach,i=o.slice,s=function(){function e(e,t){void 0===e&&(e=!0),void 0===t&&(t=r),this.weakness=e,this.makeData=t}return e.prototype.lookup=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.lookupArray(e)},e.prototype.lookupArray=function(e){var t=this;return a.call(e,(function(e){return t=t.getChildTrie(e)})),t.data||(t.data=this.makeData(i.call(e)))},e.prototype.getChildTrie=function(t){var n=this.weakness&&function(e){switch(typeof e){case"object":if(null===e)break;case"function":return!0}return!1}(t)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),r=n.get(t);return r||n.set(t,r=new e(this.weakness,this.makeData)),r},e}();var l=n(42);function c(){}var u=function(){function e(e,t){void 0===e&&(e=1/0),void 0===t&&(t=c),this.max=e,this.dispose=t,this.map=new Map,this.newest=null,this.oldest=null}return e.prototype.has=function(e){return this.map.has(e)},e.prototype.get=function(e){var t=this.getNode(e);return t&&t.value},e.prototype.getNode=function(e){var t=this.map.get(e);if(t&&t!==this.newest){var n=t.older,r=t.newer;r&&(r.older=n),n&&(n.newer=r),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=r)}return t},e.prototype.set=function(e,t){var n=this.getNode(e);return n?n.value=t:(n={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=n),this.newest=n,this.oldest=this.oldest||n,this.map.set(e,n),n.value)},e.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},e.prototype.delete=function(e){var t=this.map.get(e);return!!t&&(t===this.newest&&(this.newest=t.older),t===this.oldest&&(this.oldest=t.newer),t.newer&&(t.newer.older=t.older),t.older&&(t.older.newer=t.newer),this.map.delete(e),this.dispose(t.value,e),!0)},e}(),d=new l.a;function f(e){var t=e.unsubscribe;"function"==typeof t&&(e.unsubscribe=void 0,t())}var p=[];function h(e,t){if(!e)throw new Error(t||"assertion failure")}function m(e){switch(e.length){case 0:throw new Error("unknown value");case 1:return e[0];case 2:throw e[1]}}var v=function(){function e(t){this.fn=t,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++e.count}return e.prototype.peek=function(){if(1===this.value.length&&!y(this))return this.value[0]},e.prototype.recompute=function(e){return h(!this.recomputing,"already recomputing"),function(e){var t=d.getValue();if(t)e.parents.add(t),t.childValues.has(e)||t.childValues.set(e,[]),y(e)?O(t,e):S(t,e)}(this),y(this)?function(e,t){w(e),d.withValue(e,b,[e,t]),function(e,t){if("function"==typeof e.subscribe)try{f(e),e.unsubscribe=e.subscribe.apply(null,t)}catch(t){return e.setDirty(),!1}return!0}(e,t)&&function(e){if(e.dirty=!1,y(e))return;_(e)}(e);return m(e.value)}(this,e):m(this.value)},e.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,g(this),w(this),f(this))},e.prototype.dispose=function(){var e=this;w(this),f(this),this.parents.forEach((function(t){t.setDirty(),C(t,e)}))},e.prototype.dependOn=function(e){e.add(this),this.deps||(this.deps=p.pop()||new Set),this.deps.add(e)},e.prototype.forgetDeps=function(){var e=this;this.deps&&(this.deps.forEach((function(t){return t.delete(e)})),this.deps.clear(),p.push(this.deps),this.deps=null)},e.count=0,e}();function b(e,t){e.recomputing=!0,e.value.length=0;try{e.value[0]=e.fn.apply(null,t)}catch(t){e.value[1]=t}e.recomputing=!1}function y(e){return e.dirty||!(!e.dirtyChildren||!e.dirtyChildren.size)}function g(e){e.parents.forEach((function(t){return O(t,e)}))}function _(e){e.parents.forEach((function(t){return S(t,e)}))}function O(e,t){if(h(e.childValues.has(t)),h(y(t)),e.dirtyChildren){if(e.dirtyChildren.has(t))return}else e.dirtyChildren=p.pop()||new Set;e.dirtyChildren.add(t),g(e)}function S(e,t){h(e.childValues.has(t)),h(!y(t));var n,r,o,a=e.childValues.get(t);0===a.length?e.childValues.set(t,t.value.slice(0)):(n=a,r=t.value,(o=n.length)>0&&o===r.length&&n[o-1]===r[o-1]||e.setDirty()),E(e,t),y(e)||_(e)}function E(e,t){var n=e.dirtyChildren;n&&(n.delete(t),0===n.size&&(p.length<100&&p.push(n),e.dirtyChildren=null))}function w(e){e.childValues.size>0&&e.childValues.forEach((function(t,n){C(e,n)})),e.forgetDeps(),h(null===e.dirtyChildren)}function C(e,t){t.parents.delete(e),e.childValues.delete(t),E(e,t)}function T(e){var t=new Map,n=e&&e.subscribe;function r(e){var r=d.getValue();if(r){var o=t.get(e);o||t.set(e,o=new Set),r.dependOn(o),"function"==typeof n&&(f(o),o.unsubscribe=n(e))}}return r.dirty=function(e){var n=t.get(e);n&&(n.forEach((function(e){return e.setDirty()})),t.delete(e),f(n))},r}var A=new s("function"==typeof WeakMap);function j(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return A.lookupArray(e)}var k=new Set;function I(e,t){void 0===t&&(t=Object.create(null));var n=new u(t.max||Math.pow(2,16),(function(e){return e.dispose()})),r=t.keyArgs,o=t.makeCacheKey||j;function a(){var a=o.apply(null,r?r.apply(null,arguments):arguments);if(void 0===a)return e.apply(null,arguments);var i=n.get(a);i||(n.set(a,i=new v(e)),i.subscribe=t.subscribe);var s=i.recompute(Array.prototype.slice.call(arguments));return n.set(a,i),k.add(n),d.hasValue()||(k.forEach((function(e){return e.clean()})),k.clear()),s}function i(){var e=o.apply(null,arguments);if(void 0!==e)return n.get(e)}return a.dirty=function(){var e=i.apply(null,arguments);e&&e.setDirty()},a.peek=function(){var e=i.apply(null,arguments);if(e)return e.peek()},a.forget=function(){var e=o.apply(null,arguments);return void 0!==e&&n.delete(e)},a}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"g",(function(){return c})),n.d(t,"a",(function(){return d})),n.d(t,"f",(function(){return f}));var r=n(6);function o(e){return new r.c((function(t){t.error(e)}))}var a=n(8);function i(e){var t=!1;return new Promise((function(n,r){e.subscribe({next:function(e){t||(t=!0,n(e))},error:r})}))}function s(e){return new r.c((function(t){e.then((function(e){t.next(e),t.complete()})).catch(t.error.bind(t))}))}var l=function(e,t,n){var r=new Error(n);throw r.name="ServerError",r.response=e,r.statusCode=e.status,r.result=t,r};function c(e){for(var t=["query","operationName","variables","extensions","context"],n=0,r=Object.keys(e);n<r.length;n++){var o=r[n];if(t.indexOf(o)<0)throw new a.a(26)}return e}var u=n(2);function d(e,t){var n=Object(u.a)({},e);return Object.defineProperty(t,"setContext",{enumerable:!1,value:function(e){n="function"==typeof e?Object(u.a)(Object(u.a)({},n),e(n)):Object(u.a)(Object(u.a)({},n),e)}}),Object.defineProperty(t,"getContext",{enumerable:!1,value:function(){return Object(u.a)({},n)}}),t}function f(e){var t={variables:e.variables||{},extensions:e.extensions||{},operationName:e.operationName,query:e.query};return t.operationName||(t.operationName="string"!=typeof t.query?Object(r.s)(t.query)||void 0:""),t}},function(e,t,n){"use strict";n.r(t);var r=n(110);n.d(t,"empty",(function(){return r.a}));var o=n(112);n.d(t,"from",(function(){return o.a}));var a=n(113);n.d(t,"split",(function(){return a.a}));var i=n(114);n.d(t,"concat",(function(){return i.a}));var s=n(115);n.d(t,"execute",(function(){return s.a}));var l=n(34);n.d(t,"ApolloLink",(function(){return l.a}));var c=n(116);for(var u in c)["default","empty","from","split","concat","execute","ApolloLink"].indexOf(u)<0&&function(e){n.d(t,e,(function(){return c[e]}))}(u)},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}));var r=n(2),o=n(6);function a(e){return e.hasOwnProperty("graphQLErrors")}var i=function(e){function t(n){var r,a,i=n.graphQLErrors,s=n.networkError,l=n.errorMessage,c=n.extraInfo,u=e.call(this,l)||this;return u.graphQLErrors=i||[],u.networkError=s||null,u.message=l||(r=u,a="",Object(o.B)(r.graphQLErrors)&&r.graphQLErrors.forEach((function(e){var t=e?e.message:"Error message not found.";a+=t+"\n"})),r.networkError&&(a+=r.networkError.message+"\n"),a=a.replace(/\n$/,"")),u.extraInfo=c,u.__proto__=t.prototype,u}return Object(r.c)(t,e),t}(Error)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return s}));var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function o(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((r=r.apply(e,t||[])).next())}))}function a(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}Object.create;function i(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i}function s(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e}Object.create},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var r,o=n(1);!function(e){e.new="new",e.update="update"}(r||(r={}));const a=Object(o.b)({key:"uploadDialogState",default:{visible:!1,uploadType:r.new}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s}));var r,o,a=n(1),i=n(22);!function(e){e.Name="name",e.LastModified="lastModified",e.Size="size"}(r||(r={})),function(e){e.Asc="ASC",e.Desc="DESC"}(o||(o={}));const s=Object(a.b)({key:"selectedSortOrderState",default:{sortBy:r.LastModified,sortDirection:o.Desc},effects:[Object(i.a)("selectedSortOrderState")]})},function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l}));var r=n(0),o=n.n(r),a=n(8),i=new(n(6).h?WeakMap:Map);function s(){var e=i.get(o.a.createContext);return e||((e=o.a.createContext({})).displayName="ApolloContext",i.set(o.a.createContext,e)),e}var l=function(e){var t=e.client,n=e.children,r=s();return o.a.createElement(r.Consumer,null,(function(e){return void 0===e&&(e={}),t&&e.client!==t&&(e=Object.assign({},e,{client:t})),Object(a.b)(e.client,28),o.a.createElement(r.Provider,{value:e},n)}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s}));var r,o=n(8);!function(e){e[e.Query=0]="Query",e[e.Mutation=1]="Mutation",e[e.Subscription=2]="Subscription"}(r||(r={}));var a=new Map;function i(e){var t;switch(e){case r.Query:t="Query";break;case r.Mutation:t="Mutation";break;case r.Subscription:t="Subscription"}return t}function s(e){var t,n,i=a.get(e);if(i)return i;Object(o.b)(!!e&&!!e.kind,34);var s=e.definitions.filter((function(e){return"FragmentDefinition"===e.kind})),l=e.definitions.filter((function(e){return"OperationDefinition"===e.kind&&"query"===e.operation})),c=e.definitions.filter((function(e){return"OperationDefinition"===e.kind&&"mutation"===e.operation})),u=e.definitions.filter((function(e){return"OperationDefinition"===e.kind&&"subscription"===e.operation}));Object(o.b)(!s.length||l.length||c.length||u.length,35),Object(o.b)(l.length+c.length+u.length<=1,36),n=l.length?r.Query:r.Mutation,l.length||c.length||(n=r.Subscription);var d=l.length?l:c.length?c:u;Object(o.b)(1===d.length,37);var f=d[0];t=f.variableDefinitions||[];var p={name:f.name&&"Name"===f.name.kind?f.name.value:"data",type:n,variables:t};return a.set(e,p),p}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(2),o=n(8),a=n(6),i=n(26);function s(e,t){return t?t(e):a.c.of()}function l(e){return"function"==typeof e?new u(e):e}function c(e){return e.request.length<=1}!function(e){function t(t,n){var r=e.call(this,t)||this;return r.link=n,r}Object(r.c)(t,e)}(Error);var u=function(){function e(e){e&&(this.request=e)}return e.empty=function(){return new e((function(){return a.c.of()}))},e.from=function(t){return 0===t.length?e.empty():t.map(l).reduce((function(e,t){return e.concat(t)}))},e.split=function(t,n,r){var o=l(n),i=l(r||new e(s));return c(o)&&c(i)?new e((function(e){return t(e)?o.request(e)||a.c.of():i.request(e)||a.c.of()})):new e((function(e,n){return t(e)?o.request(e,n)||a.c.of():i.request(e,n)||a.c.of()}))},e.execute=function(e,t){return e.request(Object(i.a)(t.context,Object(i.f)(Object(i.g)(t))))||a.c.of()},e.concat=function(t,n){var r=l(t);if(c(r))return r;var o=l(n);return c(o)?new e((function(e){return r.request(e,(function(e){return o.request(e)||a.c.of()}))||a.c.of()})):new e((function(e,t){return r.request(e,(function(e){return o.request(e,t)||a.c.of()}))||a.c.of()}))},e.prototype.split=function(t,n,r){return this.concat(e.split(t,n,r||new e(s)))},e.prototype.concat=function(t){return e.concat(this,t)},e.prototype.request=function(e,t){throw new o.a(21)},e.prototype.onError=function(e,t){if(t&&t.error)return t.error(e),!1;throw e},e.prototype.setOnError=function(e){return this.onError=e,this},e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=n(4).gql`
    fragment TagProps on Tag {
        id
        label
    }
`},function(e,t,n){"use strict";n.r(t),n.d(t,"resetCaches",(function(){return b})),n.d(t,"disableFragmentWarnings",(function(){return y})),n.d(t,"enableExperimentalFragmentVariables",(function(){return g})),n.d(t,"disableExperimentalFragmentVariables",(function(){return _}));var r=n(99);n.d(t,"ApolloClient",(function(){return r.a})),n.d(t,"mergeOptions",(function(){return r.b}));var o=n(86);n.d(t,"ObservableQuery",(function(){return o.a}));var a=n(17);n.d(t,"NetworkStatus",(function(){return a.a}));var i=n(118);for(var s in i)["default","ApolloClient","mergeOptions","ObservableQuery","NetworkStatus","isApolloError","ApolloError","Cache","ApolloCache","InMemoryCache","MissingFieldError","defaultDataIdFromObject","makeVar","fromError","toPromise","fromPromise","throwServerError","Observable","isReference","makeReference","setLogVerbosity","resetCaches","disableFragmentWarnings","enableExperimentalFragmentVariables","disableExperimentalFragmentVariables","gql"].indexOf(s)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(s);var l=n(28);n.d(t,"isApolloError",(function(){return l.b})),n.d(t,"ApolloError",(function(){return l.a}));var c=n(41);n.d(t,"Cache",(function(){return c.Cache})),n.d(t,"ApolloCache",(function(){return c.ApolloCache})),n.d(t,"InMemoryCache",(function(){return c.InMemoryCache})),n.d(t,"MissingFieldError",(function(){return c.MissingFieldError})),n.d(t,"defaultDataIdFromObject",(function(){return c.defaultDataIdFromObject})),n.d(t,"makeVar",(function(){return c.makeVar}));var u=n(83);for(var s in u)["default","ApolloClient","mergeOptions","ObservableQuery","NetworkStatus","isApolloError","ApolloError","Cache","ApolloCache","InMemoryCache","MissingFieldError","defaultDataIdFromObject","makeVar","fromError","toPromise","fromPromise","throwServerError","Observable","isReference","makeReference","setLogVerbosity","resetCaches","disableFragmentWarnings","enableExperimentalFragmentVariables","disableExperimentalFragmentVariables","gql"].indexOf(s)<0&&function(e){n.d(t,e,(function(){return u[e]}))}(s);var d=n(27);for(var s in d)["default","ApolloClient","mergeOptions","ObservableQuery","NetworkStatus","isApolloError","ApolloError","Cache","ApolloCache","InMemoryCache","MissingFieldError","defaultDataIdFromObject","makeVar","fromError","toPromise","fromPromise","throwServerError","Observable","isReference","makeReference","setLogVerbosity","resetCaches","disableFragmentWarnings","enableExperimentalFragmentVariables","disableExperimentalFragmentVariables","gql"].indexOf(s)<0&&function(e){n.d(t,e,(function(){return d[e]}))}(s);var f=n(70);n.d(t,"parseAndCheckHttpResponse",(function(){return f.parseAndCheckHttpResponse})),n.d(t,"serializeFetchParameter",(function(){return f.serializeFetchParameter})),n.d(t,"fallbackHttpConfig",(function(){return f.fallbackHttpConfig})),n.d(t,"selectHttpOptionsAndBody",(function(){return f.selectHttpOptionsAndBody})),n.d(t,"checkFetcher",(function(){return f.checkFetcher})),n.d(t,"createSignalIfSupported",(function(){return f.createSignalIfSupported})),n.d(t,"selectURI",(function(){return f.selectURI})),n.d(t,"createHttpLink",(function(){return f.createHttpLink})),n.d(t,"HttpLink",(function(){return f.HttpLink})),n.d(t,"rewriteURIForGET",(function(){return f.rewriteURIForGET}));var p=n(26);n.d(t,"fromError",(function(){return p.b})),n.d(t,"toPromise",(function(){return p.e})),n.d(t,"fromPromise",(function(){return p.c})),n.d(t,"throwServerError",(function(){return p.d}));var h=n(6);n.d(t,"Observable",(function(){return h.c})),n.d(t,"isReference",(function(){return h.C})),n.d(t,"makeReference",(function(){return h.E}));var m=n(8);n.d(t,"setLogVerbosity",(function(){return m.c}));var v=n(61);n.d(t,"gql",(function(){return v.a})),Object(m.c)("log");var b=v.a.resetCaches,y=v.a.disableFragmentWarnings,g=v.a.enableExperimentalFragmentVariables,_=v.a.disableExperimentalFragmentVariables},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return l}));var r=n(4),o=n(21);var a=r.gql`
    query ASSET($id: AssetId!, $assetSourceId: AssetSourceId!, $includeUsage: Boolean = false) {
        includeUsage @client(always: true) @export(as: "includeUsage")
        asset(id: $id, assetSourceId: $assetSourceId) {
            ...AssetProps
        }
    }
    ${o.a}
`;var i=r.gql`
    query ASSETS(
        $searchTerm: String
        $assetSourceId: AssetSourceId
        $assetCollectionId: AssetCollectionId
        $mediaType: MediaType
        $assetType: AssetType
        $tagId: TagId
        $limit: Int
        $offset: Int
        $sortBy: SortBy
        $sortDirection: SortDirection
        $includeUsage: Boolean = false
    ) {
        includeUsage @client(always: true) @export(as: "includeUsage")
        assets(
            searchTerm: $searchTerm
            assetSourceId: $assetSourceId
            assetCollectionId: $assetCollectionId
            mediaType: $mediaType
            assetType: $assetType
            tagId: $tagId
            limit: $limit
            offset: $offset
            sortBy: $sortBy
            sortDirection: $sortDirection
        ) {
            ...AssetProps
        }
    }
    ${o.a}
`;var s=r.gql`
    query ASSET_COUNT(
        $searchTerm: String
        $assetSourceId: AssetSourceId
        $assetCollectionId: AssetCollectionId
        $mediaType: MediaType
        $assetType: AssetType
        $tagId: TagId
    ) {
        assetCount(
            searchTerm: $searchTerm
            assetSourceId: $assetSourceId
            assetCollectionId: $assetCollectionId
            mediaType: $mediaType
            assetType: $assetType
            tagId: $tagId
        )
    }
`;var l=r.gql`
    query CONFIG {
        config {
            uploadMaxFileSize
            uploadMaxFileUploadLimit
            currentServerTime
        }
    }
`},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return l}));var r=n(93),o=n.n(r);function a(e){const t=e=>{t.publish(e)};return t.subscribe=t=>o.a.subscribe(e,t),t.unsubscribe=e=>{o.a.unsubscribe(e)},t.publish=t=>o.a.publish(e,t),t}const i=a("ASSET_CREATED"),s=a("ASSET_REMOVED"),l=a("ASSET_UPDATED")},function(e,t,n){e.exports={assetsFilter:"AssetsFilter-module__assetsFilter___3rCkH",active:"AssetsFilter-module__active___3caFq",filterList:"AssetsFilter-module__filterList___3vink",typeFilter:"AssetsFilter-module__typeFilter___1WqE8",selectBox:"AssetsFilter-module__selectBox___12L48"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){var t;if(window["@Neos:HostPluginAPI"]&&window["@Neos:HostPluginAPI"]["@"+e])return(t=window["@Neos:HostPluginAPI"])["@"+e].apply(t,arguments);throw new Error("You are trying to read from a consumer api that hasn't been initialized yet!")}}},function(e,t,n){"use strict";var r=n(85);n.d(t,"ApolloCache",(function(){return r.a}));var o=n(117);n.d(t,"Cache",(function(){return o.a}));var a=n(57);n.d(t,"MissingFieldError",(function(){return a.a}));n(6);var i=n(129);n.d(t,"InMemoryCache",(function(){return i.a}));var s=n(43);n.d(t,"makeVar",(function(){return s.c})),n.d(t,"cacheSlot",(function(){return s.a}));var l=n(73);n.d(t,"defaultDataIdFromObject",(function(){return l.b}));n(83)},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=null,o={},a=1,i=Array,s=i["@wry/context:Slot"]||function(){var e=function(){function e(){this.id=["slot",a++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return e.prototype.hasValue=function(){for(var e=r;e;e=e.parent)if(this.id in e.slots){var t=e.slots[this.id];if(t===o)break;return e!==r&&(r.slots[this.id]=t),!0}return r&&(r.slots[this.id]=o),!1},e.prototype.getValue=function(){if(this.hasValue())return r.slots[this.id]},e.prototype.withValue=function(e,t,n,o){var a,i=((a={__proto__:null})[this.id]=e,a),s=r;r={parent:s,slots:i};try{return t.apply(o,n)}finally{r=s}},e.bind=function(e){var t=r;return function(){var n=r;try{return r=t,e.apply(this,arguments)}finally{r=n}}},e.noContext=function(e,t,n){if(!r)return e.apply(n,t);var o=r;try{return r=null,e.apply(n,t)}finally{r=o}},e}();try{Object.defineProperty(i,"@wry/context:Slot",{value:i["@wry/context:Slot"]=e,enumerable:!1,writable:!1,configurable:!1})}finally{return e}}();s.bind,s.noContext},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return u}));var r=n(25),o=new(n(42).a);function a(e,t){if(e.size){var n=[];e.forEach((function(e){return n.push(e)})),e.clear(),n.forEach(t)}}var i=new WeakMap;function s(e){var t=i.get(e);return t||i.set(e,t={vars:new Set,dep:Object(r.b)()}),t}function l(e){s(e).vars.forEach((function(t){return t.forgetCache(e)}))}function c(e){s(e).vars.forEach((function(t){return t.attachCache(e)}))}function u(e){var t=new Set,n=new Set,r=function(l){if(arguments.length>0)e!==l&&(e=l,t.forEach((function(e){s(e).dep.dirty(r),d(e)})),a(n,(function(t){return t(e)})));else{var c=o.getValue();c&&(i(c),s(c).dep(r))}return e};r.onNextChange=function(e){return n.add(e),function(){n.delete(e)}};var i=r.attachCache=function(e){return t.add(e),s(e).vars.add(r),r};return r.forgetCache=function(e){return t.delete(e)},r}function d(e){e.broadcastWatches&&e.broadcastWatches()}},function(e,t,n){e.exports={variantContainer:"Variant-module__variantContainer___1Rz5s",picture:"Variant-module__picture___FTBHB",image:"Variant-module__image___2HAPN",caption:"Variant-module__caption___fS3Y6",infoContainer:"Variant-module__infoContainer___1P2bn",info:"Variant-module__info___1QLy6",variantSizes:"Variant-module__variantSizes___1bXmk"}},function(e,t,n){e.exports={listView:"ListView-module__listView___OX0zS","listView--fullHeight":"ListView-module__listView--fullHeight___36H-z",tableHeader:"ListView-module__tableHeader___2ADYa"}},function(e,t,n){e.exports={listViewItem:"ListViewItem-module__listViewItem___Fd0jz",selected:"ListViewItem-module__selected___3DAUq",textColumn:"ListViewItem-module__textColumn___1z3sq",previewColumn:"ListViewItem-module__previewColumn___qhg-o",labelColumn:"ListViewItem-module__labelColumn___1N00U ListViewItem-module__textColumn___1z3sq",lastModifiedColumn:"ListViewItem-module__lastModifiedColumn___331Rr ListViewItem-module__textColumn___1z3sq",fileSizeColumn:"ListViewItem-module__fileSizeColumn___3vlGC ListViewItem-module__textColumn___1z3sq",mediaTypeColumn:"ListViewItem-module__mediaTypeColumn___11TSD ListViewItem-module__textColumn___1z3sq",actionsColumn:"ListViewItem-module__actionsColumn___18fhN ListViewItem-module__textColumn___1z3sq"}},function(e,t,n){e.exports={mediaModuleApp:"App-module__mediaModuleApp___16GgU",container:"App-module__container___1eV11",fullHeight:"App-module__fullHeight___3WKdi",selectionMode:"App-module__selectionMode___2O0-t",gridColumn:"App-module__gridColumn___pTlSy",gridRight:"App-module__gridRight___1ZvBy App-module__gridColumn___pTlSy",gridLeft:"App-module__gridLeft___1vBO6 App-module__gridColumn___pTlSy",gridMain:"App-module__gridMain___1cIQ3 App-module__gridColumn___pTlSy",gridTop:"App-module__gridTop___2aVks"}},function(e,t,n){"use strict";function r(e,t=!0){const n=t?1e3:1024;if(Math.abs(e)<n)return e+" B";const r=t?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"];let o=-1;do{e/=n,++o}while(Math.abs(e)>=n&&o<r.length-1);return e.toFixed(1)+" "+r[o]}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return xe})),n.d(t,"b",(function(){return Re})),n.d(t,"c",(function(){return Ne}));var r=n(0),o=n.n(r),a=n(3),i=n(5),s=n(11),l=n(10),c=n.n(l),u=n(29),d=new Map([["avi","video/avi"],["gif","image/gif"],["ico","image/x-icon"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["mkv","video/x-matroska"],["mov","video/quicktime"],["mp4","video/mp4"],["pdf","application/pdf"],["png","image/png"],["zip","application/zip"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"]]);function f(e,t){var n=function(e){var t=e.name;if(t&&-1!==t.lastIndexOf(".")&&!e.type){var n=t.split(".").pop().toLowerCase(),r=d.get(n);r&&Object.defineProperty(e,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return e}(e);if("string"!=typeof n.path){var r=e.webkitRelativePath;Object.defineProperty(n,"path",{value:"string"==typeof t?t:"string"==typeof r&&r.length>0?r:e.name,writable:!1,configurable:!1,enumerable:!0})}return n}var p=[".DS_Store","Thumbs.db"];function h(e){return(null!==e.target&&e.target.files?b(e.target.files):[]).map((function(e){return f(e)}))}function m(e,t){return Object(u.b)(this,void 0,void 0,(function(){var n;return Object(u.c)(this,(function(r){switch(r.label){case 0:return e.items?(n=b(e.items).filter((function(e){return"file"===e.kind})),"drop"!==t?[2,n]:[4,Promise.all(n.map(y))]):[3,2];case 1:return[2,v(g(r.sent()))];case 2:return[2,v(b(e.files).map((function(e){return f(e)})))]}}))}))}function v(e){return e.filter((function(e){return-1===p.indexOf(e.name)}))}function b(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r)}return t}function y(e){if("function"!=typeof e.webkitGetAsEntry)return _(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?S(t):_(e)}function g(e){return e.reduce((function(e,t){return Object(u.d)(e,Array.isArray(t)?g(t):[t])}),[])}function _(e){var t=e.getAsFile();if(!t)return Promise.reject(e+" is not a File");var n=f(t);return Promise.resolve(n)}function O(e){return Object(u.b)(this,void 0,void 0,(function(){return Object(u.c)(this,(function(t){return[2,e.isDirectory?S(e):E(e)]}))}))}function S(e){var t=e.createReader();return new Promise((function(e,n){var r=[];!function o(){var a=this;t.readEntries((function(t){return Object(u.b)(a,void 0,void 0,(function(){var a,i,s;return Object(u.c)(this,(function(l){switch(l.label){case 0:if(t.length)return[3,5];l.label=1;case 1:return l.trys.push([1,3,,4]),[4,Promise.all(r)];case 2:return a=l.sent(),e(a),[3,4];case 3:return i=l.sent(),n(i),[3,4];case 4:return[3,6];case 5:s=Promise.all(t.map(O)),r.push(s),o(),l.label=6;case 6:return[2]}}))}))}),(function(e){n(e)}))}()}))}function E(e){return Object(u.b)(this,void 0,void 0,(function(){return Object(u.c)(this,(function(t){return[2,new Promise((function(t,n){e.file((function(n){var r=f(n,e.fullPath);t(r)}),(function(e){n(e)}))}))]}))}))}var w=n(147),C=n.n(w);function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var j=function(e){e=Array.isArray(e)&&1===e.length?e[0]:e;var t=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:"file-invalid-type",message:"File type must be ".concat(t)}},k=function(e){return{code:"file-too-large",message:"File is larger than ".concat(e," bytes")}},I=function(e){return{code:"file-too-small",message:"File is smaller than ".concat(e," bytes")}},N={code:"too-many-files",message:"Too many files"};function x(e,t){var n="application/x-moz-file"===e.type||C()(e,t);return[n,n?null:j(t)]}function R(e,t,n){if(D(e.size))if(D(t)&&D(n)){if(e.size>n)return[!1,k(n)];if(e.size<t)return[!1,I(t)]}else{if(D(t)&&e.size<t)return[!1,I(t)];if(D(n)&&e.size>n)return[!1,k(n)]}return[!0,null]}function D(e){return null!=e}function M(e){var t=e.files,n=e.accept,r=e.minSize,o=e.maxSize,a=e.multiple,i=e.maxFiles;return!(!a&&t.length>1||a&&i>=1&&t.length>i)&&t.every((function(e){var t=T(x(e,n),1)[0],a=T(R(e,r,o),1)[0];return t&&a}))}function L(e){return"function"==typeof e.isPropagationStopped?e.isPropagationStopped():void 0!==e.cancelBubble&&e.cancelBubble}function P(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,(function(e){return"Files"===e||"application/x-moz-file"===e})):!!e.target&&!!e.target.files}function F(e){e.preventDefault()}function B(e){return-1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident/")}function U(e){return-1!==e.indexOf("Edge/")}function V(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return B(e)||U(e)}function q(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return t.some((function(t){return!L(e)&&t&&t.apply(void 0,[e].concat(r)),L(e)}))}}function z(e){return function(e){if(Array.isArray(e))return W(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||$(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||$(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){if(e){if("string"==typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?W(e,t):void 0}}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){G(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var X=Object(r.forwardRef)((function(e,t){var n=e.children,a=ee(Y(e,["children"])),i=a.open,s=Y(a,["open"]);return Object(r.useImperativeHandle)(t,(function(){return{open:i}}),[i]),o.a.createElement(r.Fragment,null,n(K(K({},s),{},{open:i})))}));X.displayName="Dropzone";var J={disabled:!1,getFilesFromEvent:function(e){return Object(u.b)(this,void 0,void 0,(function(){return Object(u.c)(this,(function(t){return[2,(n=e,n.dataTransfer&&e.dataTransfer?m(e.dataTransfer,e.type):h(e))];var n}))}))},maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null};X.defaultProps=J,X.propTypes={children:c.a.func,accept:c.a.oneOfType([c.a.string,c.a.arrayOf(c.a.string)]),multiple:c.a.bool,preventDropOnDocument:c.a.bool,noClick:c.a.bool,noKeyboard:c.a.bool,noDrag:c.a.bool,noDragEventsBubbling:c.a.bool,minSize:c.a.number,maxSize:c.a.number,maxFiles:c.a.number,disabled:c.a.bool,getFilesFromEvent:c.a.func,onFileDialogCancel:c.a.func,onDragEnter:c.a.func,onDragLeave:c.a.func,onDragOver:c.a.func,onDrop:c.a.func,onDropAccepted:c.a.func,onDropRejected:c.a.func,validator:c.a.func};var Z={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function ee(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=K(K({},J),e),n=t.accept,o=t.disabled,a=t.getFilesFromEvent,i=t.maxSize,s=t.minSize,l=t.multiple,c=t.maxFiles,u=t.onDragEnter,d=t.onDragLeave,f=t.onDragOver,p=t.onDrop,h=t.onDropAccepted,m=t.onDropRejected,v=t.onFileDialogCancel,b=t.preventDropOnDocument,y=t.noClick,g=t.noKeyboard,_=t.noDrag,O=t.noDragEventsBubbling,S=t.validator,E=Object(r.useRef)(null),w=Object(r.useRef)(null),C=Object(r.useReducer)(te,Z),T=Q(C,2),A=T[0],j=T[1],k=A.isFocused,I=A.isFileDialogActive,D=A.draggedFiles,B=Object(r.useCallback)((function(){w.current&&(j({type:"openDialog"}),w.current.value=null,w.current.click())}),[j]),U=function(){I&&setTimeout((function(){w.current&&(w.current.files.length||(j({type:"closeDialog"}),"function"==typeof v&&v()))}),300)};Object(r.useEffect)((function(){return window.addEventListener("focus",U,!1),function(){window.removeEventListener("focus",U,!1)}}),[w,I,v]);var $=Object(r.useCallback)((function(e){E.current&&E.current.isEqualNode(e.target)&&(32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),B()))}),[E,w]),W=Object(r.useCallback)((function(){j({type:"focus"})}),[]),H=Object(r.useCallback)((function(){j({type:"blur"})}),[]),X=Object(r.useCallback)((function(){y||(V()?setTimeout(B,0):B())}),[w,y]),ee=Object(r.useRef)([]),ne=function(e){E.current&&E.current.contains(e.target)||(e.preventDefault(),ee.current=[])};Object(r.useEffect)((function(){return b&&(document.addEventListener("dragover",F,!1),document.addEventListener("drop",ne,!1)),function(){b&&(document.removeEventListener("dragover",F),document.removeEventListener("drop",ne))}}),[E,b]);var re=Object(r.useCallback)((function(e){e.preventDefault(),e.persist(),ue(e),ee.current=[].concat(z(ee.current),[e.target]),P(e)&&Promise.resolve(a(e)).then((function(t){L(e)&&!O||(j({draggedFiles:t,isDragActive:!0,type:"setDraggedFiles"}),u&&u(e))}))}),[a,u,O]),oe=Object(r.useCallback)((function(e){e.preventDefault(),e.persist(),ue(e);var t=P(e);if(t&&e.dataTransfer)try{e.dataTransfer.dropEffect="copy"}catch(e){}return t&&f&&f(e),!1}),[f,O]),ae=Object(r.useCallback)((function(e){e.preventDefault(),e.persist(),ue(e);var t=ee.current.filter((function(e){return E.current&&E.current.contains(e)})),n=t.indexOf(e.target);-1!==n&&t.splice(n,1),ee.current=t,t.length>0||(j({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),P(e)&&d&&d(e))}),[E,d,O]),ie=Object(r.useCallback)((function(e){e.preventDefault(),e.persist(),ue(e),ee.current=[],P(e)&&Promise.resolve(a(e)).then((function(t){if(!L(e)||O){var r=[],o=[];t.forEach((function(e){var t=Q(x(e,n),2),a=t[0],l=t[1],c=Q(R(e,s,i),2),u=c[0],d=c[1],f=S?S(e):null;if(a&&u&&!f)r.push(e);else{var p=[l,d];f&&(p=p.concat(f)),o.push({file:e,errors:p.filter((function(e){return e}))})}})),(!l&&r.length>1||l&&c>=1&&r.length>c)&&(r.forEach((function(e){o.push({file:e,errors:[N]})})),r.splice(0)),j({acceptedFiles:r,fileRejections:o,type:"setFiles"}),p&&p(r,o,e),o.length>0&&m&&m(o,e),r.length>0&&h&&h(r,e)}})),j({type:"reset"})}),[l,n,s,i,c,a,p,h,m,O]),se=function(e){return o?null:e},le=function(e){return g?null:se(e)},ce=function(e){return _?null:se(e)},ue=function(e){O&&e.stopPropagation()},de=Object(r.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,r=e.onKeyDown,a=e.onFocus,i=e.onBlur,s=e.onClick,l=e.onDragEnter,c=e.onDragOver,u=e.onDragLeave,d=e.onDrop,f=Y(e,["refKey","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"]);return K(K(G({onKeyDown:le(q(r,$)),onFocus:le(q(a,W)),onBlur:le(q(i,H)),onClick:se(q(s,X)),onDragEnter:ce(q(l,re)),onDragOver:ce(q(c,oe)),onDragLeave:ce(q(u,ae)),onDrop:ce(q(d,ie))},n,E),o||g?{}:{tabIndex:0}),f)}}),[E,$,W,H,X,re,oe,ae,ie,g,_,o]),fe=Object(r.useCallback)((function(e){e.stopPropagation()}),[]),pe=Object(r.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,r=void 0===t?"ref":t,o=e.onChange,a=e.onClick,i=Y(e,["refKey","onChange","onClick"]),s=G({accept:n,multiple:l,type:"file",style:{display:"none"},onChange:se(q(o,ie)),onClick:se(q(a,fe)),autoComplete:"off",tabIndex:-1},r,w);return K(K({},s),i)}}),[w,n,l,ie,o]),he=D.length,me=he>0&&M({files:D,accept:n,minSize:s,maxSize:i,multiple:l,maxFiles:c}),ve=he>0&&!me;return K(K({},A),{},{isDragAccept:me,isDragReject:ve,isFocused:k&&!o,getRootProps:de,getInputProps:pe,rootRef:E,inputRef:w,open:se(B)})}function te(e,t){switch(t.type){case"focus":return K(K({},e),{},{isFocused:!0});case"blur":return K(K({},e),{},{isFocused:!1});case"openDialog":return K(K({},e),{},{isFileDialogActive:!0});case"closeDialog":return K(K({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":var n=t.isDragActive,r=t.draggedFiles;return K(K({},e),{},{draggedFiles:r,isDragActive:n});case"setFiles":return K(K({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return K(K({},e),{},{isFileDialogActive:!1,isDragActive:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]});default:return e}}var ne=n(13),re=n.n(ne),oe=n(9),ae=n(48),ie=n(80),se=n.n(ie);var le=o.a.memo(({acceptedFileTypes:e,files:t,loading:n,maxFiles:r,onSetFiles:a})=>{const{translate:s}=Object(i.d)(),l=Object(i.f)(),{dummyImage:c}=Object(i.e)(),{config:u}=Object(oe.d)(),d=r?Math.min(r,null==u?void 0:u.uploadMaxFileUploadLimit):(null==u?void 0:u.uploadMaxFileUploadLimit)||1,{getRootProps:f,getInputProps:p,isDragAccept:h,isDragActive:m,isDragReject:v}=ee({onDrop:e=>{if(0===e.length)return;const n=d-t.length;if(e.length>n&&l.error(s("uploadDialog.warning.maxFiles","You can only upload a maximum of {limit} files. {rejected} File(s) rejected",{limit:d,rejected:e.length-n})),0===n)return;const r=(e.length<n?e:e.slice(0,n)).map(e=>(e.id=`${e.name}-${e.size}-${e.lastModified}`,0===e.type.indexOf("image")?e.preview=URL.createObjectURL(e):e.preview=c,e));a(t.concat(r))},disabled:n,onDropRejected:e=>{e.forEach(e=>{l.warning(s("uploadDialog.warning.fileRejected","The given file cannot be uploaded."),e.errors.reduce((e,t)=>`${e} ${t.message}`,""))})},maxSize:(null==u?void 0:u.uploadMaxFileSize)||0,maxFiles:d,multiple:d>1,preventDropOnDocument:!0,accept:e});return o.a.createElement("section",null,o.a.createElement("div",{...f({className:re()(se.a.dropzone,h&&se.a.dropzoneAccept,m&&se.a.dropzoneActive,v&&se.a.dropzoneReject)})},o.a.createElement("input",{...p()}),o.a.createElement("p",null,s("uploadDialog.dropzone.caption","Drag 'n' drop some files here, or click to select files")),(null==u?void 0:u.uploadMaxFileSize)>0&&o.a.createElement("p",null,s("uploadDialog.maxFileSize","Maximum file size is {size} and file limit is {limit}",{size:Object(ae.a)(u.uploadMaxFileSize),limit:d}))),n&&o.a.createElement("p",null,s("uploadDialog.label.uploading","Uploading…")))}),ce=n(55),ue=n.n(ce);var de=o.a.memo(({file:e,loading:t=!1,fileState:n})=>{const r=null==n?void 0:n.success,i=n&&!r;return o.a.createElement("div",{className:re()(ue.a.thumb,i?ue.a.error:r?ue.a.success:t&&ue.a.loading),title:e.name},o.a.createElement("div",{className:ue.a.thumbInner},o.a.createElement("img",{src:e.preview,alt:e.name,className:ue.a.img}),t&&o.a.createElement(a.Icon,{icon:"spinner",spin:!0}),r&&o.a.createElement(a.Icon,{icon:"check"}),i&&o.a.createElement(a.Icon,{icon:"exclamation-circle"}),(null==n?void 0:n.result)&&o.a.createElement("span",null,n.result)))}),fe=n(81),pe=n.n(fe);var he=o.a.memo(({files:e,loading:t,uploadState:n})=>{const{translate:r}=Object(i.d)();return o.a.createElement("aside",{className:pe.a.fileList},e.selected.length>0&&o.a.createElement(o.a.Fragment,null,o.a.createElement("h4",{className:pe.a.fileListHeader},r("uploadDialog.fileList.header","Selected files")),e.selected.map(e=>o.a.createElement(de,{file:e,loading:t,fileState:n.find(t=>t.filename===e.name),key:e.id}))),e.rejected.length>0&&o.a.createElement(o.a.Fragment,null,o.a.createElement("h4",{className:pe.a.fileListHeader},r("uploadDialog.fileList.uploadedHeader","Failed uploads")),e.rejected.map(e=>o.a.createElement(de,{file:e,fileState:n.find(t=>t.filename===e.name),key:e.id}))),e.finished.length>0&&o.a.createElement(o.a.Fragment,null,o.a.createElement("h4",{className:pe.a.fileListHeader},r("uploadDialog.fileList.uploadedHeader","Successful uploads")),e.finished.map(e=>o.a.createElement(de,{file:e,fileState:n.find(t=>t.filename===e.name),key:e.id}))))}),me=n(1),ve=n(59),be=n(30);var ye=()=>{const[e,t]=Object(r.useState)({selected:[],finished:[],rejected:[]}),[n,o]=Object(me.f)(ve.a),a=Object(r.useCallback)(()=>{e.selected.forEach(e=>URL.revokeObjectURL(e.preview)),e.finished.forEach(e=>URL.revokeObjectURL(e.preview)),e.rejected.forEach(e=>URL.revokeObjectURL(e.preview)),t({selected:[],finished:[],rejected:[]}),o({uploadType:be.a.new,visible:!1})},[e,t,o]);return{state:{...n,files:e},closeDialog:a,setFiles:t}},ge=n(4),_e=n(14),Oe=n(12);var Se=ge.gql`
    mutation ReplaceAsset(
        $id: AssetId!
        $assetSourceId: AssetSourceId!
        $file: Upload!
        $options: AssetReplacementOptionsInput!
    ) {
        replaceAsset(id: $id, assetSourceId: $assetSourceId, file: $file, options: $options) {
            filename
            success
            result
        }
    }
`;var Ee=ge.gql`
    mutation UploadFiles($files: [Upload!]!, $tagId: TagId, $assetCollectionId: AssetCollectionId) {
        uploadFiles(files: $files, tagId: $tagId, assetCollectionId: $assetCollectionId) {
            filename
            success
            result
        }
    }
`;ge.gql`
    mutation UploadFile($file: Upload!, $tagId: TagId, $assetCollectionId: AssetCollectionId) {
        uploadFile(file: $file, tagId: $tagId, assetCollectionId: $assetCollectionId) {
            filename
            success
            result
        }
    }
`;var we=n(148),Ce=n.n(we);var Te=o.a.memo(()=>{const{translate:e}=Object(i.d)(),t=Object(i.f)(),{uploadFiles:n,uploadState:l,loading:c}=function(){const[e,{error:t,data:n,loading:r}]=Object(ge.useMutation)(Ee),o=Object(me.g)(_e.c),a=Object(me.g)(Oe.f);return{uploadFiles:t=>e({variables:{files:t,tagId:o,assetCollectionId:a},refetchQueries:["ASSET_COLLECTIONS"]}),uploadState:(null==n?void 0:n.uploadFiles)||[],error:t,loading:r}}(),{state:u,closeDialog:d,setFiles:f}=ye(),{refetch:p}=Object(oe.c)(),h=!c&&u.files.selected.length>0,m=Object(r.useCallback)(()=>{n(u.files.selected).then(({data:{uploadFiles:n}})=>{f(e=>({selected:[],finished:[...e.finished,...e.selected.filter(e=>n.find(t=>t.success&&t.filename===e.name))],rejected:[...e.rejected,...e.selected.filter(e=>n.find(t=>!t.success&&t.filename===e.name))]})),n.some(e=>!e.success)?t.warning(e("uploadDialog.uploadFinishedWithErrors","Some files could not be uploaded")):t.ok(e("uploadDialog.uploadFinished","Upload finished")),n.some(e=>e.success)&&p()}).catch(n=>{t.error(e("fileUpload.error","Upload failed"),n)})},[n,u.files.selected,f,t,e,p]),v=Object(r.useCallback)(e=>{f(t=>({...t,selected:e}))},[f]);return o.a.createElement(s.c,{isOpen:u.visible,title:e("uploadDialog.title","Upload assets"),onRequestClose:d,actions:[o.a.createElement(a.Button,{key:"cancel",style:"neutral",hoverStyle:"darken",onClick:d},l?e("uploadDialog.close","Close"):e("uploadDialog.cancel","Cancel")),o.a.createElement(a.Button,{key:"upload",style:"success",hoverStyle:"success",disabled:!h,onClick:m},e("uploadDialog.upload","Upload"))],style:"wide"},o.a.createElement("section",{className:Ce.a.uploadArea},o.a.createElement(le,{files:u.files.selected,loading:c,onSetFiles:v}),o.a.createElement(he,{files:u.files,loading:c,uploadState:l})))}),Ae=n(7);var je=n(56),ke=n.n(je);var Ie=o.a.memo(()=>{const{translate:e}=Object(i.d)(),t=Object(i.f)(),n=Object(oe.i)(),{replaceAsset:l,uploadState:c,loading:u}=function(){const[e,{error:t,data:n,loading:r}]=Object(ge.useMutation)(Se);return{replaceAsset:({asset:t,file:n,options:r})=>e({variables:{id:t.id,assetSourceId:t.assetSource.id,file:n,options:r}}),uploadState:(null==n?void 0:n.replaceAsset)||null,error:t,loading:r}}(),{refetch:d}=Object(oe.c)(),{approvalAttainmentStrategy:{obtainApprovalToReplaceAsset:f}}=Object(i.e)(),p=Object(me.g)(Ae.f),{state:h,closeDialog:m,setFiles:v}=ye(),[b,y]=o.a.useState({keepOriginalFilename:!1,generateRedirects:!1}),g=!u&&h.files.selected.length>0,_=Object(r.useMemo)(()=>{var e,t;const r=null===(t=null===(e=(null==n?void 0:n.file.mediaType).match(/^(?<type>(?:[.!#%&'`^~$*+\-|\w]+))\//))||void 0===e?void 0:e.groups)||void 0===t?void 0:t.type;return r?r+"/*":""},[n]),O=Object(r.useCallback)(async()=>{if(0===h.files.selected.length)return;const r=h.files.selected[0];if(await f({asset:n}))try{await l({asset:n,file:r,options:b}),t.ok(e("uploadDialog.replacementFinished","Replacement finished")),m(),d()}catch(n){t.error(e("assetReplacement.error","Replacement failed"),n)}},[l,t,e,h,b,d,n,m,f]),S=Object(r.useCallback)(e=>{v(t=>({...t,selected:e}))},[v]);return o.a.createElement(s.c,{isOpen:h.visible,title:e("uploadDialog.replaceAsset","Replace Asset"),onRequestClose:m,actions:[o.a.createElement(a.Button,{key:"cancel",style:"neutral",hoverStyle:"darken",onClick:m},c?e("uploadDialog.close","Close"):e("uploadDialog.cancel","Cancel")),o.a.createElement(a.Button,{key:"upload",style:"success",hoverStyle:"success",disabled:!g,onClick:O},e("uploadDialog.replace","Replace"))],style:"wide"},o.a.createElement("section",{className:ke.a.uploadArea},o.a.createElement(le,{files:h.files.selected,loading:u,onSetFiles:S,maxFiles:1,acceptedFileTypes:_}),o.a.createElement("section",{className:ke.a.optionSection},p.createAssetRedirectsOption&&o.a.createElement("div",{className:ke.a.option},o.a.createElement(a.Label,{className:ke.a.label},o.a.createElement(a.CheckBox,{isChecked:b.generateRedirects,onChange:e=>y({...b,generateRedirects:e})}),o.a.createElement("span",null,e("uploadDialog.generateRedirects","Generate redirects")))),o.a.createElement("div",{className:ke.a.option},o.a.createElement(a.Label,{className:ke.a.label},o.a.createElement(a.CheckBox,{isChecked:b.keepOriginalFilename,onChange:e=>y({...b,keepOriginalFilename:e})}),o.a.createElement("span",null,e("uploadDialog.keepOriginalFilename","Keep original filename"))))),o.a.createElement(he,{files:h.files,loading:u,uploadState:c?[c]:[]})))});var Ne=r.memo(()=>{const{visible:e,uploadType:t}=Object(me.g)(be.b);return e&&(t===be.a.update?r.createElement(Ie,null):r.createElement(Te,null))||null});var xe=r.memo(()=>{const[e,t]=Object(me.f)(be.b),{translate:n}=Object(i.d)();return r.createElement(a.Button,{size:"regular",style:e.visible&&e.uploadType===be.a.update?"brand":"lighter",hoverStyle:"brand",onClick:()=>t({visible:!0,uploadType:be.a.update})},r.createElement(a.Icon,{icon:"exchange-alt"}),n("assetReplacement.toggle","Replace asset"))});function Re(){const{translate:e}=Object(i.d)(),t=Object(me.h)(be.b);return r.createElement("div",null,r.createElement(a.Button,{size:"regular",style:"lighter",hoverStyle:"brand",onClick:()=>t({visible:!0,uploadType:be.a.new})},r.createElement(a.Icon,{icon:"upload"})," ",e("uploadButton.label","Upload")))}},function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return g}));var r=n(0),o=n.n(r),a=n(1),i=n(3),s=n(5);var l=Object(a.b)({key:"similarAssetsModalState",default:!1});var c=r.memo(()=>{const[e,t]=Object(a.f)(l),{translate:n}=Object(s.d)();return r.createElement(i.Button,{size:"regular",style:e?"brand":"lighter",hoverStyle:"brand",onClick:()=>t(!0)},r.createElement(i.Icon,{icon:"equals"}),n("similarAssetsModal.show","Show similar assets"))}),u=n(9),d=n(4),f=n(21);var p=d.gql`
    query SIMILAR_ASSETS($id: AssetId!, $assetSourceId: AssetSourceId!, $includeUsage: Boolean = false) {
        includeUsage @client(always: true) @export(as: "includeUsage")
        similarAssets(id: $id, assetSourceId: $assetSourceId) {
            ...AssetProps
        }
    }
    ${f.a}
`;var h=n(94),m=n.n(h);var v=o.a.memo(({asset:e})=>{const{dummyImage:t}=Object(s.e)();return o.a.createElement("figure",{className:m.a.similarAsset},o.a.createElement("picture",{className:m.a.picture},o.a.createElement("img",{src:e?e.thumbnailUrl:t,alt:null==e?void 0:e.label})),o.a.createElement("figcaption",{className:m.a.caption},e&&o.a.createElement(o.a.Fragment,null,o.a.createElement("img",{src:e.file.typeIcon.url,alt:e.file.typeIcon.alt}),o.a.createElement("span",null,e.label))))}),b=n(146),y=n.n(b);var g=r.memo(()=>{const{translate:e}=Object(s.d)(),[t,n]=Object(a.f)(l),o=Object(u.i)(),{similarAssets:c,loading:f}=function(e){const{data:t,loading:n}=Object(d.useQuery)(p,{variables:{id:null==e?void 0:e.assetId,assetSourceId:null==e?void 0:e.assetSourceId},skip:!e});return{similarAssets:(null==t?void 0:t.similarAssets)||null,loading:n}}(o?{assetId:o.id,assetSourceId:o.assetSource.id}:null),h=Object(r.useCallback)(()=>n(!1),[n]);return r.createElement(i.Dialog,{isOpen:t,title:e("similarAssetsModal.title","Similar assets to "+o.label,{asset:o.label}),onRequestClose:h,style:"wide",actions:[r.createElement(i.Button,{key:"cancel",style:"neutral",hoverStyle:"darken",onClick:h},e("similarAssetsModal.cancel","Cancel"))]},r.createElement("div",{className:y.a.assetUsage},(null==c?void 0:c.length)>0?c.map((e,t)=>r.createElement(v,{key:t,asset:e})):r.createElement("span",null,f?e("similarAssetsModal.loading","Loading..."):e("similarAssetsModal.noResults","No results"))))})},function(e,t,n){e.exports={thumbnail:"Thumbnail-module__thumbnail___ck0xX",caption:"Thumbnail-module__caption___MRAet",toolBar:"Thumbnail-module__toolBar___2GIKg","button--active":"Thumbnail-module__button--active___2JAU8",picture:"Thumbnail-module__picture___2rVd3",selected:"Thumbnail-module__selected___c4DgY",label:"Thumbnail-module__label___niWY0",disabled:"Thumbnail-module__disabled___38I1-"}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return i}));var r=n(0);const o=Object(r.createContext)(null),a=()=>Object(r.useContext)(o);function i({children:e,notificationApi:t}){return r.createElement(o.Provider,{value:{notice:e=>t.notice(e),error:(e,n="")=>t.error(e,n),ok:e=>t.ok(e),info:e=>t.info(e),warning:(e,n="")=>t.warning(e,n)}},e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const r=/id:([0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12})/;class o{constructor(e){this.value=e,this.assetIdentifier=void 0,this.getAssetIdentifierIfPresent=()=>this.assetIdentifier?{assetId:this.assetIdentifier,assetSourceId:""}:null,this.toString=()=>this.value,this.empty=()=>""===this.value;const t=r.exec(this.value);t&&t[1]?this.assetIdentifier=t[1]:this.assetIdentifier=null}static fromString(e){return new o(e)}static fromUrl(e){var t;const n=null!==(t=e.searchParams.get("searchTerm"))&&void 0!==t?t:"";return o.fromString(n)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return $})),n.d(t,"c",(function(){return H})),n.d(t,"d",(function(){return Y})),n.d(t,"e",(function(){return J})),n.d(t,"f",(function(){return ee})),n.d(t,"g",(function(){return te})),n.d(t,"h",(function(){return ne})),n.d(t,"i",(function(){return re}));var r=n(0),o=n.n(r),a=n(1),i=n(3),s=n(5),l=n(7),c=n(12),u=n(150),d=n.n(u);var f=({hasUnpublishedChanges:e,handleApply:t,handleDiscard:n,inputValid:r=!0})=>{const{translate:a}=Object(s.d)();return o.a.createElement("div",{className:d.a.actions},o.a.createElement(i.Button,{disabled:!e,size:"regular",style:"lighter",hoverStyle:"brand",onClick:n},a("inspector.actions.discard","Discard")),o.a.createElement(i.Button,{disabled:!e||!r,size:"regular",style:"success",hoverStyle:"success",onClick:t},a("inspector.actions.apply","Apply")))};var p=({children:e,label:t})=>o.a.createElement("div",{className:"propertyGroup"},o.a.createElement(i.Label,null,t),e),h=n(151),m=n.n(h);var v=({children:e})=>o.a.createElement("div",{className:m.a.inspector},e),b=n(11);const y=({option:e,...t})=>o.a.createElement(i.SelectBox_Option_MultiLineWithThumbnail,{...t,...e});var g=n(152);var _=o.a.memo(()=>{var e;const t=Object(s.f)(),{translate:n}=Object(s.d)(),{assetCollections:a}=Object(c.g)(),l=Object(c.h)(),{setAssetCollectionParent:u,loading:d}=Object(c.i)(),[f,p]=Object(r.useState)(""),h=Object(r.useMemo)(()=>a.filter(({id:e})=>e!==l.id).map(e=>({label:e.title,id:e.id,secondaryLabel:e.parent?"/"+Object(c.d)(e,a).map(({title:e})=>e).join("/"):""})),[a,null==l?void 0:l.id]),m=Object(r.useMemo)(()=>h.filter(({label:e})=>e.toLowerCase().includes(f)),[h,f]),v=Object(r.useCallback)(async e=>{var r;e!==(null===(r=l.parent)||void 0===r?void 0:r.id)&&u({assetCollection:l,parent:e?a.find(t=>t.id===e):null}).then(()=>{t.ok(n("ParentCollectionSelectBox.setParent.success","The parent collection has been set"))}).catch(({message:e})=>{t.error(n("ParentCollectionSelectBox.setParent.error","Error while setting the parent collection"),e)})},[l,u,a,t,n]),_=Object(r.useCallback)(e=>{p(e.toLowerCase())},[]);return o.a.createElement("div",null,o.a.createElement(i.Headline,{type:"h2"},o.a.createElement(b.d,{icon:"folder",label:n("inspector.assetCollections","Parent collection")})),o.a.createElement(i.SelectBox,{className:g.collectionSelectBox,disabled:d,placeholder:n("inspector.collections.placeholder","Select a collection"),value:null===(e=l.parent)||void 0===e?void 0:e.id,optionValueField:"id",options:m,noMatchesFoundLabel:n("general.noMatchesFound","No matches found"),onValueChange:v,onSearchTermChange:_,ListPreviewElement:y,displaySearchBox:!0,allowEmpty:!0,threshold:0}))});var O=o.a.memo(()=>{const e=Object(c.h)(),t=Object(a.g)(l.n),n=Object(s.f)(),{translate:u}=Object(s.d)(),[d,h]=Object(r.useState)(""),{updateAssetCollection:m}=Object(c.j)(),b=e&&d!==e.title,y=Object(r.useCallback)(e=>{h(e.trim())},[]),g=Object(r.useCallback)(()=>{e&&h(e.title)},[e,h]),O=Object(r.useCallback)(()=>{d!==e.title&&m({assetCollection:e,title:d}).then(()=>{n.ok(u("actions.updateAssetCollection.success","The asset collection has been updated"))}).catch(({message:e})=>{n.error(u("actions.deleteAssetCollection.error","Error while updating the asset collection"),e)})},[n,u,e,m,d]);return Object(r.useEffect)(()=>{g()},[null==e?void 0:e.id]),e&&"assetCollection"===t?o.a.createElement(v,null,o.a.createElement(p,{label:u("inspector.title","Title")},o.a.createElement(i.TextInput,{type:"text",value:d,onChange:y,onEnterKey:O})),o.a.createElement(f,{handleApply:O,handleDiscard:g,hasUnpublishedChanges:b,inputValid:!!d}),o.a.createElement(re,null),o.a.createElement(_,null)):null}),S=n(9),E=n(4);var w=E.gql`
    fragment CropInformationProps on CropInformation {
        width
        height
        x
        y
    }
`;var C=E.gql`
    query ASSET_VARIANTS($id: AssetId!, $assetSourceId: AssetSourceId!) {
        assetVariants(id: $id, assetSourceId: $assetSourceId) {
            id
            width
            height
            presetIdentifier
            variantName
            hasCrop
            previewUrl
            cropInformation {
                ...CropInformationProps
            }
        }
    }
    ${w}
`;var T=n(44),A=n.n(T);var j=({presetIdentifier:e,variantName:t,width:n,height:r,previewUrl:a})=>o.a.createElement("div",{className:A.a.variantContainer},o.a.createElement("picture",{className:A.a.picture},o.a.createElement("img",{className:A.a.image,src:a,alt:t})),o.a.createElement("figcaption",{className:A.a.caption},o.a.createElement("div",{className:A.a.infoContainer},e?o.a.createElement("span",{className:A.a.info},"Preset: ",e):null,t?o.a.createElement("span",{className:A.a.info},"Variant: ",t):null,o.a.createElement("span",{className:A.a.variantSizes},"W: ",n," H: ",r)))),k=n(104),I=n.n(k);var N=()=>{var e,t;const{translate:n}=Object(s.d)(),r=Object(S.i)(),a=function(e){const{data:t,loading:n,refetch:r}=Object(E.useQuery)(C,{variables:{id:null==e?void 0:e.assetId,assetSourceId:null==e?void 0:e.assetSourceId},skip:!e});return{variants:(null==t?void 0:t.assetVariants)||null,loading:n,refetch:r}}(r?{assetId:r.id,assetSourceId:r.assetSource.id}:null);return r?o.a.createElement("div",{className:I.a.variantsContainer},a.loading?o.a.createElement("div",null,"Loading Variants"):o.a.createElement(o.a.Fragment,null,o.a.createElement("h1",null,"Image Variants"),o.a.createElement("ul",null,(null===(e=a.variants)||void 0===e?void 0:e.length)>0?null===(t=a.variants)||void 0===t?void 0:t.map(e=>o.a.createElement("li",{className:I.a.variantItem,key:"variant-"+e.id},o.a.createElement(j,{...e}))):o.a.createElement("li",null,n("assetVariants.noVariantsFound","No variants found"))))):null},x=n(19),R=n(50),D=n(49),M=n(77),L=n(153),P=n.n(L);var F=o.a.memo(()=>{const{translate:e}=Object(s.d)(),t=Object(S.i)(),n=Object(a.g)(l.a),{showSimilarAssets:r}=Object(a.g)(l.f);return t?o.a.createElement("div",{className:P.a.tasks},o.a.createElement(i.Headline,{type:"h2"},o.a.createElement(b.d,{icon:"tasks",label:e("inspector.actions","Tasks")})),o.a.createElement(x.b,null),r&&o.a.createElement(R.b,null),!t.assetSource.readOnly&&"details"!==n&&o.a.createElement(D.a,null),!t.assetSource.readOnly&&"details"!==n&&o.a.createElement(M.b,null)):null}),B=n(64),U=n.n(B),V=n(23);var q=o.a.memo(()=>{const e=Object(S.i)(),{assetSources:t}=Object(V.e)(),n=Object(s.f)(),{translate:c}=Object(s.d)(),{approvalAttainmentStrategy:{obtainApprovalToUpdateAsset:u}}=Object(s.e)(),d=Object(a.g)(l.f),[h,m]=Object(r.useState)(null),[y,g]=Object(r.useState)(null),[_,O]=Object(r.useState)(null),[E,w]=Object(r.useState)(d.propertyEditor.collapsed),{updateAsset:C,loading:T}=Object(S.l)(),A=(null==e?void 0:e.localId)&&!T,j=e&&(h!==e.label||y!==e.caption||_!==e.copyrightNotice),k=e?t.find(({id:t})=>t===e.assetSource.id):null,I=Object(r.useCallback)(()=>{e&&(m(e.label),g(e.caption),O(e.copyrightNotice))},[e,m,g,O]),N=Object(r.useCallback)(async()=>{if(h!==e.label||y!==e.caption||_!==e.copyrightNotice){if(await u({asset:e}))try{await C({asset:e,label:h,caption:y,copyrightNotice:_}),n.ok(c("actions.updateAsset.success","The asset has been updated"))}catch({message:e}){n.error(c("actions.deleteAsset.error","Error while updating the asset"),e)}}},[n,c,y,_,h,e,C,u]);return Object(r.useEffect)(()=>{I()},[null==e?void 0:e.id]),e?o.a.createElement(v,null,o.a.createElement(i.ToggablePanel,{closesToBottom:!0,className:U.a.propertyPanel,isOpen:!E,onPanelToggle:()=>w(e=>!e)},o.a.createElement(i.ToggablePanel.Header,{className:U.a.propertyPanelHeader},o.a.createElement(b.d,{icon:"pencil",label:c("propertyPanel.header","Properties")})),o.a.createElement(i.ToggablePanel.Contents,{className:U.a.propertyPanelContents},o.a.createElement(p,{label:c("inspector.title","Title")},o.a.createElement(i.TextInput,{name:"label",disabled:!A,type:"text",value:h||"",onChange:m,onEnterKey:N})),o.a.createElement(p,{label:c("inspector.caption","Caption")},o.a.createElement(i.TextArea,{name:"caption",className:U.a.textArea,disabled:!A,minRows:3,expandedRows:6,value:y||"",onChange:g})),o.a.createElement(p,{label:c("inspector.copyrightNotice","Copyright notice")},o.a.createElement(i.TextArea,{name:"copyrightNotice",className:U.a.textArea,disabled:!A,minRows:2,expandedRows:4,value:_||"",onChange:O})),A&&o.a.createElement(f,{handleApply:N,handleDiscard:I,hasUnpublishedChanges:j,inputValid:!!h}))),k.supportsCollections&&o.a.createElement(H,null),k.supportsTagging&&o.a.createElement(ne,null),o.a.createElement(F,null),o.a.createElement(J,null)):null}),z=n(154),Q=n.n(z);var $=o.a.memo(()=>{const e=Object(a.g)(l.l),{showVariantsEditor:t}=Object(a.g)(l.f),n=Object(a.g)(l.n);return e&&"asset"===n?t?o.a.createElement(i.Tabs,{theme:{tabs__content:Q.a.tabContent}},o.a.createElement(i.Tabs.Panel,{icon:"info-circle",key:"editor",id:"editor"},o.a.createElement(q,null)),o.a.createElement(i.Tabs.Panel,{icon:"images"},o.a.createElement(N,null))):o.a.createElement(q,null):null}),W=n(105);var H=o.a.memo(()=>{const e=Object(s.f)(),{translate:t}=Object(s.d)(),{approvalAttainmentStrategy:{obtainApprovalToSetAssetCollections:n}}=Object(s.e)(),{assetCollections:u}=Object(c.g)(),{setAssetCollections:d,loading:f}=Object(S.j)(),p=Object(S.i)(),{limitToSingleAssetCollectionPerAsset:h}=Object(a.g)(l.f),[m,v]=Object(r.useState)(""),g=Object(r.useMemo)(()=>u.map(e=>({label:e.title,id:e.id,secondaryLabel:e.parent?"/"+Object(c.d)(e,u).map(({title:e})=>e).join("/"):""})),[u]),_=Object(r.useMemo)(()=>g.filter(({label:e})=>e.toLowerCase().includes(m)),[g,m]),[O,E]=Object(r.useState)([]),w=Object(r.useCallback)(()=>E((null==p?void 0:p.collections.map(({id:e})=>e))||[]),[null==p?void 0:p.collections]),C=Object(r.useCallback)(async r=>{if(null===r?r=[]:"string"==typeof r&&(r=[r]),o=p,r.join(",")!==o.collections.map(e=>e.id).join(",")){const o=p,a=u.filter(e=>r.includes(e.id));if(await n({asset:o,newAssetCollections:a}))try{await d({asset:o,assetCollections:a}),e.ok(t("actions.setAssetCollections.success","The collections for the asset have been set"))}catch({message:n}){e.error(t("actions.setAssetCollections.error","Error while setting the collections for the asset"),n)}else w()}var o},[e,p,d,u,t,w,n]),T=Object(r.useCallback)(e=>{v(e.toLowerCase())},[]);return Object(r.useEffect)(w,[w]),p?o.a.createElement("div",{className:"collectionSelectBox"},h?o.a.createElement(o.a.Fragment,null,o.a.createElement(i.Headline,{type:"h2"},o.a.createElement(b.d,{icon:"folder",label:t("inspector.assetCollection","Collection")})),o.a.createElement(i.SelectBox,{className:W.collectionSelectBox,disabled:f||p.assetSource.readOnly,placeholder:t("inspector.collections.placeholder","Select a collection"),value:O.length?O[0]:null,optionValueField:"id",options:_,noMatchesFoundLabel:t("general.noMatchesFound","No matches found"),onValueChange:C,onSearchTermChange:T,ListPreviewElement:y,displaySearchBox:!0,allowEmpty:!0,threshold:0})):o.a.createElement(o.a.Fragment,null,o.a.createElement(i.Headline,{type:"h2"},o.a.createElement(b.d,{icon:"folder",label:t("inspector.assetCollections","Collections")})),o.a.createElement(i.MultiSelectBox,{className:W.collectionSelectBox,disabled:f||p.assetSource.readOnly,placeholder:t("inspector.collections.placeholder","Select a collection"),values:O,optionValueField:"id",options:g,searchOptions:_,noMatchesFoundLabel:t("general.noMatchesFound","No matches found"),onValuesChange:C,onSearchTermChange:T,ListPreviewElement:y,displaySearchBox:!0,allowEmpty:!0,threshold:0}))):null}),K=n(155),G=n.n(K);var Y=o.a.memo(()=>{var e;const t=Object(S.i)(),{translate:n}=Object(s.d)();return(null===(e=null==t?void 0:t.iptcProperties)||void 0===e?void 0:e.length)?o.a.createElement("div",{className:G.a.iptcData},o.a.createElement(i.Headline,{type:"h2"},o.a.createElement(b.d,{icon:"camera",label:n("inspector.iptcMetadata","IPTC Metadata")})),o.a.createElement(b.f,null,t.iptcProperties.map(e=>o.a.createElement(b.g,{key:e.propertyName,label:e.propertyName,value:e.value})))):null}),X=n(48);var J=r.memo(()=>{const{translate:e}=Object(s.d)(),t=Object(S.i)();return t?r.createElement("div",null,r.createElement(i.Headline,{type:"h2"},r.createElement(b.d,{icon:"info-circle",label:e("inspector.metadata","Metadata")})),r.createElement(b.f,null,r.createElement(b.g,{label:e("inspector.property.dimensions","Dimensions"),value:`${t.width}px x ${t.height}px`}),t.file.size>0&&r.createElement(b.g,{label:e("inspector.property.fileSize","Size"),value:Object(X.a)(t.file.size)}),r.createElement(b.g,{label:e("inspector.property.filename","Filename"),value:t.filename}),r.createElement(b.g,{label:e("inspector.property.lastModified","Last modified"),value:new Date(t.lastModified).toLocaleString()}),r.createElement(b.g,{label:e("inspector.property.mediaType","MIME type"),value:t.file.mediaType}))):null}),Z=n(14);var ee=r.memo(()=>{const e=Object(Z.f)(),t=Object(a.g)(l.n),n=Object(s.f)(),{translate:o}=Object(s.d)(),[c,u]=Object(r.useState)(null),{updateTag:d}=Object(Z.h)(),h=e&&c!==e.label,m=Object(r.useCallback)(()=>{e&&u(e.label)},[e,u]),b=Object(r.useCallback)(()=>{c!==e.label&&d({tag:e,label:c}).then(()=>{n.ok(o("actions.updateTag.success","The tag has been updated"))}).catch(({message:e})=>{n.error(o("actions.updateTag.error","Error while updating the tag"),e)})},[n,o,e,d,c]);return Object(r.useEffect)(()=>{m()},[null==e?void 0:e.id]),e&&"tag"===t?r.createElement(v,null,r.createElement(p,{label:o("inspector.label","Label")},r.createElement(i.TextInput,{type:"text",value:c||"",onChange:u,onEnterKey:b})),r.createElement(f,{handleApply:b,handleDiscard:m,hasUnpublishedChanges:h})):null});var te=o.a.memo(({values:e,options:t,onChange:n,disabled:r=!1})=>{const{translate:a}=Object(s.d)();return o.a.createElement("div",{className:"tagSelectBox"},o.a.createElement(i.Headline,{type:"h2"},o.a.createElement(b.d,{icon:"tags",label:a("inspector.tags","Tags")})),o.a.createElement(i.MultiSelectBox,{className:"tagSelection",disabled:r,placeholder:a("inspector.tags.placeholder","Select a tag"),noMatchesFoundLabel:a("general.noMatchesFound","No matches found"),values:e,optionValueField:"id",options:t,searchOptions:t,onValuesChange:e=>n(e.map(e=>t.find(t=>t.id===e)))}))});var ne=o.a.memo(()=>{const e=Object(s.f)(),{translate:t}=Object(s.d)(),{approvalAttainmentStrategy:{obtainApprovalToSetAssetTags:n}}=Object(s.e)(),{tags:a}=Object(Z.g)(),{setAssetTags:i,loading:l}=Object(S.k)(),c=Object(S.i)(),[u,d]=Object(r.useState)([]),f=Object(r.useCallback)(()=>d(null==c?void 0:c.tags.map(({id:e})=>e).sort()),[null==c?void 0:c.tags]),p=Object(r.useCallback)(async r=>{if(o=c,r.map(e=>e.id).sort().join(",")!==o.tags.map(e=>e.id).sort().join(",")){if(await n({asset:c,newTags:r}))try{await i({asset:c,tags:r}),e.ok(t("actions.setAssetTags.success","The asset has been tagged"))}catch({message:n}){e.error(t("actions.setAssetTags.error","Error while tagging the asset"),n)}else f()}var o},[e,c,i,t,f,n]);return Object(r.useEffect)(()=>f(),[f]),c?o.a.createElement(te,{values:u,options:a,onChange:p,disabled:l||c.assetSource.readOnly}):null});var re=o.a.memo(()=>{const e=Object(s.f)(),{translate:t}=Object(s.d)(),{tags:n}=Object(Z.g)(),{updateAssetCollection:a}=Object(c.j)(),i=Object(c.h)(),l=Object(r.useMemo)(()=>null==i?void 0:i.tags.map(({id:e})=>e).sort(),[null==i?void 0:i.tags]),u=Object(r.useCallback)(n=>{var r;r=i,n.map(e=>e.id).sort().join(",")!==r.tags.map(e=>e.id).sort().join(",")&&a({assetCollection:i,tags:n}).then(()=>{e.ok(t("actions.tagAssetCollection.success","The asset collection has been tagged"))}).catch(({message:n})=>{e.error(t("actions.tagAssetCollection.error","Error while tagging the asset collection"),n)})},[e,i,a,t]);return i?o.a.createElement(te,{values:l,options:n,onChange:u}):null})},function(e,t,n){e.exports={fileList:"FilePreview-module__fileList___2Idje",fileListHeader:"FilePreview-module__fileListHeader___30V9N",thumb:"FilePreview-module__thumb___3Pr8a",thumbInner:"FilePreview-module__thumbInner___IvQdB",img:"FilePreview-module__img___8ejzf",loading:"FilePreview-module__loading___1237G",success:"FilePreview-module__success___3O3RF",error:"FilePreview-module__error___2Vwak",warning:"FilePreview-module__warning___3LWQm"}},function(e,t,n){e.exports={uploadArea:"ReplaceAssetDialog-module__uploadArea___1jzR5",optionSection:"ReplaceAssetDialog-module__optionSection___1SaG0",option:"ReplaceAssetDialog-module__option___2K8FB",label:"ReplaceAssetDialog-module__label___huLhV"}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t,n,r,o){this.message=e,this.path=t,this.query=n,this.clientOnly=r,this.variables=o}},function(e,t,n){e.exports={mediaModuleTheme:"Theme-module__mediaModuleTheme___2DCHe"}},function(e,t,n){"use strict";var r=n(30);n.d(t,"a",(function(){return r.b}))},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(52);class i extends o.a.Component{constructor(e){super(e),this.clearConfigAndReload=()=>{localStorage.clear(),this.reload()},this.state={hasError:!1,error:null}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e){this.setState({error:e}),this.context.error(e.name,e.message)}reload(){window.location.reload()}render(){const{hasError:e,error:t}=this.state;return e?o.a.createElement("div",null,o.a.createElement("p",{style:{color:"red"}},"The media application encountered an unexpected error:"),o.a.createElement("br",null),t&&o.a.createElement("pre",null,t.message),o.a.createElement("br",null),o.a.createElement("button",{className:"neos-button",onClick:this.reload},"Reload")," or ",o.a.createElement("button",{className:"neos-button",onClick:this.clearConfigAndReload},"Clear configuration & reload")):this.props.children}}i.contextType=a.a,t.a=i},function(e,t,n){"use strict";var r=n(29);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}"function"==typeof Symbol&&null!=Symbol.iterator&&Symbol.iterator,"function"==typeof Symbol&&null!=Symbol.asyncIterator&&Symbol.asyncIterator;var a="function"==typeof Symbol&&null!=Symbol.toStringTag?Symbol.toStringTag:"@@toStringTag";function i(e,t){for(var n,r=/\r\n|[\n\r]/g,o=1,a=t+1;(n=r.exec(e.body))&&n.index<t;)o+=1,a=t+1-(n.index+n[0].length);return{line:o,column:a}}function s(e){return l(e.source,i(e.source,e.start))}function l(e,t){var n=e.locationOffset.column-1,r=u(n)+e.body,o=t.line-1,a=e.locationOffset.line-1,i=t.line+a,s=1===t.line?n:0,l=t.column+s,d="".concat(e.name,":").concat(i,":").concat(l,"\n"),f=r.split(/\r\n|[\n\r]/g),p=f[o];if(p.length>120){for(var h=Math.floor(l/80),m=l%80,v=[],b=0;b<p.length;b+=80)v.push(p.slice(b,b+80));return d+c([["".concat(i),v[0]]].concat(v.slice(1,h+1).map((function(e){return["",e]})),[[" ",u(m-1)+"^"],["",v[h+1]]]))}return d+c([["".concat(i-1),f[o-1]],["".concat(i),p],["",u(l-1)+"^"],["".concat(i+1),f[o+1]]])}function c(e){var t=e.filter((function(e){e[0];return void 0!==e[1]})),n=Math.max.apply(Math,t.map((function(e){return e[0].length})));return t.map((function(e){var t,r=e[0],o=e[1];return u(n-(t=r).length)+t+(o?" | "+o:" |")})).join("\n")}function u(e){return Array(e+1).join(" ")}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){var t="function"==typeof Map?new Map:void 0;return(b=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return y(e,arguments,O(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),_(r,e)})(e)}function y(e,t,n){return(y=g()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&_(o,n.prototype),o}).apply(null,arguments)}function g(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(b,e);var t,n,r,c,u,d=(t=b,n=g(),function(){var e,r=O(t);if(n){var o=O(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return m(this,e)});function b(e,t,n,r,a,s,l){var c,u,h,y;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b),(y=d.call(this,e)).name="GraphQLError",y.originalError=null!=s?s:void 0,y.nodes=E(Array.isArray(t)?t:t?[t]:void 0);for(var g=[],_=0,O=null!==(S=y.nodes)&&void 0!==S?S:[];_<O.length;_++){var S,w=O[_].loc;null!=w&&g.push(w)}g=E(g),y.source=null!=n?n:null===(c=g)||void 0===c?void 0:c[0].source,y.positions=null!=r?r:null===(u=g)||void 0===u?void 0:u.map((function(e){return e.start})),y.locations=r&&n?r.map((function(e){return i(n,e)})):null===(h=g)||void 0===h?void 0:h.map((function(e){return i(e.source,e.start)})),y.path=null!=a?a:void 0;var C,T=null==s?void 0:s.extensions;return null==l&&("object"==o(C=T)&&null!==C)?y.extensions=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},T):y.extensions=null!=l?l:{},Object.defineProperties(v(y),{message:{enumerable:!0},locations:{enumerable:null!=y.locations},path:{enumerable:null!=y.path},extensions:{enumerable:null!=y.extensions&&Object.keys(y.extensions).length>0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),null!=s&&s.stack?(Object.defineProperty(v(y),"stack",{value:s.stack,writable:!0,configurable:!0}),m(y)):(Error.captureStackTrace?Error.captureStackTrace(v(y),b):Object.defineProperty(v(y),"stack",{value:Error().stack,writable:!0,configurable:!0}),y)}return r=b,(c=[{key:"toString",value:function(){return function(e){var t=e.message;if(e.nodes)for(var n=0,r=e.nodes;n<r.length;n++){var o=r[n];o.loc&&(t+="\n\n"+s(o.loc))}else if(e.source&&e.locations)for(var a=0,i=e.locations;a<i.length;a++){var c=i[a];t+="\n\n"+l(e.source,c)}return t}(this)}},{key:a,get:function(){return"Object"}}])&&h(r.prototype,c),u&&h(r,u),b}(b(Error));function E(e){return void 0===e||0===e.length?void 0:e}function w(e,t,n){return new S("Syntax Error: ".concat(n),void 0,e,[t])}var C=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"}),T=n(18),A=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"}),j=n(72);function k(e,t){if(!Boolean(e))throw new Error(t)}var I=function(e,t){return e instanceof t};function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var x=function(){function e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GraphQL request",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{line:1,column:1};"string"==typeof e||k(0,"Body must be a string. Received: ".concat(Object(j.a)(e),".")),this.body=e,this.name=t,this.locationOffset=n,this.locationOffset.line>0||k(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||k(0,"column in locationOffset is 1-indexed and must be positive.")}var t,n,r;return t=e,(n=[{key:a,get:function(){return"Source"}}])&&N(t.prototype,n),r&&N(t,r),e}();var R=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"}),D=n(88),M=function(){function e(e){var t=new T.b(A.SOF,0,0,0,0,null);this.source=e,this.lastToken=t,this.token=t,this.line=1,this.lineStart=0}var t=e.prototype;return t.advance=function(){return this.lastToken=this.token,this.token=this.lookahead()},t.lookahead=function(){var e=this.token;if(e.kind!==A.EOF)do{var t;e=null!==(t=e.next)&&void 0!==t?t:e.next=P(this,e)}while(e.kind===A.COMMENT);return e},e}();function L(e){return isNaN(e)?A.EOF:e<127?JSON.stringify(String.fromCharCode(e)):'"\\u'.concat(("00"+e.toString(16).toUpperCase()).slice(-4),'"')}function P(e,t){for(var n=e.source,r=n.body,o=r.length,a=t.end;a<o;){var i=r.charCodeAt(a),s=e.line,l=1+a-e.lineStart;switch(i){case 65279:case 9:case 32:case 44:++a;continue;case 10:++a,++e.line,e.lineStart=a;continue;case 13:10===r.charCodeAt(a+1)?a+=2:++a,++e.line,e.lineStart=a;continue;case 33:return new T.b(A.BANG,a,a+1,s,l,t);case 35:return B(n,a,s,l,t);case 36:return new T.b(A.DOLLAR,a,a+1,s,l,t);case 38:return new T.b(A.AMP,a,a+1,s,l,t);case 40:return new T.b(A.PAREN_L,a,a+1,s,l,t);case 41:return new T.b(A.PAREN_R,a,a+1,s,l,t);case 46:if(46===r.charCodeAt(a+1)&&46===r.charCodeAt(a+2))return new T.b(A.SPREAD,a,a+3,s,l,t);break;case 58:return new T.b(A.COLON,a,a+1,s,l,t);case 61:return new T.b(A.EQUALS,a,a+1,s,l,t);case 64:return new T.b(A.AT,a,a+1,s,l,t);case 91:return new T.b(A.BRACKET_L,a,a+1,s,l,t);case 93:return new T.b(A.BRACKET_R,a,a+1,s,l,t);case 123:return new T.b(A.BRACE_L,a,a+1,s,l,t);case 124:return new T.b(A.PIPE,a,a+1,s,l,t);case 125:return new T.b(A.BRACE_R,a,a+1,s,l,t);case 34:return 34===r.charCodeAt(a+1)&&34===r.charCodeAt(a+2)?z(n,a,s,l,t,e):q(n,a,s,l,t);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return U(n,a,i,s,l,t);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return $(n,a,s,l,t)}throw w(n,a,F(i))}var c=e.line,u=1+a-e.lineStart;return new T.b(A.EOF,o,o,c,u,t)}function F(e){return e<32&&9!==e&&10!==e&&13!==e?"Cannot contain the invalid character ".concat(L(e),"."):39===e?"Unexpected single quote character ('), did you mean to use a double quote (\")?":"Cannot parse the unexpected character ".concat(L(e),".")}function B(e,t,n,r,o){var a,i=e.body,s=t;do{a=i.charCodeAt(++s)}while(!isNaN(a)&&(a>31||9===a));return new T.b(A.COMMENT,t,s,n,r,o,i.slice(t+1,s))}function U(e,t,n,r,o,a){var i=e.body,s=n,l=t,c=!1;if(45===s&&(s=i.charCodeAt(++l)),48===s){if((s=i.charCodeAt(++l))>=48&&s<=57)throw w(e,l,"Invalid number, unexpected digit after 0: ".concat(L(s),"."))}else l=V(e,l,s),s=i.charCodeAt(l);if(46===s&&(c=!0,s=i.charCodeAt(++l),l=V(e,l,s),s=i.charCodeAt(l)),69!==s&&101!==s||(c=!0,43!==(s=i.charCodeAt(++l))&&45!==s||(s=i.charCodeAt(++l)),l=V(e,l,s),s=i.charCodeAt(l)),46===s||function(e){return 95===e||e>=65&&e<=90||e>=97&&e<=122}(s))throw w(e,l,"Invalid number, expected digit but got: ".concat(L(s),"."));return new T.b(c?A.FLOAT:A.INT,t,l,r,o,a,i.slice(t,l))}function V(e,t,n){var r=e.body,o=t,a=n;if(a>=48&&a<=57){do{a=r.charCodeAt(++o)}while(a>=48&&a<=57);return o}throw w(e,o,"Invalid number, expected digit but got: ".concat(L(a),"."))}function q(e,t,n,r,o){for(var a,i,s,l,c=e.body,u=t+1,d=u,f=0,p="";u<c.length&&!isNaN(f=c.charCodeAt(u))&&10!==f&&13!==f;){if(34===f)return p+=c.slice(d,u),new T.b(A.STRING,t,u+1,n,r,o,p);if(f<32&&9!==f)throw w(e,u,"Invalid character within String: ".concat(L(f),"."));if(++u,92===f){switch(p+=c.slice(d,u-1),f=c.charCodeAt(u)){case 34:p+='"';break;case 47:p+="/";break;case 92:p+="\\";break;case 98:p+="\b";break;case 102:p+="\f";break;case 110:p+="\n";break;case 114:p+="\r";break;case 116:p+="\t";break;case 117:var h=(a=c.charCodeAt(u+1),i=c.charCodeAt(u+2),s=c.charCodeAt(u+3),l=c.charCodeAt(u+4),Q(a)<<12|Q(i)<<8|Q(s)<<4|Q(l));if(h<0){var m=c.slice(u+1,u+5);throw w(e,u,"Invalid character escape sequence: \\u".concat(m,"."))}p+=String.fromCharCode(h),u+=4;break;default:throw w(e,u,"Invalid character escape sequence: \\".concat(String.fromCharCode(f),"."))}d=++u}}throw w(e,u,"Unterminated string.")}function z(e,t,n,r,o,a){for(var i=e.body,s=t+3,l=s,c=0,u="";s<i.length&&!isNaN(c=i.charCodeAt(s));){if(34===c&&34===i.charCodeAt(s+1)&&34===i.charCodeAt(s+2))return u+=i.slice(l,s),new T.b(A.BLOCK_STRING,t,s+3,n,r,o,Object(D.a)(u));if(c<32&&9!==c&&10!==c&&13!==c)throw w(e,s,"Invalid character within String: ".concat(L(c),"."));10===c?(++s,++a.line,a.lineStart=s):13===c?(10===i.charCodeAt(s+1)?s+=2:++s,++a.line,a.lineStart=s):92===c&&34===i.charCodeAt(s+1)&&34===i.charCodeAt(s+2)&&34===i.charCodeAt(s+3)?(u+=i.slice(l,s)+'"""',l=s+=4):++s}throw w(e,s,"Unterminated string.")}function Q(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function $(e,t,n,r,o){for(var a=e.body,i=a.length,s=t+1,l=0;s!==i&&!isNaN(l=a.charCodeAt(s))&&(95===l||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122);)++s;return new T.b(A.NAME,t,s,n,r,o,a.slice(t,s))}var W=function(){function e(e,t){var n=function(e){return I(e,x)}(e)?e:new x(e);this._lexer=new M(n),this._options=t}var t=e.prototype;return t.parseName=function(){var e=this.expectToken(A.NAME);return{kind:C.NAME,value:e.value,loc:this.loc(e)}},t.parseDocument=function(){var e=this._lexer.token;return{kind:C.DOCUMENT,definitions:this.many(A.SOF,this.parseDefinition,A.EOF),loc:this.loc(e)}},t.parseDefinition=function(){if(this.peek(A.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(A.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},t.parseOperationDefinition=function(){var e=this._lexer.token;if(this.peek(A.BRACE_L))return{kind:C.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(e)};var t,n=this.parseOperationType();return this.peek(A.NAME)&&(t=this.parseName()),{kind:C.OPERATION_DEFINITION,operation:n,name:t,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseOperationType=function(){var e=this.expectToken(A.NAME);switch(e.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(e)},t.parseVariableDefinitions=function(){return this.optionalMany(A.PAREN_L,this.parseVariableDefinition,A.PAREN_R)},t.parseVariableDefinition=function(){var e=this._lexer.token;return{kind:C.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(A.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(A.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(e)}},t.parseVariable=function(){var e=this._lexer.token;return this.expectToken(A.DOLLAR),{kind:C.VARIABLE,name:this.parseName(),loc:this.loc(e)}},t.parseSelectionSet=function(){var e=this._lexer.token;return{kind:C.SELECTION_SET,selections:this.many(A.BRACE_L,this.parseSelection,A.BRACE_R),loc:this.loc(e)}},t.parseSelection=function(){return this.peek(A.SPREAD)?this.parseFragment():this.parseField()},t.parseField=function(){var e,t,n=this._lexer.token,r=this.parseName();return this.expectOptionalToken(A.COLON)?(e=r,t=this.parseName()):t=r,{kind:C.FIELD,alias:e,name:t,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(A.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(n)}},t.parseArguments=function(e){var t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(A.PAREN_L,t,A.PAREN_R)},t.parseArgument=function(){var e=this._lexer.token,t=this.parseName();return this.expectToken(A.COLON),{kind:C.ARGUMENT,name:t,value:this.parseValueLiteral(!1),loc:this.loc(e)}},t.parseConstArgument=function(){var e=this._lexer.token;return{kind:C.ARGUMENT,name:this.parseName(),value:(this.expectToken(A.COLON),this.parseValueLiteral(!0)),loc:this.loc(e)}},t.parseFragment=function(){var e=this._lexer.token;this.expectToken(A.SPREAD);var t=this.expectOptionalKeyword("on");return!t&&this.peek(A.NAME)?{kind:C.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(e)}:{kind:C.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseFragmentDefinition=function(){var e,t=this._lexer.token;return this.expectKeyword("fragment"),!0===(null===(e=this._options)||void 0===e?void 0:e.experimentalFragmentVariables)?{kind:C.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}:{kind:C.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}},t.parseFragmentName=function(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()},t.parseValueLiteral=function(e){var t=this._lexer.token;switch(t.kind){case A.BRACKET_L:return this.parseList(e);case A.BRACE_L:return this.parseObject(e);case A.INT:return this._lexer.advance(),{kind:C.INT,value:t.value,loc:this.loc(t)};case A.FLOAT:return this._lexer.advance(),{kind:C.FLOAT,value:t.value,loc:this.loc(t)};case A.STRING:case A.BLOCK_STRING:return this.parseStringLiteral();case A.NAME:switch(this._lexer.advance(),t.value){case"true":return{kind:C.BOOLEAN,value:!0,loc:this.loc(t)};case"false":return{kind:C.BOOLEAN,value:!1,loc:this.loc(t)};case"null":return{kind:C.NULL,loc:this.loc(t)};default:return{kind:C.ENUM,value:t.value,loc:this.loc(t)}}case A.DOLLAR:if(!e)return this.parseVariable()}throw this.unexpected()},t.parseStringLiteral=function(){var e=this._lexer.token;return this._lexer.advance(),{kind:C.STRING,value:e.value,block:e.kind===A.BLOCK_STRING,loc:this.loc(e)}},t.parseList=function(e){var t=this,n=this._lexer.token;return{kind:C.LIST,values:this.any(A.BRACKET_L,(function(){return t.parseValueLiteral(e)}),A.BRACKET_R),loc:this.loc(n)}},t.parseObject=function(e){var t=this,n=this._lexer.token;return{kind:C.OBJECT,fields:this.any(A.BRACE_L,(function(){return t.parseObjectField(e)}),A.BRACE_R),loc:this.loc(n)}},t.parseObjectField=function(e){var t=this._lexer.token,n=this.parseName();return this.expectToken(A.COLON),{kind:C.OBJECT_FIELD,name:n,value:this.parseValueLiteral(e),loc:this.loc(t)}},t.parseDirectives=function(e){for(var t=[];this.peek(A.AT);)t.push(this.parseDirective(e));return t},t.parseDirective=function(e){var t=this._lexer.token;return this.expectToken(A.AT),{kind:C.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e),loc:this.loc(t)}},t.parseTypeReference=function(){var e,t=this._lexer.token;return this.expectOptionalToken(A.BRACKET_L)?(e=this.parseTypeReference(),this.expectToken(A.BRACKET_R),e={kind:C.LIST_TYPE,type:e,loc:this.loc(t)}):e=this.parseNamedType(),this.expectOptionalToken(A.BANG)?{kind:C.NON_NULL_TYPE,type:e,loc:this.loc(t)}:e},t.parseNamedType=function(){var e=this._lexer.token;return{kind:C.NAMED_TYPE,name:this.parseName(),loc:this.loc(e)}},t.parseTypeSystemDefinition=function(){var e=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(e.kind===A.NAME)switch(e.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(e)},t.peekDescription=function(){return this.peek(A.STRING)||this.peek(A.BLOCK_STRING)},t.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},t.parseSchemaDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("schema");var n=this.parseDirectives(!0),r=this.many(A.BRACE_L,this.parseOperationTypeDefinition,A.BRACE_R);return{kind:C.SCHEMA_DEFINITION,description:t,directives:n,operationTypes:r,loc:this.loc(e)}},t.parseOperationTypeDefinition=function(){var e=this._lexer.token,t=this.parseOperationType();this.expectToken(A.COLON);var n=this.parseNamedType();return{kind:C.OPERATION_TYPE_DEFINITION,operation:t,type:n,loc:this.loc(e)}},t.parseScalarTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");var n=this.parseName(),r=this.parseDirectives(!0);return{kind:C.SCALAR_TYPE_DEFINITION,description:t,name:n,directives:r,loc:this.loc(e)}},t.parseObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");var n=this.parseName(),r=this.parseImplementsInterfaces(),o=this.parseDirectives(!0),a=this.parseFieldsDefinition();return{kind:C.OBJECT_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:o,fields:a,loc:this.loc(e)}},t.parseImplementsInterfaces=function(){var e;if(!this.expectOptionalKeyword("implements"))return[];if(!0===(null===(e=this._options)||void 0===e?void 0:e.allowLegacySDLImplementsInterfaces)){var t=[];this.expectOptionalToken(A.AMP);do{t.push(this.parseNamedType())}while(this.expectOptionalToken(A.AMP)||this.peek(A.NAME));return t}return this.delimitedMany(A.AMP,this.parseNamedType)},t.parseFieldsDefinition=function(){var e;return!0===(null===(e=this._options)||void 0===e?void 0:e.allowLegacySDLEmptyFields)&&this.peek(A.BRACE_L)&&this._lexer.lookahead().kind===A.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(A.BRACE_L,this.parseFieldDefinition,A.BRACE_R)},t.parseFieldDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),r=this.parseArgumentDefs();this.expectToken(A.COLON);var o=this.parseTypeReference(),a=this.parseDirectives(!0);return{kind:C.FIELD_DEFINITION,description:t,name:n,arguments:r,type:o,directives:a,loc:this.loc(e)}},t.parseArgumentDefs=function(){return this.optionalMany(A.PAREN_L,this.parseInputValueDef,A.PAREN_R)},t.parseInputValueDef=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName();this.expectToken(A.COLON);var r,o=this.parseTypeReference();this.expectOptionalToken(A.EQUALS)&&(r=this.parseValueLiteral(!0));var a=this.parseDirectives(!0);return{kind:C.INPUT_VALUE_DEFINITION,description:t,name:n,type:o,defaultValue:r,directives:a,loc:this.loc(e)}},t.parseInterfaceTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");var n=this.parseName(),r=this.parseImplementsInterfaces(),o=this.parseDirectives(!0),a=this.parseFieldsDefinition();return{kind:C.INTERFACE_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:o,fields:a,loc:this.loc(e)}},t.parseUnionTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");var n=this.parseName(),r=this.parseDirectives(!0),o=this.parseUnionMemberTypes();return{kind:C.UNION_TYPE_DEFINITION,description:t,name:n,directives:r,types:o,loc:this.loc(e)}},t.parseUnionMemberTypes=function(){return this.expectOptionalToken(A.EQUALS)?this.delimitedMany(A.PIPE,this.parseNamedType):[]},t.parseEnumTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");var n=this.parseName(),r=this.parseDirectives(!0),o=this.parseEnumValuesDefinition();return{kind:C.ENUM_TYPE_DEFINITION,description:t,name:n,directives:r,values:o,loc:this.loc(e)}},t.parseEnumValuesDefinition=function(){return this.optionalMany(A.BRACE_L,this.parseEnumValueDefinition,A.BRACE_R)},t.parseEnumValueDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),r=this.parseDirectives(!0);return{kind:C.ENUM_VALUE_DEFINITION,description:t,name:n,directives:r,loc:this.loc(e)}},t.parseInputObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");var n=this.parseName(),r=this.parseDirectives(!0),o=this.parseInputFieldsDefinition();return{kind:C.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:n,directives:r,fields:o,loc:this.loc(e)}},t.parseInputFieldsDefinition=function(){return this.optionalMany(A.BRACE_L,this.parseInputValueDef,A.BRACE_R)},t.parseTypeSystemExtension=function(){var e=this._lexer.lookahead();if(e.kind===A.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)},t.parseSchemaExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var t=this.parseDirectives(!0),n=this.optionalMany(A.BRACE_L,this.parseOperationTypeDefinition,A.BRACE_R);if(0===t.length&&0===n.length)throw this.unexpected();return{kind:C.SCHEMA_EXTENSION,directives:t,operationTypes:n,loc:this.loc(e)}},t.parseScalarTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var t=this.parseName(),n=this.parseDirectives(!0);if(0===n.length)throw this.unexpected();return{kind:C.SCALAR_TYPE_EXTENSION,name:t,directives:n,loc:this.loc(e)}},t.parseObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseDirectives(!0),o=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===o.length)throw this.unexpected();return{kind:C.OBJECT_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:o,loc:this.loc(e)}},t.parseInterfaceTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseDirectives(!0),o=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===o.length)throw this.unexpected();return{kind:C.INTERFACE_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:o,loc:this.loc(e)}},t.parseUnionTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseUnionMemberTypes();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:C.UNION_TYPE_EXTENSION,name:t,directives:n,types:r,loc:this.loc(e)}},t.parseEnumTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseEnumValuesDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:C.ENUM_TYPE_EXTENSION,name:t,directives:n,values:r,loc:this.loc(e)}},t.parseInputObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseInputFieldsDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:C.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:n,fields:r,loc:this.loc(e)}},t.parseDirectiveDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(A.AT);var n=this.parseName(),r=this.parseArgumentDefs(),o=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var a=this.parseDirectiveLocations();return{kind:C.DIRECTIVE_DEFINITION,description:t,name:n,arguments:r,repeatable:o,locations:a,loc:this.loc(e)}},t.parseDirectiveLocations=function(){return this.delimitedMany(A.PIPE,this.parseDirectiveLocation)},t.parseDirectiveLocation=function(){var e=this._lexer.token,t=this.parseName();if(void 0!==R[t.value])return t;throw this.unexpected(e)},t.loc=function(e){var t;if(!0!==(null===(t=this._options)||void 0===t?void 0:t.noLocation))return new T.a(e,this._lexer.lastToken,this._lexer.source)},t.peek=function(e){return this._lexer.token.kind===e},t.expectToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t;throw w(this._lexer.source,t.start,"Expected ".concat(K(e),", found ").concat(H(t),"."))},t.expectOptionalToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t},t.expectKeyword=function(e){var t=this._lexer.token;if(t.kind!==A.NAME||t.value!==e)throw w(this._lexer.source,t.start,'Expected "'.concat(e,'", found ').concat(H(t),"."));this._lexer.advance()},t.expectOptionalKeyword=function(e){var t=this._lexer.token;return t.kind===A.NAME&&t.value===e&&(this._lexer.advance(),!0)},t.unexpected=function(e){var t=null!=e?e:this._lexer.token;return w(this._lexer.source,t.start,"Unexpected ".concat(H(t),"."))},t.any=function(e,t,n){this.expectToken(e);for(var r=[];!this.expectOptionalToken(n);)r.push(t.call(this));return r},t.optionalMany=function(e,t,n){if(this.expectOptionalToken(e)){var r=[];do{r.push(t.call(this))}while(!this.expectOptionalToken(n));return r}return[]},t.many=function(e,t,n){this.expectToken(e);var r=[];do{r.push(t.call(this))}while(!this.expectOptionalToken(n));return r},t.delimitedMany=function(e,t){this.expectOptionalToken(e);var n=[];do{n.push(t.call(this))}while(this.expectOptionalToken(e));return n},e}();function H(e){var t=e.value;return K(e.kind)+(null!=t?' "'.concat(t,'"'):"")}function K(e){return function(e){return e===A.BANG||e===A.DOLLAR||e===A.AMP||e===A.PAREN_L||e===A.PAREN_R||e===A.SPREAD||e===A.COLON||e===A.EQUALS||e===A.AT||e===A.BRACKET_L||e===A.BRACKET_R||e===A.BRACE_L||e===A.PIPE||e===A.BRACE_R}(e)?'"'.concat(e,'"'):e}var G=new Map,Y=new Map,X=!0,J=!1;function Z(e){return e.replace(/[\s,]+/g," ").trim()}function ee(e){var t=new Set,n=[];return e.definitions.forEach((function(e){if("FragmentDefinition"===e.kind){var r=e.name.value,o=Z((i=e.loc).source.body.substring(i.start,i.end)),a=Y.get(r);a&&!a.has(o)?X&&console.warn("Warning: fragment with name "+r+" already exists.\ngraphql-tag enforces all fragment names across your application to be unique; read more about\nthis in the docs: http://dev.apollodata.com/core/fragments.html#unique-names"):a||Y.set(r,a=new Set),a.add(o),t.has(o)||(t.add(o),n.push(e))}else n.push(e);var i})),Object(r.a)(Object(r.a)({},e),{definitions:n})}function te(e){var t=Z(e);if(!G.has(t)){var n=function(e,t){return new W(e,t).parseDocument()}(e,{experimentalFragmentVariables:J});if(!n||"Document"!==n.kind)throw new Error("Not a valid GraphQL document.");G.set(t,function(e){var t=new Set(e.definitions);t.forEach((function(e){e.loc&&delete e.loc,Object.keys(e).forEach((function(n){var r=e[n];r&&"object"==typeof r&&t.add(r)}))}));var n=e.loc;return n&&(delete n.startToken,delete n.endToken),e}(ee(n)))}return G.get(t)}function ne(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];"string"==typeof e&&(e=[e]);var r=e[0];return t.forEach((function(t,n){t&&"Document"===t.kind?r+=t.loc.source.body:r+=t,r+=e[n+1]})),te(r)}var re,oe={gql:ne,resetCaches:function(){G.clear(),Y.clear()},disableFragmentWarnings:function(){X=!1},enableExperimentalFragmentVariables:function(){J=!0},disableExperimentalFragmentVariables:function(){J=!1}};(re=ne||(ne={})).gql=oe.gql,re.resetCaches=oe.resetCaches,re.disableFragmentWarnings=oe.disableFragmentWarnings,re.enableExperimentalFragmentVariables=oe.enableExperimentalFragmentVariables,re.disableExperimentalFragmentVariables=oe.disableExperimentalFragmentVariables,ne.default=ne;t.a=ne},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return u}));var r=n(4);function o(e){const t=e.__typename+"_";switch(e.__typename){case"Image":case"AssetFile":return t+e.url;default:return Object(r.defaultDataIdFromObject)(e)}}var a=n(2),i=n(27),s=n(6);function l(e){return new i.ApolloLink((function(t,n){return new s.c((function(r){var o,a,i;try{o=n(t).subscribe({next:function(o){o.errors&&(i=e({graphQLErrors:o.errors,response:o,operation:t,forward:n}))?a=i.subscribe({next:r.next.bind(r),error:r.error.bind(r),complete:r.complete.bind(r)}):r.next(o)},error:function(o){(i=e({operation:t,networkError:o,graphQLErrors:o&&o.result&&o.result.errors,forward:n}))?a=i.subscribe({next:r.next.bind(r),error:r.error.bind(r),complete:r.complete.bind(r)}):r.error(o)},complete:function(){i||r.complete.bind(r)()}})}catch(o){e({networkError:o,operation:t,forward:n}),r.error(o)}return function(){o&&o.unsubscribe(),a&&o.unsubscribe()}}))}))}!function(e){function t(t){var n=e.call(this)||this;return n.link=l(t),n}Object(a.c)(t,e),t.prototype.request=function(e,t){return this.link.request(e,t)}}(i.ApolloLink);var c=e=>l(({graphQLErrors:t,networkError:n})=>{t&&t.map(t=>{const n="INTERNAL_SERVER_ERROR"===t.extensions.code;console.error(t.extensions.code===n?"[Internal server error]":"[GraphQL error]",t.path,t),e.error(t.extensions.code===n?"Internal server error":"Communication error",t.message)}),n&&(console.error("[Network error]: "+n),e.warning("Network error","Please check your connection."))});var u=class{static createCache(e){return new r.InMemoryCache({dataIdFromObject:o,typePolicies:{Query:{fields:{asset:(e,{args:t,toReference:n})=>t.id?n({__typename:"Asset",id:t.id}):null,tag:(e,{args:t,toReference:n})=>t.id?n({__typename:"Tag",id:t.id}):null,assetCollection:(e,{args:t,toReference:n})=>t.id?n({__typename:"AssetCollection",id:t.id}):null,assetSource:(e,{args:t,toReference:n})=>t.id?n({__typename:"AssetSource",id:t.id}):null,includeUsage:()=>e.queryAssetUsage}},Mutation:{fields:{includeUsage:()=>e.queryAssetUsage}},Asset:{keyFields:["id"]},Tag:{keyFields:["id"]},AssetCollection:{keyFields:["id"]},AssetSource:{keyFields:["id"]}}})}}},function(e,t,n){e.exports={assetSourceList:"AssetSourceList-module__assetSourceList___1vsN0",header:"AssetSourceList-module__header___1-LlI",item:"AssetSourceList-module__item___3wmGk",itemSelected:"AssetSourceList-module__itemSelected___3v2J-",itemLabel:"AssetSourceList-module__itemLabel___2xJL-"}},function(e,t,n){e.exports={textArea:"PropertyInspector-module__textArea___3V9M7",propertyPanel:"PropertyInspector-module__propertyPanel___6dKvE",propertyPanelHeader:"PropertyInspector-module__propertyPanelHeader___2j6HD",propertyPanelContents:"PropertyInspector-module__propertyPanelContents___1B6UV"}},function(e,t,n){e.exports={preview:"Preview-module__preview___3h-ZY",loading:"Preview-module__loading___3o83W",picture:"Preview-module__picture___jQcGM",toolBar:"Preview-module__toolBar___1S_jz","button--active":"Preview-module__button--active___21pmk",label:"Preview-module__label___1KOeb"}},function(e,t,n){e.exports={container:"Details-module__container___35YhR",main:"Details-module__main___obMK1",inspector:"Details-module__inspector___2bV6r",loading:"Details-module__loading___2afxx"}},function(e,t,n){e.exports={currentSelection:"CurrentSelection-module__currentSelection___3fmAb",headline:"CurrentSelection-module__headline___M6VMX",label:"CurrentSelection-module__label___1YaOo",breadcrumb:"CurrentSelection-module__breadcrumb___aTpeO"}},function(e,t,n){e.exports={pagination:"Pagination-module__pagination___3n7g9",list:"Pagination-module__list___2KN7_",ellipsis:"Pagination-module__ellipsis___2IDzZ",disabled:"Pagination-module__disabled___K3djC"}},,function(e,t,n){"use strict";n.r(t),n.d(t,"parseAndCheckHttpResponse",(function(){return a})),n.d(t,"serializeFetchParameter",(function(){return s})),n.d(t,"fallbackHttpConfig",(function(){return _})),n.d(t,"selectHttpOptionsAndBody",(function(){return O})),n.d(t,"checkFetcher",(function(){return S})),n.d(t,"createSignalIfSupported",(function(){return E})),n.d(t,"selectURI",(function(){return w})),n.d(t,"createHttpLink",(function(){return j})),n.d(t,"HttpLink",(function(){return k})),n.d(t,"rewriteURIForGET",(function(){return A}));var r=n(26),o=Object.prototype.hasOwnProperty;function a(e){return function(t){return t.text().then((function(e){try{return JSON.parse(e)}catch(r){var n=r;throw n.name="ServerParseError",n.response=t,n.statusCode=t.status,n.bodyText=e,n}})).then((function(n){return t.status>=300&&Object(r.d)(t,n,"Response not successful: Received status code "+t.status),Array.isArray(n)||o.call(n,"data")||o.call(n,"errors")||Object(r.d)(t,n,"Server response was missing for query '"+(Array.isArray(e)?e.map((function(e){return e.operationName})):e.operationName)+"'."),n}))}}var i=n(8),s=function(e,t){var n;try{n=JSON.stringify(e)}catch(e){var r=new i.a(23);throw r.parseError=e,r}return n},l=n(2),c=n(135),u=n(88);function d(e){return Object(c.b)(e,{leave:f})}var f={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return h(e.definitions,"\n\n")+"\n"},OperationDefinition:function(e){var t=e.operation,n=e.name,r=v("(",h(e.variableDefinitions,", "),")"),o=h(e.directives," "),a=e.selectionSet;return n||o||r||"query"!==t?h([t,h([n,r]),o,a]," "):a},VariableDefinition:function(e){var t=e.variable,n=e.type,r=e.defaultValue,o=e.directives;return t+": "+n+v(" = ",r)+v(" ",h(o," "))},SelectionSet:function(e){return m(e.selections)},Field:function(e){var t=e.alias,n=e.name,r=e.arguments,o=e.directives,a=e.selectionSet,i=v("",t,": ")+n,s=i+v("(",h(r,", "),")");return s.length>80&&(s=i+v("(\n",b(h(r,"\n")),"\n)")),h([s,h(o," "),a]," ")},Argument:function(e){return e.name+": "+e.value},FragmentSpread:function(e){return"..."+e.name+v(" ",h(e.directives," "))},InlineFragment:function(e){var t=e.typeCondition,n=e.directives,r=e.selectionSet;return h(["...",v("on ",t),h(n," "),r]," ")},FragmentDefinition:function(e){var t=e.name,n=e.typeCondition,r=e.variableDefinitions,o=e.directives,a=e.selectionSet;return"fragment ".concat(t).concat(v("(",h(r,", "),")")," ")+"on ".concat(n," ").concat(v("",h(o," ")," "))+a},IntValue:function(e){return e.value},FloatValue:function(e){return e.value},StringValue:function(e,t){var n=e.value;return e.block?Object(u.b)(n,"description"===t?"":"  "):JSON.stringify(n)},BooleanValue:function(e){return e.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){return e.value},ListValue:function(e){return"["+h(e.values,", ")+"]"},ObjectValue:function(e){return"{"+h(e.fields,", ")+"}"},ObjectField:function(e){return e.name+": "+e.value},Directive:function(e){return"@"+e.name+v("(",h(e.arguments,", "),")")},NamedType:function(e){return e.name},ListType:function(e){return"["+e.type+"]"},NonNullType:function(e){return e.type+"!"},SchemaDefinition:p((function(e){var t=e.directives,n=e.operationTypes;return h(["schema",h(t," "),m(n)]," ")})),OperationTypeDefinition:function(e){return e.operation+": "+e.type},ScalarTypeDefinition:p((function(e){return h(["scalar",e.name,h(e.directives," ")]," ")})),ObjectTypeDefinition:p((function(e){var t=e.name,n=e.interfaces,r=e.directives,o=e.fields;return h(["type",t,v("implements ",h(n," & ")),h(r," "),m(o)]," ")})),FieldDefinition:p((function(e){var t=e.name,n=e.arguments,r=e.type,o=e.directives;return t+(g(n)?v("(\n",b(h(n,"\n")),"\n)"):v("(",h(n,", "),")"))+": "+r+v(" ",h(o," "))})),InputValueDefinition:p((function(e){var t=e.name,n=e.type,r=e.defaultValue,o=e.directives;return h([t+": "+n,v("= ",r),h(o," ")]," ")})),InterfaceTypeDefinition:p((function(e){var t=e.name,n=e.interfaces,r=e.directives,o=e.fields;return h(["interface",t,v("implements ",h(n," & ")),h(r," "),m(o)]," ")})),UnionTypeDefinition:p((function(e){var t=e.name,n=e.directives,r=e.types;return h(["union",t,h(n," "),r&&0!==r.length?"= "+h(r," | "):""]," ")})),EnumTypeDefinition:p((function(e){var t=e.name,n=e.directives,r=e.values;return h(["enum",t,h(n," "),m(r)]," ")})),EnumValueDefinition:p((function(e){return h([e.name,h(e.directives," ")]," ")})),InputObjectTypeDefinition:p((function(e){var t=e.name,n=e.directives,r=e.fields;return h(["input",t,h(n," "),m(r)]," ")})),DirectiveDefinition:p((function(e){var t=e.name,n=e.arguments,r=e.repeatable,o=e.locations;return"directive @"+t+(g(n)?v("(\n",b(h(n,"\n")),"\n)"):v("(",h(n,", "),")"))+(r?" repeatable":"")+" on "+h(o," | ")})),SchemaExtension:function(e){var t=e.directives,n=e.operationTypes;return h(["extend schema",h(t," "),m(n)]," ")},ScalarTypeExtension:function(e){return h(["extend scalar",e.name,h(e.directives," ")]," ")},ObjectTypeExtension:function(e){var t=e.name,n=e.interfaces,r=e.directives,o=e.fields;return h(["extend type",t,v("implements ",h(n," & ")),h(r," "),m(o)]," ")},InterfaceTypeExtension:function(e){var t=e.name,n=e.interfaces,r=e.directives,o=e.fields;return h(["extend interface",t,v("implements ",h(n," & ")),h(r," "),m(o)]," ")},UnionTypeExtension:function(e){var t=e.name,n=e.directives,r=e.types;return h(["extend union",t,h(n," "),r&&0!==r.length?"= "+h(r," | "):""]," ")},EnumTypeExtension:function(e){var t=e.name,n=e.directives,r=e.values;return h(["extend enum",t,h(n," "),m(r)]," ")},InputObjectTypeExtension:function(e){var t=e.name,n=e.directives,r=e.fields;return h(["extend input",t,h(n," "),m(r)]," ")}};function p(e){return function(t){return h([t.description,e(t)],"\n")}}function h(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null!==(t=null==e?void 0:e.filter((function(e){return e})).join(n))&&void 0!==t?t:""}function m(e){return v("{\n",b(h(e,"\n")),"\n}")}function v(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return null!=t&&""!==t?e+t+n:""}function b(e){return v("  ",e.replace(/\n/g,"\n  "))}function y(e){return-1!==e.indexOf("\n")}function g(e){return null!=e&&e.some(y)}var _={http:{includeQuery:!0,includeExtensions:!1},headers:{accept:"*/*","content-type":"application/json"},options:{method:"POST"}},O=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=Object(l.a)(Object(l.a)({},t.options),{headers:t.headers,credentials:t.credentials}),a=t.http||{};n.forEach((function(e){o=Object(l.a)(Object(l.a)(Object(l.a)({},o),e.options),{headers:Object(l.a)(Object(l.a)({},o.headers),e.headers)}),e.credentials&&(o.credentials=e.credentials),a=Object(l.a)(Object(l.a)({},a),e.http)}));var i=e.operationName,s=e.extensions,c=e.variables,u=e.query,f={operationName:i,variables:c};return a.includeExtensions&&(f.extensions=s),a.includeQuery&&(f.query=d(u)),{options:o,body:f}},S=function(e){if(!e&&"undefined"==typeof fetch)throw new i.a(22)},E=function(){if("undefined"==typeof AbortController)return{controller:!1,signal:!1};var e=new AbortController;return{controller:e,signal:e.signal}},w=function(e,t){var n=e.getContext().uri;return n||("function"==typeof t?t(e):t||"/graphql")},C=n(27),T=n(6);function A(e,t){var n=[],r=function(e,t){n.push(e+"="+encodeURIComponent(t))};if("query"in t&&r("query",t.query),t.operationName&&r("operationName",t.operationName),t.variables){var o=void 0;try{o=s(t.variables,"Variables map")}catch(e){return{parseError:e}}r("variables",o)}if(t.extensions){var a=void 0;try{a=s(t.extensions,"Extensions map")}catch(e){return{parseError:e}}r("extensions",a)}var i="",l=e,c=e.indexOf("#");-1!==c&&(i=e.substr(c),l=e.substr(0,c));var u=-1===l.indexOf("?")?"?":"&";return{newURI:l+u+n.join("&")+i}}var j=function(e){void 0===e&&(e={});var t=e.uri,n=void 0===t?"/graphql":t,o=e.fetch,i=e.includeExtensions,u=e.useGETForQueries,d=e.includeUnusedVariables,f=void 0!==d&&d,p=Object(l.e)(e,["uri","fetch","includeExtensions","useGETForQueries","includeUnusedVariables"]);S(o),o||(o=fetch);var h={http:{includeExtensions:i},options:p.fetchOptions,credentials:p.credentials,headers:p.headers};return new C.ApolloLink((function(e){var t=w(e,n),i=e.getContext(),d={};if(i.clientAwareness){var p=i.clientAwareness,m=p.name,v=p.version;m&&(d["apollographql-client-name"]=m),v&&(d["apollographql-client-version"]=v)}var b,y=Object(l.a)(Object(l.a)({},d),i.headers),g={http:i.http,options:i.fetchOptions,credentials:i.credentials,headers:y},S=O(e,_,h,g),C=S.options,j=S.body;if(j.variables&&!f){var k=new Set(Object.keys(j.variables));Object(c.b)(e.query,{Variable:function(e,t,n){n&&"VariableDefinition"!==n.kind&&k.delete(e.name.value)}}),k.size&&(j.variables=Object(l.a)({},j.variables),k.forEach((function(e){delete j.variables[e]})))}if(!C.signal){var I=E(),N=I.controller,x=I.signal;(b=N)&&(C.signal=x)}if(u&&!e.query.definitions.some((function(e){return"OperationDefinition"===e.kind&&"mutation"===e.operation}))&&(C.method="GET"),"GET"===C.method){var R=A(t,j),D=R.newURI,M=R.parseError;if(M)return Object(r.b)(M);t=D}else try{C.body=s(j,"Payload")}catch(M){return Object(r.b)(M)}return new T.c((function(n){return o(t,C).then((function(t){return e.setContext({response:t}),t})).then(a(e)).then((function(e){return n.next(e),n.complete(),e})).catch((function(e){"AbortError"!==e.name&&(e.result&&e.result.errors&&e.result.data&&n.next(e.result),n.error(e))})),function(){b&&b.abort()}}))}))},k=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,j(t).request)||this;return n.options=t,n}return Object(l.c)(t,e),t}(C.ApolloLink)},function(e,t,n){"use strict";var r,o=n(40),a=(r=o)&&r.__esModule?r:{default:r};e.exports=(0,a.default)("vendor")().ReactDOM},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(76);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){return i(e,[])}function i(e,t){switch(o(e)){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":return null===e?"null":function(e,t){if(-1!==t.indexOf(e))return"[Circular]";var n=[].concat(t,[e]),o=function(e){var t=e[String(r.a)];if("function"==typeof t)return t;if("function"==typeof e.inspect)return e.inspect}(e);if(void 0!==o){var a=o.call(e);if(a!==e)return"string"==typeof a?a:i(a,n)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>2)return"[Array]";for(var n=Math.min(10,e.length),r=e.length-n,o=[],a=0;a<n;++a)o.push(i(e[a],t));1===r?o.push("... 1 more item"):r>1&&o.push("... ".concat(r," more items"));return"["+o.join(", ")+"]"}(e,n);return function(e,t){var n=Object.keys(e);if(0===n.length)return"{}";if(t.length>2)return"["+function(e){var t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){var n=e.constructor.name;if("string"==typeof n&&""!==n)return n}return t}(e)+"]";return"{ "+n.map((function(n){return n+": "+i(e[n],t)})).join(", ")+" }"}(e,n)}(e,t);default:return String(e)}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return m}));var r=n(2),o=n(25),a=n(8),i=n(6),s=n(15),l=n(43);function c(e){return void 0!==e.args?e.args:e.field?Object(i.e)(e.field,e.variables):null}var u=function(e,t){var n=e.__typename,r=e.id,o=e._id;if("string"==typeof n&&(t&&(t.keyObject=void 0!==r?{id:r}:void 0!==o?{_id:o}:void 0),void 0===r&&(r=o),void 0!==r))return n+":"+("number"==typeof r||"string"==typeof r?r:JSON.stringify(r))},d=function(){},f=function(e,t){return t.fieldName},p=function(e,t,n){return(0,n.mergeObjects)(e,t)},h=function(e,t){return t},m=function(){function e(e){this.config=e,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=Object(r.a)({dataIdFromObject:u},e),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),e.possibleTypes&&this.addPossibleTypes(e.possibleTypes),e.typePolicies&&this.addTypePolicies(e.typePolicies)}return e.prototype.identify=function(e,t,n){var r=t&&n?Object(i.v)(e,t,n):e.__typename;if(r===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];for(var o,a={typename:r,selectionSet:t,fragmentMap:n},s=r&&this.getTypePolicy(r),l=s&&s.keyFn||this.config.dataIdFromObject;l;){var c=l(e,a);if(!Array.isArray(c)){o=c;break}l=g(c)}return o=o?String(o):void 0,a.keyObject?[o,a.keyObject]:[o]},e.prototype.addTypePolicies=function(e){var t=this;Object.keys(e).forEach((function(n){var o=e[n],a=o.queryType,i=o.mutationType,l=o.subscriptionType,c=Object(r.e)(o,["queryType","mutationType","subscriptionType"]);a&&t.setRootTypename("Query",n),i&&t.setRootTypename("Mutation",n),l&&t.setRootTypename("Subscription",n),s.c.call(t.toBeAdded,n)?t.toBeAdded[n].push(c):t.toBeAdded[n]=[c]}))},e.prototype.updateTypePolicy=function(e,t){var n=this,r=this.getTypePolicy(e),o=t.keyFields,a=t.fields;function i(e,t){e.merge="function"==typeof t?t:!0===t?p:!1===t?h:e.merge}i(r,t.merge),r.keyFn=!1===o?d:Array.isArray(o)?g(o):"function"==typeof o?o:r.keyFn,a&&Object.keys(a).forEach((function(t){var r=n.getFieldPolicy(e,t,!0),o=a[t];if("function"==typeof o)r.read=o;else{var s=o.keyArgs,l=o.read,c=o.merge;r.keyFn=!1===s?f:Array.isArray(s)?y(s):"function"==typeof s?s:r.keyFn,"function"==typeof l&&(r.read=l),i(r,c)}r.read&&r.merge&&(r.keyFn=r.keyFn||f)}))},e.prototype.setRootTypename=function(e,t){void 0===t&&(t=e);var n="ROOT_"+e.toUpperCase(),r=this.rootTypenamesById[n];t!==r&&(Object(a.b)(!r||r===e,1),r&&delete this.rootIdsByTypename[r],this.rootIdsByTypename[t]=n,this.rootTypenamesById[n]=t)},e.prototype.addPossibleTypes=function(e){var t=this;this.usingPossibleTypes=!0,Object.keys(e).forEach((function(n){t.getSupertypeSet(n,!0),e[n].forEach((function(e){t.getSupertypeSet(e,!0).add(n);var r=e.match(s.a);r&&r[0]===e||t.fuzzySubtypes.set(e,new RegExp(e))}))}))},e.prototype.getTypePolicy=function(e){var t=this;if(!s.c.call(this.typePolicies,e)){var n=this.typePolicies[e]=Object.create(null);n.fields=Object.create(null);var o=this.supertypeMap.get(e);o&&o.size&&o.forEach((function(e){var o=t.getTypePolicy(e),a=o.fields,i=Object(r.e)(o,["fields"]);Object.assign(n,i),Object.assign(n.fields,a)}))}var a=this.toBeAdded[e];return a&&a.length&&this.updateTypePolicy(e,i.j.apply(void 0,a.splice(0))),this.typePolicies[e]},e.prototype.getFieldPolicy=function(e,t,n){if(e){var r=this.getTypePolicy(e).fields;return r[t]||n&&(r[t]=Object.create(null))}},e.prototype.getSupertypeSet=function(e,t){var n=this.supertypeMap.get(e);return!n&&t&&this.supertypeMap.set(e,n=new Set),n},e.prototype.fragmentMatches=function(e,t,n,r){var o=this;if(!e.typeCondition)return!0;if(!t)return!1;var a=e.typeCondition.name.value;if(t===a)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(a))for(var i=this.getSupertypeSet(t,!0),l=[i],c=function(e){var t=o.getSupertypeSet(e,!1);t&&t.size&&l.indexOf(t)<0&&l.push(t)},u=!(!n||!this.fuzzySubtypes.size),d=0;d<l.length;++d){var f=l[d];if(f.has(a))return i.has(a)||i.add(a),!0;f.forEach(c),u&&d===l.length-1&&Object(s.e)(e.selectionSet,n,r)&&(u=!1,!0,this.fuzzySubtypes.forEach((function(e,n){var r=t.match(e);r&&r[0]===t&&c(n)})))}return!1},e.prototype.hasKeyArgs=function(e,t){var n=this.getFieldPolicy(e,t,!1);return!(!n||!n.keyFn)},e.prototype.getStoreFieldName=function(e){var t,n=e.typename,r=e.fieldName,o=this.getFieldPolicy(n,r,!1),a=o&&o.keyFn;if(a&&n)for(var l={typename:n,fieldName:r,field:e.field||null,variables:e.variables},u=c(e);a;){var d=a(u,l);if(!Array.isArray(d)){t=d||r;break}a=y(d)}return void 0===t&&(t=e.field?Object(i.M)(e.field,e.variables):Object(i.u)(r,c(e))),!1===t?r:r===Object(s.b)(t)?t:r+":"+t},e.prototype.readField=function(e,t){var n=e.from;if(n&&(e.field||e.fieldName)){if(void 0===e.typename){var r=t.store.getFieldValue(n,"__typename");r&&(e.typename=r)}var o=this.getStoreFieldName(e),a=Object(s.b)(o),c=t.store.getFieldValue(n,o),u=this.getFieldPolicy(e.typename,a,!1),d=u&&u.read;if(d){var f=v(this,n,e,t,t.store.getStorage(Object(i.C)(n)?n.__ref:n,o));return l.a.withValue(this.cache,d,[c,f])}return c}},e.prototype.getMergeFunction=function(e,t,n){var r=this.getFieldPolicy(e,t,!1),o=r&&r.merge;return!o&&n&&(o=(r=this.getTypePolicy(n))&&r.merge),o},e.prototype.runMergeFunction=function(e,t,n,r,o){var a=n.field,i=n.typename,s=n.merge;return s===p?b(r.store.getFieldValue)(e,t):s===h?t:s(e,t,v(this,void 0,{typename:i,fieldName:a.name.value,field:a,variables:r.variables},r,o||Object.create(null)))},e}();function v(e,t,n,o,a){var l=e.getStoreFieldName(n),u=Object(s.b)(l),d=n.variables||o.variables,f=o.store,p=f.getFieldValue,h=f.toReference,m=f.canRead;return{args:c(n),field:n.field||null,fieldName:u,storeFieldName:l,variables:d,isReference:i.C,toReference:h,storage:a,cache:e.cache,canRead:m,readField:function(n,a){var i="string"==typeof n?{fieldName:n,from:a}:Object(r.a)({},n);return void 0===i.from&&(i.from=t),void 0===i.variables&&(i.variables=d),e.readField(i,o)},mergeObjects:b(p)}}function b(e){return function(t,n){if(Array.isArray(t)||Array.isArray(n))throw new a.a(2);if(t&&"object"==typeof t&&n&&"object"==typeof n){var o=e(t,"__typename"),i=e(n,"__typename");return!(o&&i&&o!==i)&&Object(s.f)(t)&&Object(s.f)(n)?Object(r.a)(Object(r.a)({},t),n):n}return n}}function y(e){return function(t,n){return t?n.fieldName+":"+JSON.stringify(_(t,e,!1)):n.fieldName}}function g(e){var t=new o.a(i.h);return function(n,r){var o;if(r.selectionSet&&r.fragmentMap){var a=t.lookupArray([r.selectionSet,r.fragmentMap]);o=a.aliasMap||(a.aliasMap=function e(t,n){var r=Object.create(null),o=new Set([t]);return o.forEach((function(t){t.selections.forEach((function(t){if(Object(i.z)(t)){if(t.alias){var a=t.alias.value,s=t.name.value;if(s!==a)(r.aliases||(r.aliases=Object.create(null)))[s]=a}if(t.selectionSet)(r.subsets||(r.subsets=Object.create(null)))[t.name.value]=e(t.selectionSet,n)}else{var l=Object(i.o)(t,n);l&&o.add(l.selectionSet)}}))})),r}(r.selectionSet,r.fragmentMap))}var s=r.keyObject=_(n,e,!0,o);return r.typename+":"+JSON.stringify(s)}}function _(e,t,n,r){var o,i=Object.create(null);return t.forEach((function(t){if(Array.isArray(t)){if("string"==typeof o){var l=r&&r.subsets,c=l&&l[o];i[o]=_(e[o],t,n,c)}}else{var u=r&&r.aliases,d=u&&u[t]||t;s.c.call(e,d)?i[o=t]=e[d]:(Object(a.b)(!n,3),o=void 0)}})),i}},function(e,t,n){"use strict";var r,o=n(40),a=(r=o)&&r.__esModule?r:{default:r};e.exports=(0,a.default)("vendor")().reactRedux},function(e,t,n){"use strict";var r,o=n(40),a=(r=o)&&r.__esModule?r:{default:r};e.exports=(0,a.default)("NeosProjectPackages")().NeosUiReduxStore},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0;t.a=r},function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return b})),n.d(t,"c",(function(){return l}));var r=n(0),o=n.n(r),a=n(1),i=n(3),s=n(5);var l=Object(a.b)({key:"editDialogState",default:!1});var c=r.memo(()=>{const[e,t]=Object(a.f)(l),{translate:n}=Object(s.d)();return r.createElement(i.Button,{size:"regular",style:e?"brand":"lighter",hoverStyle:"brand",onClick:()=>t(!0)},r.createElement(i.Icon,{icon:"edit"}),n("OpenAssetEditDialogButton.open","Rename asset"))}),u=n(11),d=n(9),f=n(7),p=n(4);var h=p.gql`
    mutation EditAsset(
        $id: AssetId!
        $assetSourceId: AssetSourceId!
        $filename: Filename!
        $options: AssetEditOptionsInput!
    ) {
        editAsset(id: $id, assetSourceId: $assetSourceId, filename: $filename, options: $options)
    }
`;var m=n(82),v=n.n(m);var b=o.a.memo(()=>{var e;const{translate:t}=Object(s.d)(),n=Object(s.f)(),c=Object(a.g)(f.f),[m,b]=Object(a.f)(l),{editAsset:y,loading:g}=function(){const[e,{error:t,data:n,loading:r}]=Object(p.useMutation)(h);return{editAsset:({asset:t,filename:n,options:r})=>e({variables:{id:t.id,assetSourceId:t.assetSource.id,filename:n,options:r}}),editState:(null==n?void 0:n.editAsset)||null,error:t,loading:r}}(),{approvalAttainmentStrategy:{obtainApprovalToEditAsset:_}}=Object(s.e)(),{refetch:O}=Object(d.c)(),S=Object(r.useRef)(null),E=Object(d.i)(),[w,C]=o.a.useState({generateRedirects:!1}),T=Object(r.useCallback)(()=>{b(!1)},[b]),A=Object(r.useCallback)(async()=>{if(await _({asset:E}))try{await y({asset:E,filename:S.current.value,options:w}),n.ok(t("EditAssetDialog.updateFinished","Update finished")),T(),O()}catch(e){n.error(t("EditAssetDialog.updateError","Update failed"),e)}},[y,n,t,w,O,E,T,_,S]),j=E.filename.split(".").slice(0,-1).join("."),k=!g&&E.filename!=(null===(e=S.current)||void 0===e?void 0:e.value);return o.a.createElement(u.c,{isOpen:m,title:t("EditAssetDialog.title","Rename asset"),onRequestClose:()=>b(!1),actions:[o.a.createElement(i.Button,{key:"cancel",style:"neutral",hoverStyle:"darken",onClick:T},t("EditAssetDialog.cancel","Cancel")),o.a.createElement(i.Button,{key:"upload",style:"success",hoverStyle:"success",disabled:!k,onClick:A},t("EditAssetDialog.update","Update"))],style:"wide"},o.a.createElement("section",{className:v.a.editArea},o.a.createElement(i.Label,{className:v.a.label},t("EditAssetDialog.filename","Filename"),o.a.createElement("input",{className:v.a.filenameInput,type:"text",ref:S,defaultValue:j,onSubmit:A,disabled:g})),c.createAssetRedirectsOption&&o.a.createElement(i.Label,{className:v.a.label},o.a.createElement(i.CheckBox,{isChecked:w.generateRedirects,onChange:e=>C({...w,generateRedirects:e}),disabled:g}),o.a.createElement("span",null,t("uploadDialog.generateRedirects","Generate redirects"))),g&&o.a.createElement("p",null,t("EditAssetDialog.updating","Updating…"))))})},function(e,t,n){e.exports={wrapper:"IconLabel-module__wrapper___3HgO6",iconWrap:"IconLabel-module__iconWrap___7zSv3",label:"IconLabel-module__label___1x-tE",imgIcon:"IconLabel-module__imgIcon___15UN_"}},function(e,t,n){e.exports={assetCollectionTree:"AssetCollectionTree-module__assetCollectionTree___OqKzj",viewSelection:"AssetCollectionTree-module__viewSelection___3Ux4a",toolbar:"AssetCollectionTree-module__toolbar___3NIvN",tree:"AssetCollectionTree-module__tree___2V59G"}},function(e,t,n){e.exports={dropzone:"UploadSection-module__dropzone___2fIdu","dropzone--active":"UploadSection-module__dropzone--active___1t1U7","dropzone--accept":"UploadSection-module__dropzone--accept___1MkQv","dropzone--reject":"UploadSection-module__dropzone--reject___2CZXy"}},function(e,t,n){e.exports={fileList:"PreviewSection-module__fileList___2tdk4",fileListHeader:"PreviewSection-module__fileListHeader___1ztkM"}},function(e,t,n){e.exports={editArea:"EditAssetDialog-module__editArea___2-oMt",filenameInput:"EditAssetDialog-module__filenameInput___3ryar",label:"EditAssetDialog-module__label___X1xkR"}},function(e,t){},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(4),o=n(1),a=n(23),i=n(37),s=n(7);function l(e=!1){const t=Object(o.g)(s.j),{tagId:n,assetCollectionId:l}=Object(o.g)(s.k),c=Object(o.g)(a.d),u=Object(o.g)(s.o),d=Object(o.g)(s.m),{data:f,loading:p}=Object(r.useQuery)(i.c,{variables:{assetCollectionId:e?void 0:l,assetSourceId:c,mediaType:u,assetType:d,tagId:e?void 0:n,searchTerm:t.toString()}});return{assetCount:(null==f?void 0:f.assetCount)||0,loading:p}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(25),o=n(6),a=function(){function e(){this.getFragmentDoc=Object(r.c)(o.p)}return e.prototype.recordOptimisticTransaction=function(e,t){this.performTransaction(e,t)},e.prototype.transformDocument=function(e){return e},e.prototype.identify=function(e){},e.prototype.gc=function(){return[]},e.prototype.modify=function(e){return!1},e.prototype.transformForLink=function(e){return e},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!!e.optimistic),this.read({rootId:e.id||"ROOT_QUERY",query:e.query,variables:e.variables,returnPartialData:e.returnPartialData,optimistic:t})},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!!e.optimistic),this.read({query:this.getFragmentDoc(e.fragment,e.fragmentName),variables:e.variables,rootId:e.id,returnPartialData:e.returnPartialData,optimistic:t})},e.prototype.writeQuery=function(e){return this.write({dataId:e.id||"ROOT_QUERY",result:e.data,query:e.query,variables:e.variables,broadcast:e.broadcast})},e.prototype.writeFragment=function(e){return this.write({dataId:e.id,result:e.data,variables:e.variables,query:this.getFragmentDoc(e.fragment,e.fragmentName),broadcast:e.broadcast})},e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(2),o=n(8),a=n(16),i=n(17),s=n(6),l=function(){function e(e,t,n,r){this.observer=e,this.options=t,this.fetch=n,this.shouldFetch=r}return e.prototype.reobserve=function(e,t){e?this.updateOptions(e):this.updatePolling();var n=this.fetch(this.options,t);return this.concast&&this.concast.removeObserver(this.observer,!0),n.addObserver(this.observer),(this.concast=n).promise},e.prototype.updateOptions=function(e){return Object.assign(this.options,Object(s.j)(e)),this.updatePolling(),this},e.prototype.stop=function(){this.concast&&(this.concast.removeObserver(this.observer),delete this.concast),this.pollingInfo&&(clearTimeout(this.pollingInfo.timeout),this.options.pollInterval=0,this.updatePolling())},e.prototype.updatePolling=function(){var e=this,t=this.pollingInfo,n=this.options.pollInterval;if(n){if((!t||t.interval!==n)&&(Object(o.b)(n,20),!1!==this.shouldFetch)){(t||(this.pollingInfo={})).interval=n;var r=function(){e.pollingInfo&&(e.shouldFetch&&e.shouldFetch()?e.reobserve({fetchPolicy:"network-only",nextFetchPolicy:e.options.fetchPolicy||"cache-first"},i.a.poll).then(a,a):a())},a=function(){var t=e.pollingInfo;t&&(clearTimeout(t.timeout),t.timeout=setTimeout(r,t.interval))};a()}}else t&&(clearTimeout(t.timeout),delete this.pollingInfo)},e}(),c=function(e){function t(t){var n=t.queryManager,o=t.queryInfo,a=t.options,l=e.call(this,(function(e){return l.onSubscribe(e)}))||this;l.observers=new Set,l.subscriptions=new Set,l.observer={next:function(e){(l.lastError||l.isDifferentFromLastResult(e))&&(l.updateLastResult(e),Object(s.D)(l.observers,"next",e))},error:function(e){l.updateLastResult(Object(r.a)(Object(r.a)({},l.lastResult),{error:e,errors:e.graphQLErrors,networkStatus:i.a.error,loading:!1})),Object(s.D)(l.observers,"error",l.lastError=e)}},l.isTornDown=!1,l.options=a,l.queryId=n.generateQueryId();var c=Object(s.r)(a.query);return l.queryName=c&&c.name&&c.name.value,l.queryManager=n,l.queryInfo=o,l}return Object(r.c)(t,e),Object.defineProperty(t.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),t.prototype.result=function(){var e=this;return new Promise((function(t,n){var r={next:function(n){t(n),e.observers.delete(r),e.observers.size||e.queryManager.removeQuery(e.queryId),setTimeout((function(){o.unsubscribe()}),0)},error:n},o=e.subscribe(r)}))},t.prototype.getCurrentResult=function(e){void 0===e&&(e=!0);var t=this.lastResult,n=this.queryInfo.networkStatus||t&&t.networkStatus||i.a.ready,o=Object(r.a)(Object(r.a)({},t),{loading:Object(i.b)(n),networkStatus:n});if(this.isTornDown)return o;var a=this.options.fetchPolicy,s=void 0===a?"cache-first":a;if("no-cache"===s||"network-only"===s)delete o.partial;else if(!o.data||!this.queryManager.transform(this.options.query).hasForcedResolvers){var l=this.queryInfo.getDiff();o.data=l.complete||this.options.returnPartialData?l.result:void 0,l.complete?(o.networkStatus!==i.a.loading||"cache-first"!==s&&"cache-only"!==s||(o.networkStatus=i.a.ready,o.loading=!1),delete o.partial):o.partial=!0}return e&&this.updateLastResult(o),o},t.prototype.isDifferentFromLastResult=function(e){return!Object(a.a)(this.lastResultSnapshot,e)},t.prototype.getLastResult=function(){return this.lastResult},t.prototype.getLastError=function(){return this.lastError},t.prototype.resetLastResults=function(){delete this.lastResult,delete this.lastResultSnapshot,delete this.lastError,this.isTornDown=!1},t.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},t.prototype.refetch=function(e){var t={pollInterval:0},n=this.options.fetchPolicy;return"no-cache"!==n&&"cache-and-network"!==n&&(t.fetchPolicy="network-only",t.nextFetchPolicy=n||"cache-first"),e&&!Object(a.a)(this.options.variables,e)&&(t.variables=this.options.variables=Object(r.a)(Object(r.a)({},this.options.variables),e)),this.newReobserver(!1).reobserve(t,i.a.refetch)},t.prototype.fetchMore=function(e){var t=this,n=Object(r.a)(Object(r.a)({},e.query?e:Object(r.a)(Object(r.a)(Object(r.a)({},this.options),e),{variables:Object(r.a)(Object(r.a)({},this.options.variables),e.variables)})),{fetchPolicy:"no-cache"}),o=this.queryManager.generateQueryId();return n.notifyOnNetworkStatusChange&&(this.queryInfo.networkStatus=i.a.fetchMore,this.observe()),this.queryManager.fetchQuery(o,n,i.a.fetchMore).then((function(r){var o=r.data,a=e.updateQuery;return a?t.updateQuery((function(e){return a(e,{fetchMoreResult:o,variables:n.variables})})):t.queryManager.cache.writeQuery({query:n.query,variables:n.variables,data:o}),r})).finally((function(){t.queryManager.stopQuery(o),t.reobserve()}))},t.prototype.subscribeToMore=function(e){var t=this,n=this.queryManager.startGraphQLSubscription({query:e.document,variables:e.variables,context:e.context}).subscribe({next:function(n){var r=e.updateQuery;r&&t.updateQuery((function(e,t){var o=t.variables;return r(e,{subscriptionData:n,variables:o})}))},error:function(t){e.onError&&e.onError(t)}});return this.subscriptions.add(n),function(){t.subscriptions.delete(n)&&n.unsubscribe()}},t.prototype.setOptions=function(e){return this.reobserve(e)},t.prototype.setVariables=function(e){if(Object(a.a)(this.variables,e))return this.observers.size?this.result():Promise.resolve();if(this.options.variables=e,!this.observers.size)return Promise.resolve();var t=this.options.fetchPolicy,n=void 0===t?"cache-first":t,r={fetchPolicy:n,variables:e};return"cache-first"!==n&&"no-cache"!==n&&"network-only"!==n&&(r.fetchPolicy="cache-and-network",r.nextFetchPolicy=n),this.reobserve(r,i.a.setVariables)},t.prototype.updateQuery=function(e){var t,n=this.queryManager,r=e(n.cache.diff({query:this.options.query,variables:this.variables,previousResult:null===(t=this.lastResult)||void 0===t?void 0:t.data,returnPartialData:!0,optimistic:!1}).result,{variables:this.variables});r&&(n.cache.writeQuery({query:this.options.query,data:r,variables:this.variables}),n.broadcastQueries())},t.prototype.startPolling=function(e){this.getReobserver().updateOptions({pollInterval:e})},t.prototype.stopPolling=function(){this.reobserver&&this.reobserver.updateOptions({pollInterval:0})},t.prototype.updateLastResult=function(e){var t=this.lastResult;return this.lastResult=e,this.lastResultSnapshot=this.queryManager.assumeImmutableResults?e:Object(s.i)(e),Object(s.B)(e.errors)||delete this.lastError,t},t.prototype.onSubscribe=function(e){var t=this;if(e===this.observer)return function(){};try{var n=e._subscription._observer;n&&!n.error&&(n.error=u)}catch(e){}var r=!this.observers.size;return this.observers.add(e),this.lastError?e.error&&e.error(this.lastError):this.lastResult&&e.next&&e.next(this.lastResult),r&&this.reobserve().catch((function(e){})),function(){t.observers.delete(e)&&!t.observers.size&&t.tearDownQuery()}},t.prototype.getReobserver=function(){return this.reobserver||(this.reobserver=this.newReobserver(!0))},t.prototype.newReobserver=function(e){var t=this,n=this.queryManager,o=this.queryId;return n.setObservableQuery(this),new l(this.observer,e?this.options:Object(r.a)({},this.options),(function(e,r){return n.setObservableQuery(t),n.fetchQueryObservable(o,e,r)}),!n.ssrMode&&function(){return!Object(i.b)(t.queryInfo.networkStatus)})},t.prototype.reobserve=function(e,t){return this.isTornDown=!1,this.getReobserver().reobserve(e,t)},t.prototype.observe=function(){this.observer.next(this.getCurrentResult(!1))},t.prototype.hasObservers=function(){return this.observers.size>0},t.prototype.tearDownQuery=function(){this.isTornDown||(this.reobserver&&(this.reobserver.stop(),delete this.reobserver),this.subscriptions.forEach((function(e){return e.unsubscribe()})),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},t}(s.c);function u(e){}Object(s.l)(c)},function(e,t,n){"use strict";var r,o=n(40),a=(r=o)&&r.__esModule?r:{default:r};e.exports=(0,a.default)("NeosProjectPackages")().NeosUiDecorators},function(e,t,n){"use strict";function r(e){var t=e.split(/\r\n|[\n\r]/g),n=function(e){for(var t,n=!0,r=!0,o=0,a=null,i=0;i<e.length;++i)switch(e.charCodeAt(i)){case 13:10===e.charCodeAt(i+1)&&++i;case 10:n=!1,r=!0,o=0;break;case 9:case 32:++o;break;default:r&&!n&&(null===a||o<a)&&(a=o),r=!1}return null!==(t=a)&&void 0!==t?t:0}(e);if(0!==n)for(var r=1;r<t.length;r++)t[r]=t[r].slice(n);for(var a=0;a<t.length&&o(t[a]);)++a;for(var i=t.length;i>a&&o(t[i-1]);)--i;return t.slice(a,i).join("\n")}function o(e){for(var t=0;t<e.length;++t)if(" "!==e[t]&&"\t"!==e[t])return!1;return!0}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=-1===e.indexOf("\n"),o=" "===e[0]||"\t"===e[0],a='"'===e[e.length-1],i="\\"===e[e.length-1],s=!r||a||i||n,l="";return!s||r&&o||(l+="\n"+t),l+=t?e.replace(/\n/g,"\n"+t):e,s&&(l+="\n"),'"""'+l.replace(/"""/g,'\\"""')+'"""'}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}))},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(1),i=n(4),s=n(24),l=n(7),c=n(53);t.a=({children:e,client:t,translate:n,notificationApi:r,initialState:u})=>o.a.createElement(s.c,{translate:n},o.a.createElement(s.e,{notificationApi:r},o.a.createElement(s.b,null,o.a.createElement(i.ApolloProvider,{client:t},o.a.createElement(a.a,{initializeState:({set:e})=>{var t;const{applicationContext:n,featureFlags:r,constraints:o,selectedInspectorView:a,selectedAsset:i}=u;e(l.a,n),e(l.f,r),i&&e(l.l,i),a&&e(l.n,a),e(l.d,o),(null===(t=o.mediaTypes)||void 0===t?void 0:t.length)>0&&e(l.o,null),o.assetType&&e(l.m,o.assetType);const s=c.a.fromUrl(new URL(window.location.href));s.empty()||e(l.j,s)}},e)))))},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(1),i=n(7),s=n(149),l=n.n(s);t.a=()=>{const e=Object(a.g)(i.h);return o.a.createElement("div",{className:l.a.indicator,"data-animated":e,role:"progressbar","aria-hidden":!0})}},function(e,t,n){"use strict";t.createUploadLink=n(181),t.formDataAppendFile=n(123),t.isExtractableFile=n(124),t.ReactNativeFile=n(184)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));const r=()=>Promise.resolve(!0),o={obtainApprovalToUpdateAsset:r,obtainApprovalToSetAssetTags:r,obtainApprovalToSetAssetCollections:r,obtainApprovalToDeleteAsset:r,obtainApprovalToDeleteAssets:r,obtainApprovalToDeleteAssetCollection:r,obtainApprovalToDeleteTag:r,obtainApprovalToReplaceAsset:r,obtainApprovalToEditAsset:r,obtainApprovalToFlushClipboard:r},a=e=>({...o,obtainApprovalToDeleteAsset:({asset:t})=>e.interaction.confirm({title:e.intl.translate("actions.deleteAsset.confirm.title","Delete Asset",[t.label]),message:e.intl.translate("action.deleteAsset.confirm.message",`Do you really want to delete the asset "${t.label}"`,[t.label]),buttonLabel:e.intl.translate("actions.deleteAsset.confirm.buttonLabel","Yes, proceed with deleting the asset",[t.label])}),obtainApprovalToDeleteAssets:({assets:t})=>e.interaction.confirm({title:e.intl.translate("actions.deleteAssets.confirm.title","Delete Assets",[t.length]),message:e.intl.translate("action.deleteAssets.confirm.message",`Do you really want to delete ${t.length} assets`,[t.length]),buttonLabel:e.intl.translate("actions.deleteAssets.confirm.buttonLabel","Yes, proceed with deleting the assets",[t.length])}),obtainApprovalToDeleteAssetCollection:({assetCollection:t})=>e.interaction.confirm({title:e.intl.translate("actions.deleteAssetCollection.confirm.title","Delete collection",[t.title]),message:e.intl.translate("action.deleteAssetCollection.confirm.message",`Do you really want to delete the collection "${t.title}"`,[t.title]),buttonLabel:e.intl.translate("actions.deleteAssetCollection.confirm.buttonLabel","Yes, proceed with deleting the collection",[t.title])}),obtainApprovalToDeleteTag:({tag:t})=>e.interaction.confirm({title:e.intl.translate("actions.deleteTag.confirm.title","Delete tag",[t.label]),message:e.intl.translate("action.deleteTag.confirm.message",`Do you really want to delete the tag "${t.label}"`,[t.label]),buttonLabel:e.intl.translate("actions.deleteTag.confirm.buttonLabel","Yes, proceed with deleting the tag",[t.label])}),obtainApprovalToFlushClipboard:()=>e.interaction.confirm({title:e.intl.translate("actions.flushClipboard.confirm.title","Flush clipboard"),message:e.intl.translate("action.flushClipboard.confirm.message","Do you really want to remove all assets from the clipboard?"),buttonLabel:e.intl.translate("actions.flushClipboard.confirm.buttonLabel","Yes, proceed with flushing the clipboard")})})},function(e,t,n){(function(e){!function(n,r){"use strict";var o={};n.PubSub?(o=n.PubSub,console.warn("PubSub already loaded, using existing version")):(n.PubSub=o,function(e){var t={},n=-1;function r(e,t,n){try{e(t,n)}catch(e){setTimeout(function(e){return function(){throw e}}(e),0)}}function o(e,t,n){e(t,n)}function a(e,n,a,i){var s,l=t[n],c=i?o:r;if(Object.prototype.hasOwnProperty.call(t,n))for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&c(l[s],e,a)}function i(e){var n=String(e);return Boolean(Object.prototype.hasOwnProperty.call(t,n)&&function(e){var t;for(t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!0;return!1}(t[n]))}function s(e,t,n,r){var o=function(e,t,n){return function(){var r=String(e),o=r.lastIndexOf(".");for(a(e,e,t,n);-1!==o;)o=(r=r.substr(0,o)).lastIndexOf("."),a(e,r,t,n);a(e,"*",t,n)}}(e="symbol"==typeof e?e.toString():e,t,r);return!!function(e){for(var t=String(e),n=i(t)||i("*"),r=t.lastIndexOf(".");!n&&-1!==r;)r=(t=t.substr(0,r)).lastIndexOf("."),n=i(t);return n}(e)&&(!0===n?o():setTimeout(o,0),!0)}e.publish=function(t,n){return s(t,n,!1,e.immediateExceptions)},e.publishSync=function(t,n){return s(t,n,!0,e.immediateExceptions)},e.subscribe=function(e,r){if("function"!=typeof r)return!1;e="symbol"==typeof e?e.toString():e,Object.prototype.hasOwnProperty.call(t,e)||(t[e]={});var o="uid_"+String(++n);return t[e][o]=r,o},e.subscribeAll=function(t){return e.subscribe("*",t)},e.subscribeOnce=function(t,n){var r=e.subscribe(t,(function(){e.unsubscribe(r),n.apply(this,arguments)}));return e},e.clearAllSubscriptions=function(){t={}},e.clearSubscriptions=function(e){var n;for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&0===n.indexOf(e)&&delete t[n]},e.countSubscriptions=function(e){var n,r,o=0;for(n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&0===n.indexOf(e)){for(r in t[n])o++;break}return o},e.getSubscriptions=function(e){var n,r=[];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&0===n.indexOf(e)&&r.push(n);return r},e.unsubscribe=function(n){var r,o,a,i="string"==typeof n&&(Object.prototype.hasOwnProperty.call(t,n)||function(e){var n;for(n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&0===n.indexOf(e))return!0;return!1}(n)),s=!i&&"string"==typeof n,l="function"==typeof n,c=!1;if(!i){for(r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(o=t[r],s&&o[n]){delete o[n],c=n;break}if(l)for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&o[a]===n&&(delete o[a],c=!0)}return c}e.clearSubscriptions(n)}}(o)),void 0!==e&&e.exports&&(t=e.exports=o),t.PubSub=o,e.exports=t=o}("object"==typeof window&&window||this)}).call(this,n(180)(e))},function(e,t,n){e.exports={similarAsset:"SimilarAsset-module__similarAsset___1KcEJ",picture:"SimilarAsset-module__picture___Smj1-",caption:"SimilarAsset-module__caption___2qc3x"}},function(e,t,n){e.exports={bottomBar:"BottomBar-module__bottomBar___3Tez-",selectionMode:"BottomBar-module__selectionMode___1E9W5",isInNodeCreationDialog:"BottomBar-module__isInNodeCreationDialog___19gtL"}},function(e,t,n){e.exports={sortingState:"SortOrderSelector-module__sortingState___17kji",selectBox:"SortOrderSelector-module__selectBox___g81tx"}},function(e,t){var n,r,o=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(e){n=a}try{r="function"==typeof clearTimeout?clearTimeout:i}catch(e){r=i}}();var l,c=[],u=!1,d=-1;function f(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&p())}function p(){if(!u){var e=s(f);u=!0;for(var t=c.length;t;){for(l=c,c=[];++d<t;)l&&l[d].run();d=-1,t=c.length}l=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||u||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canUseDOM=t.SafeNodeList=t.SafeHTMLCollection=void 0;var r,o=n(191);var a=((r=o)&&r.__esModule?r:{default:r}).default,i=a.canUseDOM?window.HTMLElement:{};t.SafeHTMLCollection=a.canUseDOM?window.HTMLCollection:{},t.SafeNodeList=a.canUseDOM?window.NodeList:{},t.canUseDOM=a.canUseDOM;t.default=i},function(e,t,n){"use strict";n.d(t,"b",(function(){return S})),n.d(t,"a",(function(){return E}));var r=n(2),o=n(8),a=n(27),i=n(6),s=n(70),l=n(16),c=n(28),u=n(86),d=n(17),f=n(135),p=n(41),h=function(){function e(e){var t=e.cache,n=e.client,r=e.resolvers,o=e.fragmentMatcher;this.cache=t,n&&(this.client=n),r&&this.addResolvers(r),o&&this.setFragmentMatcher(o)}return e.prototype.addResolvers=function(e){var t=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach((function(e){t.resolvers=Object(i.G)(t.resolvers,e)})):this.resolvers=Object(i.G)(this.resolvers,e)},e.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},e.prototype.getResolvers=function(){return this.resolvers||{}},e.prototype.runResolvers=function(e){var t=e.document,n=e.remoteResult,o=e.context,a=e.variables,i=e.onlyRunForcedResolvers,s=void 0!==i&&i;return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(e){return t?[2,this.resolveDocument(t,n.data,o,a,this.fragmentMatcher,s).then((function(e){return Object(r.a)(Object(r.a)({},n),{data:e.result})}))]:[2,n]}))}))},e.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},e.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},e.prototype.clientQuery=function(e){return Object(i.y)(["client"],e)&&this.resolvers?e:null},e.prototype.serverQuery=function(e){return Object(i.I)(e)},e.prototype.prepareContext=function(e){var t=this.cache;return Object(r.a)(Object(r.a)({},e),{cache:t,getCacheKey:function(e){return t.identify(e)}})},e.prototype.addExportedVariables=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(o){return e?[2,this.resolveDocument(e,this.buildRootValueFromCache(e,t)||{},this.prepareContext(n),t).then((function(e){return Object(r.a)(Object(r.a)({},t),e.exportedVariables)}))]:[2,Object(r.a)({},t)]}))}))},e.prototype.shouldForceResolvers=function(e){var t=!1;return Object(f.b)(e,{Directive:{enter:function(e){if("client"===e.name.value&&e.arguments&&(t=e.arguments.some((function(e){return"always"===e.name.value&&"BooleanValue"===e.value.kind&&!0===e.value.value}))))return f.a}}}),t},e.prototype.buildRootValueFromCache=function(e,t){return this.cache.diff({query:Object(i.g)(e),variables:t,returnPartialData:!0,optimistic:!1}).result},e.prototype.resolveDocument=function(e,t,n,o,a,s){return void 0===n&&(n={}),void 0===o&&(o={}),void 0===a&&(a=function(){return!0}),void 0===s&&(s=!1),Object(r.b)(this,void 0,void 0,(function(){var l,c,u,d,f,p,h,m,v;return Object(r.d)(this,(function(b){return l=Object(i.q)(e),c=Object(i.n)(e),u=Object(i.k)(c),d=l.operation,f=d?d.charAt(0).toUpperCase()+d.slice(1):"Query",h=(p=this).cache,m=p.client,v={fragmentMap:u,context:Object(r.a)(Object(r.a)({},n),{cache:h,client:m}),variables:o,fragmentMatcher:a,defaultOperationType:f,exportedVariables:{},onlyRunForcedResolvers:s},[2,this.resolveSelectionSet(l.selectionSet,t,v).then((function(e){return{result:e,exportedVariables:v.exportedVariables}}))]}))}))},e.prototype.resolveSelectionSet=function(e,t,n){return Object(r.b)(this,void 0,void 0,(function(){var a,s,l,c,u,d=this;return Object(r.d)(this,(function(f){return a=n.fragmentMap,s=n.context,l=n.variables,c=[t],u=function(e){return Object(r.b)(d,void 0,void 0,(function(){var u,d;return Object(r.d)(this,(function(r){return Object(i.L)(e,l)?Object(i.z)(e)?[2,this.resolveField(e,t,n).then((function(t){var n;void 0!==t&&c.push(((n={})[Object(i.K)(e)]=t,n))}))]:(Object(i.A)(e)?u=e:(u=a[e.name.value],Object(o.b)(u,11)),u&&u.typeCondition&&(d=u.typeCondition.name.value,n.fragmentMatcher(t,d,s))?[2,this.resolveSelectionSet(u.selectionSet,t,n).then((function(e){c.push(e)}))]:[2]):[2]}))}))},[2,Promise.all(e.selections.map(u)).then((function(){return Object(i.H)(c)}))]}))}))},e.prototype.resolveField=function(e,t,n){return Object(r.b)(this,void 0,void 0,(function(){var o,a,s,l,c,u,d,f,h,m=this;return Object(r.d)(this,(function(r){return o=n.variables,a=e.name.value,s=Object(i.K)(e),l=a!==s,c=t[s]||t[a],u=Promise.resolve(c),n.onlyRunForcedResolvers&&!this.shouldForceResolvers(e)||(d=t.__typename||n.defaultOperationType,(f=this.resolvers&&this.resolvers[d])&&(h=f[l?a:s])&&(u=Promise.resolve(p.cacheSlot.withValue(this.cache,h,[t,Object(i.e)(e,o),n.context,{field:e,fragmentMap:n.fragmentMap}])))),[2,u.then((function(t){return void 0===t&&(t=c),e.directives&&e.directives.forEach((function(e){"export"===e.name.value&&e.arguments&&e.arguments.forEach((function(e){"as"===e.name.value&&"StringValue"===e.value.kind&&(n.exportedVariables[e.value.value]=t)}))})),e.selectionSet?null==t?t:Array.isArray(t)?m.resolveSubSelectedArray(e,t,n):e.selectionSet?m.resolveSelectionSet(e.selectionSet,t,n):void 0:t}))]}))}))},e.prototype.resolveSubSelectedArray=function(e,t,n){var r=this;return Promise.all(t.map((function(t){return null===t?null:Array.isArray(t)?r.resolveSubSelectedArray(e,t,n):e.selectionSet?r.resolveSelectionSet(e.selectionSet,t,n):void 0})))},e}(),m=new(i.h?WeakMap:Map);function v(e,t){var n=e[t];"function"==typeof n&&(e[t]=function(){return m.set(e,(m.get(e)+1)%1e15),n.apply(this,arguments)})}function b(e){e.notifyTimeout&&(clearTimeout(e.notifyTimeout),e.notifyTimeout=void 0)}var y=function(){function e(e){this.cache=e,this.listeners=new Set,this.document=null,this.lastRequestId=1,this.subscriptions=new Set,this.stopped=!1,this.dirty=!1,this.diff=null,this.observableQuery=null,m.has(e)||(m.set(e,0),v(e,"evict"),v(e,"modify"),v(e,"reset"))}return e.prototype.init=function(e){var t=e.networkStatus||d.a.loading;return this.variables&&this.networkStatus!==d.a.loading&&!Object(l.a)(this.variables,e.variables)&&(t=d.a.setVariables),Object(l.a)(e.variables,this.variables)||(this.diff=null),Object.assign(this,{document:e.document,variables:e.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:t}),e.observableQuery&&this.setObservableQuery(e.observableQuery),e.lastRequestId&&(this.lastRequestId=e.lastRequestId),this},e.prototype.reset=function(){b(this),this.diff=null,this.dirty=!1},e.prototype.getDiff=function(e){return void 0===e&&(e=this.variables),this.diff&&Object(l.a)(e,this.variables)?this.diff:(this.updateWatch(this.variables=e),this.diff=this.cache.diff({query:this.document,variables:e,returnPartialData:!0,optimistic:!0}))},e.prototype.setDiff=function(e){var t=this,n=this.diff;this.diff=e,this.dirty||(e&&e.result)===(n&&n.result)||(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout((function(){return t.notify()}),0)))},e.prototype.setObservableQuery=function(e){var t=this;e!==this.observableQuery&&(this.oqListener&&this.listeners.delete(this.oqListener),this.observableQuery=e,e?(e.queryInfo=this,this.listeners.add(this.oqListener=function(){t.getDiff().fromOptimisticTransaction?e.observe():e.reobserve()})):delete this.oqListener)},e.prototype.notify=function(){var e=this;b(this),this.shouldNotify()&&this.listeners.forEach((function(t){return t(e)})),this.dirty=!1},e.prototype.shouldNotify=function(){if(!this.dirty||!this.listeners.size)return!1;if(Object(d.b)(this.networkStatus)&&this.observableQuery){var e=this.observableQuery.options.fetchPolicy;if("cache-only"!==e&&"cache-and-network"!==e)return!1}return!0},e.prototype.stop=function(){if(!this.stopped){this.stopped=!0,this.reset(),this.cancel(),delete this.cancel,this.subscriptions.forEach((function(e){return e.unsubscribe()}));var e=this.observableQuery;e&&e.stopPolling()}},e.prototype.cancel=function(){},e.prototype.updateWatch=function(e){var t=this;void 0===e&&(e=this.variables);var n=this.observableQuery;n&&"no-cache"===n.options.fetchPolicy||this.lastWatch&&this.lastWatch.query===this.document&&Object(l.a)(e,this.lastWatch.variables)||(this.cancel(),this.cancel=this.cache.watch(this.lastWatch={query:this.document,variables:e,optimistic:!0,callback:function(e){return t.setDiff(e)}}))},e.prototype.shouldWrite=function(e,t){var n=this.lastWrite;return!(n&&n.dmCount===m.get(this.cache)&&Object(l.a)(t,n.variables)&&Object(l.a)(e.data,n.result.data))},e.prototype.markResult=function(e,t,n){var r=this;this.graphQLErrors=Object(i.B)(e.errors)?e.errors:[],this.reset(),"no-cache"===t.fetchPolicy?this.diff={result:e.data,complete:!0}:!this.stopped&&n&&(g(e,t.errorPolicy)?this.cache.performTransaction((function(n){if(r.shouldWrite(e,t.variables))n.writeQuery({query:r.document,data:e.data,variables:t.variables}),r.lastWrite={result:e,variables:t.variables,dmCount:m.get(r.cache)};else if(r.diff&&r.diff.complete)return void(e.data=r.diff.result);var o=n.diff({query:r.document,variables:t.variables,returnPartialData:!0,optimistic:!0});r.stopped||r.updateWatch(t.variables),r.diff=o,o.complete&&(e.data=o.result)})):this.lastWrite=void 0)},e.prototype.markReady=function(){return this.networkError=null,this.networkStatus=d.a.ready},e.prototype.markError=function(e){return this.networkStatus=d.a.error,this.lastWrite=void 0,this.reset(),e.graphQLErrors&&(this.graphQLErrors=e.graphQLErrors),e.networkError&&(this.networkError=e.networkError),e},e}();function g(e,t){void 0===t&&(t="none");var n="ignore"===t||"all"===t,r=!Object(i.w)(e);return!r&&n&&e.data&&(r=!0),r}var _=Object.prototype.hasOwnProperty,O=function(){function e(e){var t=e.cache,n=e.link,r=e.queryDeduplication,o=void 0!==r&&r,a=e.onBroadcast,s=e.ssrMode,l=void 0!==s&&s,c=e.clientAwareness,u=void 0===c?{}:c,d=e.localState,f=e.assumeImmutableResults;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new(i.h?WeakMap:Map),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new Map,this.cache=t,this.link=n,this.queryDeduplication=o,this.clientAwareness=u,this.localState=d||new h({cache:t}),this.ssrMode=l,this.assumeImmutableResults=!!f,(this.onBroadcast=a)&&(this.mutationStore=Object.create(null))}return e.prototype.stop=function(){var e=this;this.queries.forEach((function(t,n){e.stopQueryNoBroadcast(n)})),this.cancelPendingFetches(new o.a(12))},e.prototype.cancelPendingFetches=function(e){this.fetchCancelFns.forEach((function(t){return t(e)})),this.fetchCancelFns.clear()},e.prototype.mutate=function(e){var t=e.mutation,n=e.variables,a=e.optimisticResponse,s=e.updateQueries,l=e.refetchQueries,u=void 0===l?[]:l,d=e.awaitRefetchQueries,f=void 0!==d&&d,p=e.update,h=e.errorPolicy,m=void 0===h?"none":h,v=e.fetchPolicy,b=e.context,y=void 0===b?{}:b;return Object(r.b)(this,void 0,void 0,(function(){var e,l,d;return Object(r.d)(this,(function(h){switch(h.label){case 0:return Object(o.b)(t,13),Object(o.b)(!v||"no-cache"===v,14),e=this.generateMutationId(),t=this.transform(t).document,n=this.getVariables(t,n),this.transform(t).hasClientExports?[4,this.localState.addExportedVariables(t,n,y)]:[3,2];case 1:n=h.sent(),h.label=2;case 2:return l=this.mutationStore&&(this.mutationStore[e]={mutation:t,variables:n,loading:!0,error:null}),a&&this.markMutationOptimistic(a,{mutationId:e,document:t,variables:n,errorPolicy:m,updateQueries:s,update:p}),this.broadcastQueries(),d=this,[2,new Promise((function(o,h){var b,g;d.getObservableFromLink(t,Object(r.a)(Object(r.a)({},y),{optimisticResponse:a}),n,!1).subscribe({next:function(r){if(Object(i.w)(r)&&"none"===m)g=new c.a({graphQLErrors:r.errors});else{if(l&&(l.loading=!1,l.error=null),"no-cache"!==v)try{d.markMutationResult({mutationId:e,result:r,document:t,variables:n,errorPolicy:m,updateQueries:s,update:p})}catch(e){return void(g=new c.a({networkError:e}))}b=r}},error:function(t){l&&(l.loading=!1,l.error=t),a&&d.cache.removeOptimistic(e),d.broadcastQueries(),h(new c.a({networkError:t}))},complete:function(){if(g&&l&&(l.loading=!1,l.error=g),a&&d.cache.removeOptimistic(e),d.broadcastQueries(),g)h(g);else{"function"==typeof u&&(u=u(b));var t=[];Object(i.B)(u)&&u.forEach((function(e){if("string"==typeof e)d.queries.forEach((function(n){var r=n.observableQuery;r&&r.hasObservers()&&r.queryName===e&&t.push(r.refetch())}));else{var n={query:e.query,variables:e.variables,fetchPolicy:"network-only"};e.context&&(n.context=e.context),t.push(d.query(n))}})),Promise.all(f?t:[]).then((function(){"ignore"===m&&b&&Object(i.w)(b)&&delete b.errors,o(b)}),h)}}})}))]}}))}))},e.prototype.markMutationResult=function(e,t){var n=this;if(void 0===t&&(t=this.cache),g(e.result,e.errorPolicy)){var r=[{result:e.result.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}],o=e.updateQueries;o&&this.queries.forEach((function(a,s){var l=a.observableQuery,c=l&&l.queryName;if(c&&_.call(o,c)){var u=o[c],d=n.queries.get(s),f=d.document,p=d.variables,h=t.diff({query:f,variables:p,returnPartialData:!0,optimistic:!1}),m=h.result;if(h.complete&&m){var v=u(m,{mutationResult:e.result,queryName:f&&Object(i.s)(f)||void 0,queryVariables:p});v&&r.push({result:v,dataId:"ROOT_QUERY",query:f,variables:p})}}})),t.performTransaction((function(t){r.forEach((function(e){return t.write(e)}));var n=e.update;n&&n(t,e.result)}),null)}},e.prototype.markMutationOptimistic=function(e,t){var n=this,o="function"==typeof e?e(t.variables):e;return this.cache.recordOptimisticTransaction((function(e){try{n.markMutationResult(Object(r.a)(Object(r.a)({},t),{result:{data:o}}),e)}catch(e){}}),t.mutationId)},e.prototype.fetchQuery=function(e,t,n){return this.fetchQueryObservable(e,t,n).promise},e.prototype.getQueryStore=function(){var e=Object.create(null);return this.queries.forEach((function(t,n){e[n]={variables:t.variables,networkStatus:t.networkStatus,networkError:t.networkError,graphQLErrors:t.graphQLErrors}})),e},e.prototype.resetErrors=function(e){var t=this.queries.get(e);t&&(t.networkError=void 0,t.graphQLErrors=[])},e.prototype.transform=function(e){var t=this.transformCache;if(!t.has(e)){var n=this.cache.transformDocument(e),r=Object(i.J)(this.cache.transformForLink(n)),o=this.localState.clientQuery(n),a=r&&this.localState.serverQuery(r),s={document:n,hasClientExports:Object(i.x)(n),hasForcedResolvers:this.localState.shouldForceResolvers(n),clientQuery:o,serverQuery:a,defaultVars:Object(i.m)(Object(i.r)(n))},l=function(e){e&&!t.has(e)&&t.set(e,s)};l(e),l(n),l(o),l(a)}return t.get(e)},e.prototype.getVariables=function(e,t){return Object(r.a)(Object(r.a)({},this.transform(e).defaultVars),t)},e.prototype.watchQuery=function(e){void 0===(e=Object(r.a)(Object(r.a)({},e),{variables:this.getVariables(e.query,e.variables)})).notifyOnNetworkStatusChange&&(e.notifyOnNetworkStatusChange=!1);var t=new y(this.cache),n=new u.a({queryManager:this,queryInfo:t,options:e});return this.queries.set(n.queryId,t),t.init({document:e.query,observableQuery:n,variables:e.variables}),n},e.prototype.query=function(e){var t=this;Object(o.b)(e.query,15),Object(o.b)("Document"===e.query.kind,16),Object(o.b)(!e.returnPartialData,17),Object(o.b)(!e.pollInterval,18);var n=this.generateQueryId();return this.fetchQuery(n,e).finally((function(){return t.stopQuery(n)}))},e.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},e.prototype.generateRequestId=function(){return this.requestIdCounter++},e.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},e.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryInStoreNoBroadcast=function(e){var t=this.queries.get(e);t&&t.stop()},e.prototype.clearStore=function(){return this.cancelPendingFetches(new o.a(19)),this.queries.forEach((function(e){e.observableQuery?e.networkStatus=d.a.loading:e.stop()})),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset()},e.prototype.resetStore=function(){var e=this;return this.clearStore().then((function(){return e.reFetchObservableQueries()}))},e.prototype.reFetchObservableQueries=function(e){var t=this;void 0===e&&(e=!1);var n=[];return this.queries.forEach((function(r,o){var a=r.observableQuery;if(a&&a.hasObservers()){var i=a.options.fetchPolicy;a.resetLastResults(),"cache-only"===i||!e&&"standby"===i||n.push(a.refetch()),t.getQuery(o).setDiff(null)}})),this.broadcastQueries(),Promise.all(n)},e.prototype.setObservableQuery=function(e){this.getQuery(e.queryId).setObservableQuery(e)},e.prototype.startGraphQLSubscription=function(e){var t=this,n=e.query,r=e.fetchPolicy,o=e.errorPolicy,a=e.variables,s=e.context,l=void 0===s?{}:s;n=this.transform(n).document,a=this.getVariables(n,a);var u=function(e){return t.getObservableFromLink(n,l,e,!1).map((function(a){if("no-cache"!==r&&(g(a,o)&&t.cache.write({query:n,result:a.data,dataId:"ROOT_SUBSCRIPTION",variables:e}),t.broadcastQueries()),Object(i.w)(a))throw new c.a({graphQLErrors:a.errors});return a}))};if(this.transform(n).hasClientExports){var d=this.localState.addExportedVariables(n,a,l).then(u);return new i.c((function(e){var t=null;return d.then((function(n){return t=n.subscribe(e)}),e.error),function(){return t&&t.unsubscribe()}}))}return u(a)},e.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},e.prototype.removeQuery=function(e){this.fetchCancelFns.delete(e),this.getQuery(e).stop(),this.queries.delete(e)},e.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach((function(e){return e.notify()}))},e.prototype.getLocalState=function(){return this.localState},e.prototype.getObservableFromLink=function(e,t,n,o){var s,l,c=this;void 0===o&&(o=null!==(s=null==t?void 0:t.queryDeduplication)&&void 0!==s?s:this.queryDeduplication);var u=this.transform(e).serverQuery;if(u){var d=this.inFlightLinkObservables,f=this.link,p={query:u,variables:n,operationName:Object(i.s)(u)||void 0,context:this.prepareContext(Object(r.a)(Object(r.a)({},t),{forceFetch:!o}))};if(t=p.context,o){var h=d.get(u)||new Map;d.set(u,h);var m=JSON.stringify(n);if(!(l=h.get(m))){var v=new i.a([Object(a.execute)(f,p)]);h.set(m,l=v),v.cleanup((function(){h.delete(m)&&h.size<1&&d.delete(u)}))}}else l=new i.a([Object(a.execute)(f,p)])}else l=new i.a([i.c.of({data:{}})]),t=this.prepareContext(t);var b=this.transform(e).clientQuery;return b&&(l=Object(i.f)(l,(function(e){return c.localState.runResolvers({document:b,remoteResult:e,context:t,variables:n})}))),l},e.prototype.getResultsFromLink=function(e,t,n){var r=e.lastRequestId=this.generateRequestId();return Object(i.f)(this.getObservableFromLink(e.document,n.context,n.variables),(function(o){var a=Object(i.B)(o.errors);if(r>=e.lastRequestId){if(a&&"none"===n.errorPolicy)throw e.markError(new c.a({graphQLErrors:o.errors}));e.markResult(o,n,t),e.markReady()}var s={data:o.data,loading:!1,networkStatus:e.networkStatus||d.a.ready};return a&&"ignore"!==n.errorPolicy&&(s.errors=o.errors),s}),(function(t){var n=Object(c.b)(t)?t:new c.a({networkError:t});throw r>=e.lastRequestId&&e.markError(n),n}))},e.prototype.fetchQueryObservable=function(e,t,n){var r=this;void 0===n&&(n=d.a.loading);var o=this.transform(t.query).document,a=this.getVariables(o,t.variables),s=this.getQuery(e),l=s.networkStatus,c=t.fetchPolicy,u=void 0===c?"cache-first":c,f=t.errorPolicy,p=void 0===f?"none":f,h=t.returnPartialData,m=void 0!==h&&h,v=t.notifyOnNetworkStatusChange,b=void 0!==v&&v,y=t.context,g=void 0===y?{}:y;("cache-first"===u||"cache-and-network"===u||"network-only"===u||"no-cache"===u)&&b&&"number"==typeof l&&l!==n&&Object(d.b)(n)&&("cache-first"!==u&&(u="cache-and-network"),m=!0);var _=Object.assign({},t,{query:o,variables:a,fetchPolicy:u,errorPolicy:p,returnPartialData:m,notifyOnNetworkStatusChange:b,context:g}),O=function(e){return _.variables=e,r.fetchQueryByPolicy(s,_,n)};this.fetchCancelFns.set(e,(function(e){Promise.resolve().then((function(){return S.cancel(e)}))}));var S=new i.a(this.transform(_.query).hasClientExports?this.localState.addExportedVariables(_.query,_.variables,_.context).then(O):O(_.variables));return S.cleanup((function(){r.fetchCancelFns.delete(e);var n=t.nextFetchPolicy;n&&(t.nextFetchPolicy=void 0,t.fetchPolicy="function"==typeof n?n.call(t,t.fetchPolicy||"cache-first"):n)})),S},e.prototype.fetchQueryByPolicy=function(e,t,n){var o=this,a=t.query,s=t.variables,l=t.fetchPolicy,c=t.errorPolicy,u=t.returnPartialData,f=t.context;e.init({document:a,variables:s,networkStatus:n});var p=function(){return e.getDiff(s)},h=function(t,n){void 0===n&&(n=e.networkStatus||d.a.loading);var l=t.result;var c=function(e){return i.c.of(Object(r.a)({data:e,loading:Object(d.b)(n),networkStatus:n},t.complete?null:{partial:!0}))};return o.transform(a).hasForcedResolvers?o.localState.runResolvers({document:a,remoteResult:{data:l},context:f,variables:s,onlyRunForcedResolvers:!0}).then((function(e){return c(e.data)})):c(l)},m=function(t){return o.getResultsFromLink(e,t,{variables:s,context:f,fetchPolicy:l,errorPolicy:c})};switch(l){default:case"cache-first":return(v=p()).complete?[h(v,e.markReady())]:u?[h(v),m(!0)]:[m(!0)];case"cache-and-network":var v;return(v=p()).complete||u?[h(v),m(!0)]:[m(!0)];case"cache-only":return[h(p(),e.markReady())];case"network-only":return[m(!0)];case"no-cache":return[m(!1)];case"standby":return[]}},e.prototype.getQuery=function(e){return e&&!this.queries.has(e)&&this.queries.set(e,new y(this.cache)),this.queries.get(e)},e.prototype.prepareContext=function(e){void 0===e&&(e={});var t=this.localState.prepareContext(e);return Object(r.a)(Object(r.a)({},t),{clientAwareness:this.clientAwareness})},e}();function S(e,t){return Object(i.j)(e,t,t.variables&&{variables:Object(r.a)(Object(r.a)({},e.variables),t.variables)})}var E=function(){function e(e){var t=this;this.defaultOptions={},this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var n=e.uri,r=e.credentials,i=e.headers,l=e.cache,c=e.ssrMode,u=void 0!==c&&c,d=e.ssrForceFetchDelay,f=void 0===d?0:d,p=e.connectToDevTools,m=void 0===p?"object"==typeof window&&!window.__APOLLO_CLIENT__&&!1:p,v=e.queryDeduplication,b=void 0===v||v,y=e.defaultOptions,g=e.assumeImmutableResults,_=void 0!==g&&g,S=e.resolvers,E=e.typeDefs,w=e.fragmentMatcher,C=e.name,T=e.version,A=e.link;if(A||(A=n?new s.HttpLink({uri:n,credentials:r,headers:i}):a.ApolloLink.empty()),!l)throw new o.a(9);this.link=A,this.cache=l,this.disableNetworkFetches=u||f>0,this.queryDeduplication=b,this.defaultOptions=y||{},this.typeDefs=E,f&&setTimeout((function(){return t.disableNetworkFetches=!1}),f),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),m&&"object"==typeof window&&(window.__APOLLO_CLIENT__=this),this.version="3.3.15",this.localState=new h({cache:l,client:this,resolvers:S,fragmentMatcher:w}),this.queryManager=new O({cache:this.cache,link:this.link,queryDeduplication:b,ssrMode:u,clientAwareness:{name:C,version:T},localState:this.localState,assumeImmutableResults:_,onBroadcast:m?function(){t.devToolsHookCb&&t.devToolsHookCb({action:{},state:{queries:t.queryManager.getQueryStore(),mutations:t.queryManager.mutationStore||{}},dataWithOptimisticResults:t.cache.extract(!0)})}:void 0})}return e.prototype.stop=function(){this.queryManager.stop()},e.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=S(this.defaultOptions.watchQuery,e)),!this.disableNetworkFetches||"network-only"!==e.fetchPolicy&&"cache-and-network"!==e.fetchPolicy||(e=Object(r.a)(Object(r.a)({},e),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},e.prototype.query=function(e){return this.defaultOptions.query&&(e=S(this.defaultOptions.query,e)),Object(o.b)("cache-and-network"!==e.fetchPolicy,10),this.disableNetworkFetches&&"network-only"===e.fetchPolicy&&(e=Object(r.a)(Object(r.a)({},e),{fetchPolicy:"cache-first"})),this.queryManager.query(e)},e.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=S(this.defaultOptions.mutate,e)),this.queryManager.mutate(e)},e.prototype.subscribe=function(e){return this.queryManager.startGraphQLSubscription(e)},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!1),this.cache.readQuery(e,t)},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!1),this.cache.readFragment(e,t)},e.prototype.writeQuery=function(e){this.cache.writeQuery(e),this.queryManager.broadcastQueries()},e.prototype.writeFragment=function(e){this.cache.writeFragment(e),this.queryManager.broadcastQueries()},e.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},e.prototype.__requestRaw=function(e){return Object(a.execute)(this.link,e)},e.prototype.resetStore=function(){var e=this;return Promise.resolve().then((function(){return e.queryManager.clearStore()})).then((function(){return Promise.all(e.resetStoreCallbacks.map((function(e){return e()})))})).then((function(){return e.reFetchObservableQueries()}))},e.prototype.clearStore=function(){var e=this;return Promise.resolve().then((function(){return e.queryManager.clearStore()})).then((function(){return Promise.all(e.clearStoreCallbacks.map((function(e){return e()})))}))},e.prototype.onResetStore=function(e){var t=this;return this.resetStoreCallbacks.push(e),function(){t.resetStoreCallbacks=t.resetStoreCallbacks.filter((function(t){return t!==e}))}},e.prototype.onClearStore=function(e){var t=this;return this.clearStoreCallbacks.push(e),function(){t.clearStoreCallbacks=t.clearStoreCallbacks.filter((function(t){return t!==e}))}},e.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},e.prototype.extract=function(e){return this.cache.extract(e)},e.prototype.restore=function(e){return this.cache.restore(e)},e.prototype.addResolvers=function(e){this.localState.addResolvers(e)},e.prototype.setResolvers=function(e){this.localState.setResolvers(e)},e.prototype.getResolvers=function(){return this.localState.getResolvers()},e.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},e.prototype.setLink=function(e){this.link=this.queryManager.link=e},e}()},function(e,t,n){e.exports=n(175).Observable},function(e,t,n){e.exports={assetSourceDescription:"AssetSourceDescription-module__assetSourceDescription___1riHO","ReactCollapse--collapse":"AssetSourceDescription-module__ReactCollapse--collapse___1Medt",panelHeader:"AssetSourceDescription-module__panelHeader___2qfw-"}},function(e,t,n){e.exports={dialogBody:"Confirm-module__dialogBody___2XRcy",modalTitle:"Confirm-module__modalTitle___3PLaG"}},function(e,t,n){e.exports={usageSection:"AssetUsageSection-module__usageSection___2oMBF",usageTable:"AssetUsageSection-module__usageTable___3bv0_"}},function(e,t,n){e.exports={variantsContainer:"VariantsInspector-module__variantsContainer___3xJmJ",variantItem:"VariantsInspector-module__variantItem___2NUJb"}},function(e,t,n){e.exports={collectionSelectBox:"CollectionSelectBox-module__collectionSelectBox___1Ncsa"}},function(e,t,n){e.exports={item:"PaginationItem-module__item___1SjpJ"}},function(e,t,n){e.exports={topBar:"TopBar-module__topBar___3QcJr","topBar--selectionMode":"TopBar-module__topBar--selectionMode___2W5Y0"}},function(e,t,n){e.exports={mediaSelectionScreen:"MediaSelectionScreen-module__mediaSelectionScreen___2qXAm",isInNodeCreationDialog:"MediaSelectionScreen-module__isInNodeCreationDialog___2u1FV"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(171)),o=a(n(172));function a(e){return e&&e.__esModule?e:{default:e}}var i=class extends r.default{constructor(e){super(e),this._registry=[]}set(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if("string"!=typeof e)throw new Error("Key must be a string");if("string"!=typeof n&&"number"!=typeof n)throw new Error("Position must be a string or a number");var r={key:e,value:t};n&&(r.position=n);var o=this._registry.findIndex((function(t){return t.key===e}));return-1===o?this._registry.push(r):this._registry[o]=r,t}get(e){if("string"!=typeof e)return console.error("Key must be a string"),null;var t=this._registry.find((function(t){return t.key===e}));return t?t.value:null}_getChildrenWrapped(e){var t=this._registry.filter((function(t){return 0===t.key.indexOf(e+"/")}));return(0,o.default)(t)}getChildrenAsObject(e){var t={};return this._getChildrenWrapped(e).forEach((function(e){t[e.key]=e.value})),t}getChildren(e){return this._getChildrenWrapped(e).map((function(e){return e.value}))}has(e){return"string"!=typeof e?(console.error("Key must be a string"),!1):Boolean(this._registry.find((function(t){return t.key===e})))}_getAllWrapped(){return(0,o.default)(this._registry)}getAllAsObject(){var e={};return this._getAllWrapped().forEach((function(t){e[t.key]=t.value})),e}getAllAsList(){return this._getAllWrapped().map((function(e){return Object.assign({id:e.key},e.value)}))}};t.default=i},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=n(34).a.empty},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=n(34).a.from},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=n(34).a.split},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=n(34).a.concat},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=n(34).a.execute},function(e,t){},function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),r||(r={})},function(e,t){},function(e,t,n){"use strict";var r=n(32);n.d(t,"ApolloProvider",(function(){return r.a}));var o=n(128);n.d(t,"useApolloClient",(function(){return o.a})),n.d(t,"useLazyQuery",(function(){return o.b})),n.d(t,"useMutation",(function(){return o.c})),n.d(t,"useQuery",(function(){return o.d}));n(33);var a=n(120);n.o(a,"ApolloClient")&&n.d(t,"ApolloClient",(function(){return a.ApolloClient})),n.o(a,"ApolloLink")&&n.d(t,"ApolloLink",(function(){return a.ApolloLink})),n.o(a,"InMemoryCache")&&n.d(t,"InMemoryCache",(function(){return a.InMemoryCache})),n.o(a,"defaultDataIdFromObject")&&n.d(t,"defaultDataIdFromObject",(function(){return a.defaultDataIdFromObject})),n.o(a,"gql")&&n.d(t,"gql",(function(){return a.gql}))},function(e,t){},function(e,t,n){"use strict";var r=n(122);e.exports=function(e){return"undefined"!=typeof File&&e instanceof File||"undefined"!=typeof Blob&&e instanceof Blob||e instanceof r}},function(e,t,n){"use strict";e.exports=function(e){var t=e.uri,n=e.name,r=e.type;this.uri=t,this.name=n,this.type=r}},function(e,t,n){"use strict";e.exports=function(e,t,n){e.append(t,n,n.name)}},function(e,t,n){"use strict";e.exports=n(121)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){return[].slice.call(t.querySelectorAll("*"),0).reduce((function(t,n){return t.concat(n.shadowRoot?e(n.shadowRoot):[n])}),[]).filter(i)};
/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */
var r=/input|select|textarea|button|object|iframe/;function o(e){var t=e.offsetWidth<=0&&e.offsetHeight<=0;if(t&&!e.innerHTML)return!0;try{var n=window.getComputedStyle(e),r=n.getPropertyValue("display");return t?"contents"!==r&&function(e,t){return"visible"!==t.getPropertyValue("overflow")||e.scrollWidth<=0&&e.scrollHeight<=0}(e,n):"none"===r}catch(e){return console.warn("Failed to inspect element style"),!1}}function a(e,t){var n=e.nodeName.toLowerCase();return(r.test(n)&&!e.disabled||"a"===n&&e.href||t)&&function(e){for(var t=e,n=e.getRootNode&&e.getRootNode();t&&t!==document.body;){if(n&&t===n&&(t=n.host.parentNode),o(t))return!1;t=t.parentNode}return!0}(e)}function i(e){var t=e.getAttribute("tabindex");null===t&&(t=void 0);var n=isNaN(t);return(n||t>=0)&&a(e,!n)}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=function(){s&&(s.removeAttribute?s.removeAttribute("aria-hidden"):null!=s.length?s.forEach((function(e){return e.removeAttribute("aria-hidden")})):document.querySelectorAll(s).forEach((function(e){return e.removeAttribute("aria-hidden")})));s=null},t.log=function(){0},t.assertNodeList=l,t.setElement=function(e){var t=e;if("string"==typeof t&&i.canUseDOM){var n=document.querySelectorAll(t);l(n,t),t=n}return s=t||s},t.validateElement=c,t.hide=function(e){var t=!0,n=!1,r=void 0;try{for(var o,a=c(e)[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){o.value.setAttribute("aria-hidden","true")}}catch(e){n=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}},t.show=function(e){var t=!0,n=!1,r=void 0;try{for(var o,a=c(e)[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){o.value.removeAttribute("aria-hidden")}}catch(e){n=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}},t.documentNotReadyOrSSRTesting=function(){s=null};var r,o=n(190),a=(r=o)&&r.__esModule?r:{default:r},i=n(98);var s=null;function l(e,t){if(!e||!e.length)throw new Error("react-modal: No elements were found for selector "+t+".")}function c(e){var t=e||s;return t?Array.isArray(t)||t instanceof HTMLCollection||t instanceof NodeList?t:[t]:((0,a.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.log=function(){console.log("portalOpenInstances ----------"),console.log(o.openInstances.length),o.openInstances.forEach((function(e){return console.log(e)})),console.log("end portalOpenInstances ----------")},t.resetState=function(){o=new r};var r=function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.register=function(e){-1===t.openInstances.indexOf(e)&&(t.openInstances.push(e),t.emit("register"))},this.deregister=function(e){var n=t.openInstances.indexOf(e);-1!==n&&(t.openInstances.splice(n,1),t.emit("deregister"))},this.subscribe=function(e){t.subscribers.push(e)},this.emit=function(e){t.subscribers.forEach((function(n){return n(e,t.openInstances.slice())}))},this.openInstances=[],this.subscribers=[]},o=new r;t.default=o},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return y})),n.d(t,"d",(function(){return g}));var r=n(0),o=n.n(r),a=n(8),i=n(32);function s(){var e=o.a.useContext(Object(i.b)()).client;return Object(a.b)(e,33),e}var l=n(2),c=n(16),u=n(33),d=function(){function e(e,t){this.isMounted=!1,this.previousOptions={},this.context={},this.options={},this.options=e||{},this.context=t||{}}return e.prototype.getOptions=function(){return this.options},e.prototype.setOptions=function(e,t){void 0===t&&(t=!1),t&&!Object(c.a)(this.options,e)&&(this.previousOptions=this.options),this.options=e},e.prototype.unmount=function(){this.isMounted=!1},e.prototype.refreshClient=function(){var e=this.options&&this.options.client||this.context&&this.context.client;Object(a.b)(!!e,29);var t=!1;return e!==this.client&&(t=!0,this.client=e,this.cleanup()),{client:this.client,isNew:t}},e.prototype.verifyDocumentType=function(e,t){var n=Object(u.c)(e);Object(u.b)(t),Object(u.b)(n.type);Object(a.b)(n.type===t,30)},e}(),f=(function(e){function t(t){var n=t.options,r=t.context,o=t.setResult,a=e.call(this,n,r)||this;return a.currentObservable={},a.setResult=o,a.initialize(n),a}Object(l.c)(t,e),t.prototype.execute=function(e){if(!0===this.getOptions().skip)return this.cleanup(),{loading:!1,error:void 0,data:void 0,variables:this.getOptions().variables};var t=e;this.refreshClient().isNew&&(t=this.getLoadingResult());var n=this.getOptions().shouldResubscribe;return"function"==typeof n&&(n=!!n(this.getOptions())),!1!==n&&this.previousOptions&&Object.keys(this.previousOptions).length>0&&(this.previousOptions.subscription!==this.getOptions().subscription||!Object(c.a)(this.previousOptions.variables,this.getOptions().variables)||this.previousOptions.skip!==this.getOptions().skip)&&(this.cleanup(),t=this.getLoadingResult()),this.initialize(this.getOptions()),this.startSubscription(),this.previousOptions=this.getOptions(),Object(l.a)(Object(l.a)({},t),{variables:this.getOptions().variables})},t.prototype.afterExecute=function(){this.isMounted=!0},t.prototype.cleanup=function(){this.endSubscription(),delete this.currentObservable.query},t.prototype.initialize=function(e){this.currentObservable.query||!0===this.getOptions().skip||(this.currentObservable.query=this.refreshClient().client.subscribe({query:e.subscription,variables:e.variables,fetchPolicy:e.fetchPolicy,context:e.context}))},t.prototype.startSubscription=function(){this.currentObservable.subscription||(this.currentObservable.subscription=this.currentObservable.query.subscribe({next:this.updateCurrentData.bind(this),error:this.updateError.bind(this),complete:this.completeSubscription.bind(this)}))},t.prototype.getLoadingResult=function(){return{loading:!0,error:void 0,data:void 0}},t.prototype.updateResult=function(e){this.isMounted&&this.setResult(e)},t.prototype.updateCurrentData=function(e){var t=this.getOptions().onSubscriptionData;this.updateResult({data:e.data,loading:!1,error:void 0}),t&&t({client:this.refreshClient().client,subscriptionData:e})},t.prototype.updateError=function(e){this.updateResult({error:e,loading:!1})},t.prototype.completeSubscription=function(){var e=this;Promise.resolve().then((function(){var t=e.getOptions().onSubscriptionComplete;t&&t(),e.endSubscription()}))},t.prototype.endSubscription=function(){this.currentObservable.subscription&&(this.currentObservable.subscription.unsubscribe(),delete this.currentObservable.subscription)}}(d),n(28)),p=n(36),h=function(e){function t(t){var n=t.options,r=t.context,o=t.result,a=t.setResult,i=e.call(this,n,r)||this;return i.runMutation=function(e){void 0===e&&(e={}),i.onMutationStart();var t=i.generateNewMutationId();return i.mutate(e).then((function(e){return i.onMutationCompleted(e,t),e})).catch((function(e){if(i.onMutationError(e,t),!i.getOptions().onError)throw e}))},i.verifyDocumentType(n.mutation,u.a.Mutation),i.result=o,i.setResult=a,i.mostRecentMutationId=0,i}return Object(l.c)(t,e),t.prototype.execute=function(e){return this.isMounted=!0,this.verifyDocumentType(this.getOptions().mutation,u.a.Mutation),[this.runMutation,Object(l.a)(Object(l.a)({},e),{client:this.refreshClient().client})]},t.prototype.afterExecute=function(){return this.isMounted=!0,this.unmount.bind(this)},t.prototype.cleanup=function(){},t.prototype.mutate=function(e){return this.refreshClient().client.mutate(Object(p.mergeOptions)(this.getOptions(),e))},t.prototype.onMutationStart=function(){this.result.loading||this.getOptions().ignoreResults||this.updateResult({loading:!0,error:void 0,data:void 0,called:!0})},t.prototype.onMutationCompleted=function(e,t){var n=this.getOptions(),r=n.onCompleted,o=n.ignoreResults,a=e.data,i=e.errors,s=i&&i.length>0?new f.a({graphQLErrors:i}):void 0;this.isMostRecentMutation(t)&&!o&&this.updateResult({called:!0,loading:!1,data:a,error:s}),r&&r(a)},t.prototype.onMutationError=function(e,t){var n=this.getOptions().onError;this.isMostRecentMutation(t)&&this.updateResult({loading:!1,error:e,data:void 0,called:!0}),n&&n(e)},t.prototype.generateNewMutationId=function(){return++this.mostRecentMutationId},t.prototype.isMostRecentMutation=function(e){return this.mostRecentMutationId===e},t.prototype.updateResult=function(e){!this.isMounted||this.previousResult&&Object(c.a)(this.previousResult,e)||(this.setResult(e),this.previousResult=e)},t}(d),m=function(e){function t(t){var n=t.options,r=t.context,o=t.onNewData,a=e.call(this,n,r)||this;return a.runLazy=!1,a.previous=Object.create(null),a.runLazyQuery=function(e){a.cleanup(),a.runLazy=!0,a.lazyOptions=e,a.onNewData()},a.getQueryResult=function(){var e=a.observableQueryFields(),t=a.getOptions();if(t.skip)e=Object(l.a)(Object(l.a)({},e),{data:void 0,error:void 0,loading:!1,networkStatus:p.NetworkStatus.ready,called:!0});else if(a.currentObservable){var n=a.currentObservable.getCurrentResult(),r=n.data,o=n.loading,i=n.partial,s=n.networkStatus,c=n.errors,u=n.error;if(c&&c.length>0&&(u=new f.a({graphQLErrors:c})),e=Object(l.a)(Object(l.a)({},e),{data:r,loading:o,networkStatus:s,error:u,called:!0}),o);else if(u)Object.assign(e,{data:(a.currentObservable.getLastResult()||{}).data});else{var d=a.currentObservable.options.fetchPolicy;if(t.partialRefetch&&i&&(!r||0===Object.keys(r).length)&&"cache-only"!==d)return Object.assign(e,{loading:!0,networkStatus:p.NetworkStatus.loading}),e.refetch(),e}}e.client=a.client,a.setOptions(t,!0);var h=a.previous.result;return a.previous.loading=h&&h.loading||!1,e.previousData=h&&(h.data||h.previousData),a.previous.result=e,a.currentObservable&&a.currentObservable.resetQueryStoreErrors(),e},a.obsRefetch=function(e){var t;return null===(t=a.currentObservable)||void 0===t?void 0:t.refetch(e)},a.obsFetchMore=function(e){return a.currentObservable.fetchMore(e)},a.obsUpdateQuery=function(e){return a.currentObservable.updateQuery(e)},a.obsStartPolling=function(e){var t;null===(t=a.currentObservable)||void 0===t||t.startPolling(e)},a.obsStopPolling=function(){var e;null===(e=a.currentObservable)||void 0===e||e.stopPolling()},a.obsSubscribeToMore=function(e){return a.currentObservable.subscribeToMore(e)},a.onNewData=o,a}return Object(l.c)(t,e),t.prototype.execute=function(){this.refreshClient();var e=this.getOptions(),t=e.skip,n=e.query;return(t||n!==this.previous.query)&&(this.removeQuerySubscription(),this.removeObservable(!t),this.previous.query=n),this.updateObservableQuery(),this.isMounted&&this.startQuerySubscription(),this.getExecuteSsrResult()||this.getExecuteResult()},t.prototype.executeLazy=function(){return this.runLazy?[this.runLazyQuery,this.execute()]:[this.runLazyQuery,{loading:!1,networkStatus:p.NetworkStatus.ready,called:!1,data:void 0}]},t.prototype.fetchData=function(){var e=this,t=this.getOptions();return!t.skip&&!1!==t.ssr&&new Promise((function(t){return e.startQuerySubscription(t)}))},t.prototype.afterExecute=function(e){var t=(void 0===e?{}:e).lazy,n=void 0!==t&&t;return this.isMounted=!0,n&&!this.runLazy||this.handleErrorOrCompleted(),this.previousOptions=this.getOptions(),this.unmount.bind(this)},t.prototype.cleanup=function(){this.removeQuerySubscription(),this.removeObservable(!0),delete this.previous.result},t.prototype.getOptions=function(){var t=e.prototype.getOptions.call(this);return this.lazyOptions&&(t.variables=Object(l.a)(Object(l.a)({},t.variables),this.lazyOptions.variables),t.context=Object(l.a)(Object(l.a)({},t.context),this.lazyOptions.context)),this.runLazy&&delete t.skip,t},t.prototype.ssrInitiated=function(){return this.context&&this.context.renderPromises},t.prototype.getExecuteResult=function(){var e=this.getQueryResult();return this.startQuerySubscription(),e},t.prototype.getExecuteSsrResult=function(){var e=this.getOptions(),t=e.ssr,n=e.skip,r=!1===t,o=this.refreshClient().client.disableNetworkFetches,a=Object(l.a)({loading:!0,networkStatus:p.NetworkStatus.loading,called:!0,data:void 0,stale:!1,client:this.client},this.observableQueryFields());if(r&&(this.ssrInitiated()||o))return this.previous.result=a,a;if(this.ssrInitiated()){var i=this.getQueryResult()||a;return i.loading&&!n&&this.context.renderPromises.addQueryPromise(this,(function(){return null})),i}},t.prototype.prepareObservableQueryOptions=function(){var e=this.getOptions();this.verifyDocumentType(e.query,u.a.Query);var t=e.displayName||"Query";return!this.ssrInitiated()||"network-only"!==e.fetchPolicy&&"cache-and-network"!==e.fetchPolicy||(e.fetchPolicy="cache-first"),Object(l.a)(Object(l.a)({},e),{displayName:t,context:e.context})},t.prototype.initializeObservableQuery=function(){if(this.ssrInitiated()&&(this.currentObservable=this.context.renderPromises.getSSRObservable(this.getOptions())),!this.currentObservable){var e=this.prepareObservableQueryOptions();this.previous.observableQueryOptions=Object(l.a)(Object(l.a)({},e),{children:null}),this.currentObservable=this.refreshClient().client.watchQuery(Object(l.a)({},e)),this.ssrInitiated()&&this.context.renderPromises.registerSSRObservable(this.currentObservable,e)}},t.prototype.updateObservableQuery=function(){if(this.currentObservable){if(!this.getOptions().skip){var e=Object(l.a)(Object(l.a)({},this.prepareObservableQueryOptions()),{children:null});Object(c.a)(e,this.previous.observableQueryOptions)||(this.previous.observableQueryOptions=e,this.currentObservable.setOptions(e).catch((function(){})))}}else this.initializeObservableQuery()},t.prototype.startQuerySubscription=function(e){var t=this;void 0===e&&(e=this.onNewData),this.currentSubscription||this.getOptions().skip||(this.currentSubscription=this.currentObservable.subscribe({next:function(n){var r=n.loading,o=n.networkStatus,a=n.data,i=t.previous.result;i&&i.loading===r&&i.networkStatus===o&&Object(c.a)(i.data,a)||e()},error:function(n){if(t.resubscribeToQuery(),!n.hasOwnProperty("graphQLErrors"))throw n;var r=t.previous.result;(r&&r.loading||!Object(c.a)(n,t.previous.error))&&(t.previous.error=n,e())}}))},t.prototype.resubscribeToQuery=function(){this.removeQuerySubscription();var e=this.currentObservable;if(e){var t=e.getLastError(),n=e.getLastResult();e.resetLastResults(),this.startQuerySubscription(),Object.assign(e,{lastError:t,lastResult:n})}},t.prototype.handleErrorOrCompleted=function(){if(this.currentObservable&&this.previous.result){var e=this.previous.result,t=e.data,n=e.loading,r=e.error;if(!n){var o=this.getOptions(),a=o.query,i=o.variables,s=o.onCompleted,l=o.onError,u=o.skip;if(this.previousOptions&&!this.previous.loading&&Object(c.a)(this.previousOptions.query,a)&&Object(c.a)(this.previousOptions.variables,i))return;!s||r||u?l&&r&&l(r):s(t)}}},t.prototype.removeQuerySubscription=function(){this.currentSubscription&&(this.currentSubscription.unsubscribe(),delete this.currentSubscription)},t.prototype.removeObservable=function(e){this.currentObservable&&(this.currentObservable.tearDownQuery(),e&&delete this.currentObservable)},t.prototype.observableQueryFields=function(){var e;return{variables:null===(e=this.currentObservable)||void 0===e?void 0:e.variables,refetch:this.obsRefetch,fetchMore:this.obsFetchMore,updateQuery:this.obsUpdateQuery,startPolling:this.obsStartPolling,stopPolling:this.obsStopPolling,subscribeToMore:this.obsSubscribeToMore}},t}(d);function v(e,t,n){void 0===n&&(n=!1);var o=Object(r.useContext)(Object(i.b)()),a=Object(r.useReducer)((function(e){return e+1}),0),s=a[0],u=a[1],d=t?Object(l.a)(Object(l.a)({},t),{query:e}):{query:e},f=Object(r.useRef)(),p=f.current||(f.current=new m({options:d,context:o,onNewData:function(){p.ssrInitiated()?u():Promise.resolve().then((function(){return f.current&&u()}))}}));p.setOptions(d),p.context=o;var h,v,b,y={options:Object(l.a)(Object(l.a)({},d),{onError:void 0,onCompleted:void 0}),context:o,tick:s},g=(h=function(){return n?p.executeLazy():p.execute()},v=y,(b=Object(r.useRef)()).current&&Object(c.a)(v,b.current.key)||(b.current={key:v,value:h()}),b.current.value),_=n?g[1]:g;return Object(r.useEffect)((function(){return function(){return p.cleanup()}}),[]),Object(r.useEffect)((function(){return p.afterExecute({lazy:n})}),[_.loading,_.networkStatus,_.error,_.data]),g}function b(e,t){return v(e,t,!0)}function y(e,t){var n=Object(r.useContext)(Object(i.b)()),o=Object(r.useState)({called:!1,loading:!1}),a=o[0],s=o[1],c=t?Object(l.a)(Object(l.a)({},t),{mutation:e}):{mutation:e},u=Object(r.useRef)();var d=(u.current||(u.current=new h({options:c,context:n,result:a,setResult:s})),u.current);return d.setOptions(c),d.context=n,Object(r.useEffect)((function(){return d.afterExecute()})),d.execute(a)}function g(e,t){return v(e,t,!1)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return N}));var r,o,a=n(2),i=(n(179),n(25)),s=n(85),l=n(57),c=n(6),u=n(8),d=n(16),f=n(15),p=Object.create(null),h=function(){return p},m=Object.create(null),v=function(){function e(e,t){var n=this;this.policies=e,this.group=t,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(e,t){return Object(c.F)(Object(c.C)(e)?n.get(e.__ref,t):e&&e[t])},this.canRead=function(e){return Object(c.C)(e)?n.has(e.__ref):"object"==typeof e},this.toReference=function(e,t){if("string"==typeof e)return Object(c.E)(e);if(Object(c.C)(e))return e;var r=n.policies.identify(e)[0];if(r){var o=Object(c.E)(r);return t&&n.merge(r,e),o}}}return e.prototype.toObject=function(){return Object(a.a)({},this.data)},e.prototype.has=function(e){return void 0!==this.lookup(e,!0)},e.prototype.get=function(e,t){if(this.group.depend(e,t),f.c.call(this.data,e)){var n=this.data[e];if(n&&f.c.call(n,t))return n[t]}return"__typename"===t&&f.c.call(this.policies.rootTypenamesById,e)?this.policies.rootTypenamesById[e]:this instanceof g?this.parent.get(e,t):void 0},e.prototype.lookup=function(e,t){return t&&this.group.depend(e,"__exists"),f.c.call(this.data,e)?this.data[e]:this instanceof g?this.parent.lookup(e,t):this.policies.rootTypenamesById[e]?Object.create(null):void 0},e.prototype.merge=function(e,t){var n=this,r=this.lookup(e),o=new c.b(_).merge(r,t);if(this.data[e]=o,o!==r&&(delete this.refs[e],this.group.caching)){var a=Object.create(null);r||(a.__exists=1),Object.keys(t).forEach((function(e){if(!r||r[e]!==o[e]){a[e]=1;var t=Object(f.b)(e);t===e||n.policies.hasKeyArgs(o.__typename,t)||(a[t]=1),void 0!==o[e]||n instanceof g||delete o[e]}})),Object.keys(a).forEach((function(t){return n.group.dirty(e,t)}))}},e.prototype.modify=function(e,t){var n=this,r=this.lookup(e);if(r){var o=Object.create(null),i=!1,s=!0,l={DELETE:p,INVALIDATE:m,isReference:c.C,toReference:this.toReference,canRead:this.canRead,readField:function(t,r){return n.policies.readField("string"==typeof t?{fieldName:t,from:r||Object(c.E)(e)}:t,{store:n})}};if(Object.keys(r).forEach((function(u){var d=Object(f.b)(u),v=r[u];if(void 0!==v){var b="function"==typeof t?t:t[u]||t[d];if(b){var y=b===h?p:b(Object(c.F)(v),Object(a.a)(Object(a.a)({},l),{fieldName:d,storeFieldName:u,storage:n.getStorage(e,u)}));y===m?n.group.dirty(e,u):(y===p&&(y=void 0),y!==v&&(o[u]=y,i=!0,v=y))}void 0!==v&&(s=!1)}})),i)return this.merge(e,o),s&&(this instanceof g?this.data[e]=void 0:delete this.data[e],this.group.dirty(e,"__exists")),!0}return!1},e.prototype.delete=function(e,t,n){var r,o=this.lookup(e);if(o){var a=this.getFieldValue(o,"__typename"),i=t&&n?this.policies.getStoreFieldName({typename:a,fieldName:t,args:n}):t;return this.modify(e,i?((r={})[i]=h,r):h)}return!1},e.prototype.evict=function(e){var t=!1;return e.id&&(f.c.call(this.data,e.id)&&(t=this.delete(e.id,e.fieldName,e.args)),this instanceof g&&(t=this.parent.evict(e)||t),(e.fieldName||t)&&this.group.dirty(e.id,e.fieldName||"__exists")),t},e.prototype.clear=function(){this.replace(null)},e.prototype.extract=function(){var e=this,t=this.toObject(),n=[];return this.getRootIdSet().forEach((function(t){f.c.call(e.policies.rootTypenamesById,t)||n.push(t)})),n.length&&(t.__META={extraRootIds:n.sort()}),t},e.prototype.replace=function(e){var t=this;if(Object.keys(this.data).forEach((function(n){e&&f.c.call(e,n)||t.delete(n)})),e){var n=e.__META,r=Object(a.e)(e,["__META"]);Object.keys(r).forEach((function(e){t.merge(e,r[e])})),n&&n.extraRootIds.forEach(this.retain,this)}},e.prototype.retain=function(e){return this.rootIds[e]=(this.rootIds[e]||0)+1},e.prototype.release=function(e){if(this.rootIds[e]>0){var t=--this.rootIds[e];return t||delete this.rootIds[e],t}return 0},e.prototype.getRootIdSet=function(e){return void 0===e&&(e=new Set),Object.keys(this.rootIds).forEach(e.add,e),this instanceof g?this.parent.getRootIdSet(e):Object.keys(this.policies.rootTypenamesById).forEach(e.add,e),e},e.prototype.gc=function(){var e=this,t=this.getRootIdSet(),n=this.toObject();t.forEach((function(r){f.c.call(n,r)&&(Object.keys(e.findChildRefIds(r)).forEach(t.add,t),delete n[r])}));var r=Object.keys(n);if(r.length){for(var o=this;o instanceof g;)o=o.parent;r.forEach((function(e){return o.delete(e)}))}return r},e.prototype.findChildRefIds=function(e){if(!f.c.call(this.refs,e)){var t=this.refs[e]=Object.create(null),n=new Set([this.data[e]]),r=function(e){return null!==e&&"object"==typeof e};n.forEach((function(e){Object(c.C)(e)?t[e.__ref]=!0:r(e)&&Object.values(e).filter(r).forEach(n.add,n)}))}return this.refs[e]},e.prototype.makeCacheKey=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.group.keyMaker.lookupArray(e)},e}(),b=function(){function e(e){this.caching=e,this.d=null,this.keyMaker=new i.a(c.h),this.d=e?Object(i.b)():null}return e.prototype.depend=function(e,t){if(this.d){this.d(y(e,t));var n=Object(f.b)(t);n!==t&&this.d(y(e,n))}},e.prototype.dirty=function(e,t){this.d&&this.d.dirty(y(e,t))},e}();function y(e,t){return t+"#"+e}r=v||(v={}),o=function(e){function t(t){var n=t.policies,r=t.resultCaching,o=void 0===r||r,a=t.seed,s=e.call(this,n,new b(o))||this;return s.storageTrie=new i.a(c.h),s.sharedLayerGroup=new b(o),a&&s.replace(a),s}return Object(a.c)(t,e),t.prototype.addLayer=function(e,t){return new g(e,this,t,this.sharedLayerGroup)},t.prototype.removeLayer=function(){return this},t.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},t}(r),r.Root=o;var g=function(e){function t(t,n,r,o){var a=e.call(this,n.policies,o)||this;return a.id=t,a.parent=n,a.replay=r,a.group=o,r(a),a}return Object(a.c)(t,e),t.prototype.addLayer=function(e,n){return new t(e,this,n,this.group)},t.prototype.removeLayer=function(e){var t=this,n=this.parent.removeLayer(e);return e===this.id?(this.group.caching&&Object.keys(this.data).forEach((function(e){t.data[e]!==n.lookup(e)&&t.delete(e)})),n):n===this.parent?this:n.addLayer(this.id,this.replay)},t.prototype.toObject=function(){return Object(a.a)(Object(a.a)({},this.parent.toObject()),this.data)},t.prototype.findChildRefIds=function(t){var n=this.parent.findChildRefIds(t);return f.c.call(this.data,t)?Object(a.a)(Object(a.a)({},n),e.prototype.findChildRefIds.call(this,t)):n},t.prototype.getStorage=function(){for(var e=this.parent;e.parent;)e=e.parent;return e.getStorage.apply(e,arguments)},t}(v);function _(e,t,n){var r=e[n],o=t[n];return Object(d.a)(r,o)?r:o}function O(e){return!!(e instanceof v&&e.group.caching)}function S(e,t){return new l.a(e.message,t.path.slice(),t.query,t.clientOnly,t.variables)}var E=function(){function e(e){var t=this;this.config=e,this.executeSelectionSet=Object(i.c)((function(e){return t.execSelectionSetImpl(e)}),{keyArgs:function(e){return[e.selectionSet,e.objectOrReference,e.context]},makeCacheKey:function(e,t,n){if(O(n.store))return n.store.makeCacheKey(e,Object(c.C)(t)?t.__ref:t,n.varString)}}),this.knownResults=new WeakMap,this.executeSubSelectedArray=Object(i.c)((function(e){return t.execSubSelectedArrayImpl(e)}),{makeCacheKey:function(e){var t=e.field,n=e.array,r=e.context;if(O(r.store))return r.store.makeCacheKey(t,n,r.varString)}}),this.config=Object(a.a)({addTypename:!0},e)}return e.prototype.diffQueryAgainstStore=function(e){var t=e.store,n=e.query,r=e.rootId,o=void 0===r?"ROOT_QUERY":r,i=e.variables,s=e.returnPartialData,l=void 0===s||s,u=this.config.cache.policies;i=Object(a.a)(Object(a.a)({},Object(c.m)(Object(c.t)(n))),i);var d=this.executeSelectionSet({selectionSet:Object(c.q)(n).selectionSet,objectOrReference:Object(c.E)(o),context:{store:t,query:n,policies:u,variables:i,varString:JSON.stringify(i),fragmentMap:Object(c.k)(Object(c.n)(n)),path:[],clientOnly:!1}}),f=d.missing&&d.missing.length>0;if(f&&!l)throw d.missing[0];return{result:d.result,missing:d.missing,complete:!f}},e.prototype.isFresh=function(e,t,n,r){if(O(r.store)&&this.knownResults.get(e)===n){var o=this.executeSelectionSet.peek(n,t,r);if(o&&e===o.result)return!0}return!1},e.prototype.execSelectionSetImpl=function(e){var t=this,n=e.selectionSet,r=e.objectOrReference,o=e.context;if(Object(c.C)(r)&&!o.policies.rootTypenamesById[r.__ref]&&!o.store.has(r.__ref))return{result:{},missing:[S(new u.a(4),o)]};var a=o.variables,i=o.policies,s=o.store,l=[],d={result:null},f=s.getFieldValue(r,"__typename");function p(){return d.missing||(d.missing=[])}function h(e){var t;return e.missing&&(t=p()).push.apply(t,e.missing),e.result}this.config.addTypename&&"string"==typeof f&&!i.rootIdsByTypename[f]&&l.push({__typename:f});var m=new Set(n.selections);return m.forEach((function(e){var n;if(Object(c.L)(e,a))if(Object(c.z)(e)){var s=i.readField({fieldName:e.name.value,field:e,variables:o.variables,from:r},o),d=Object(c.K)(e);o.path.push(d);var v=o.clientOnly;o.clientOnly=v||!(!e.directives||!e.directives.some((function(e){return"client"===e.name.value}))),void 0===s?c.d.added(e)||p().push(S(new u.a(5),o)):Array.isArray(s)?s=h(t.executeSubSelectedArray({field:e,array:s,context:o})):e.selectionSet&&null!=s&&(s=h(t.executeSelectionSet({selectionSet:e.selectionSet,objectOrReference:s,context:o}))),void 0!==s&&l.push(((n={})[d]=s,n)),o.clientOnly=v,Object(u.b)(o.path.pop()===d)}else{var b=Object(c.o)(e,o.fragmentMap);b&&i.fragmentMatches(b,f)&&b.selectionSet.selections.forEach(m.add,m)}})),d.result=Object(c.H)(l),this.knownResults.set(d.result,n),d},e.prototype.execSubSelectedArrayImpl=function(e){var t,n=this,r=e.field,o=e.array,a=e.context;function i(e,n){return e.missing&&(t=t||[]).push.apply(t,e.missing),Object(u.b)(a.path.pop()===n),e.result}return r.selectionSet&&(o=o.filter(a.store.canRead)),{result:o=o.map((function(e,t){return null===e?null:(a.path.push(t),Array.isArray(e)?i(n.executeSubSelectedArray({field:r,array:e,context:a}),t):r.selectionSet?i(n.executeSelectionSet({selectionSet:r.selectionSet,objectOrReference:e,context:a}),t):(Object(u.b)(a.path.pop()===t),e))})),missing:t}},e}();var w=function(){function e(e,t){this.cache=e,this.reader=t}return e.prototype.writeToStore=function(e){var t=e.query,n=e.result,r=e.dataId,o=e.store,i=e.variables,s=Object(c.r)(t),l=Object(f.d)();i=Object(a.a)(Object(a.a)({},Object(c.m)(s)),i);var d=this.processSelectionSet({result:n||Object.create(null),dataId:r,selectionSet:s.selectionSet,mergeTree:{map:new Map},context:{store:o,written:Object.create(null),merge:function(e,t){return l.merge(e,t)},variables:i,varString:JSON.stringify(i),fragmentMap:Object(c.k)(Object(c.n)(t))}});if(!Object(c.C)(d))throw new u.a(7);return o.retain(d.__ref),d},e.prototype.processSelectionSet=function(e){var t=this,n=e.dataId,r=e.result,o=e.selectionSet,a=e.context,i=e.mergeTree,s=this.cache.policies,l=s.identify(r,o,a.fragmentMap),d=l[0],f=l[1];if("string"==typeof(n=n||d)){var p=a.written[n]||(a.written[n]=[]),h=Object(c.E)(n);if(p.indexOf(o)>=0)return h;if(p.push(o),this.reader&&this.reader.isFresh(r,h,o,a))return h}var m=Object.create(null);f&&(m=a.merge(m,f));var v=n&&s.rootTypenamesById[n]||Object(c.v)(r,o,a.fragmentMap)||n&&a.store.get(n,"__typename");"string"==typeof v&&(m.__typename=v);var b=new Set(o.selections);if(b.forEach((function(e){var n;if(Object(c.L)(e,a.variables))if(Object(c.z)(e)){var o=Object(c.K)(e),l=r[o];if(void 0!==l){var d=s.getStoreFieldName({typename:v,fieldName:e.name.value,field:e,variables:a.variables}),f=T(i,d),p=t.processFieldValue(l,e,a,f),h=e.selectionSet&&a.store.getFieldValue(p,"__typename")||void 0,y=s.getMergeFunction(v,e.name.value,h);y?f.info={field:e,typename:v,merge:y}:A(i,d),m=a.merge(m,((n={})[d]=p,n))}else if(s.usingPossibleTypes&&!Object(c.y)(["defer","client"],e))throw new u.a(8)}else{var g=Object(c.o)(e,a.fragmentMap);g&&s.fragmentMatches(g,v,r,a.variables)&&g.selectionSet.selections.forEach(b.add,b)}})),"string"==typeof n){var y=Object(c.E)(n);return i.map.size&&(m=this.applyMerges(i,y,m,a)),a.store.merge(n,m),y}return m},e.prototype.processFieldValue=function(e,t,n,r){var o=this;return t.selectionSet&&null!==e?Array.isArray(e)?e.map((function(e,a){var i=o.processFieldValue(e,t,n,T(r,a));return A(r,a),i})):this.processSelectionSet({result:e,selectionSet:t.selectionSet,context:n,mergeTree:r}):e},e.prototype.applyMerges=function(e,t,n,r,o){var i,s=this;if(e.map.size&&!Object(c.C)(n)){var l,d=Array.isArray(n)||!Object(c.C)(t)&&!Object(f.f)(t)?void 0:t,p=n;d&&!o&&(o=[Object(c.C)(d)?d.__ref:d]);var h=function(e,t){return Array.isArray(e)?"number"==typeof t?e[t]:void 0:r.store.getFieldValue(e,String(t))};e.map.forEach((function(e,t){o&&o.push(t);var n=h(d,t),a=h(p,t),i=s.applyMerges(e,n,a,r,o);i!==a&&(l=l||new Map).set(t,i),o&&Object(u.b)(o.pop()===t)})),l&&(n=Array.isArray(p)?p.slice(0):Object(a.a)({},p),l.forEach((function(e,t){n[t]=e})))}return e.info?this.cache.policies.runMergeFunction(t,n,e.info,r,o&&(i=r.store).getStorage.apply(i,o)):n},e}(),C=[];function T(e,t){var n=e.map;return n.has(t)||n.set(t,C.pop()||{map:new Map}),n.get(t)}function A(e,t){var n=e.map,r=n.get(t);!r||r.info||r.map.size||(C.push(r),n.delete(t))}new Set;var j=n(43),k=n(73),I={dataIdFromObject:k.b,addTypename:!0,resultCaching:!0,typePolicies:{}},N=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;return n.watches=new Set,n.typenameDocumentCache=new Map,n.makeVar=j.c,n.txCount=0,n.maybeBroadcastWatch=Object(i.c)((function(e,t){return n.broadcastWatch.call(n,e,!!t)}),{makeCacheKey:function(e){var t=e.optimistic?n.optimisticData:n.data;if(O(t)){var r=e.optimistic,o=e.rootId,a=e.variables;return t.makeCacheKey(e.query,e.callback,JSON.stringify({optimistic:r,rootId:o,variables:a}))}}}),n.watchDep=Object(i.b)(),n.config=Object(a.a)(Object(a.a)({},I),t),n.addTypename=!!n.config.addTypename,n.policies=new k.a({cache:n,dataIdFromObject:n.config.dataIdFromObject,possibleTypes:n.config.possibleTypes,typePolicies:n.config.typePolicies}),n.data=new v.Root({policies:n.policies,resultCaching:n.config.resultCaching}),n.optimisticData=n.data,n.storeWriter=new w(n,n.storeReader=new E({cache:n,addTypename:n.addTypename})),n}return Object(a.c)(t,e),t.prototype.restore=function(e){return e&&this.data.replace(e),this},t.prototype.extract=function(e){return void 0===e&&(e=!1),(e?this.optimisticData:this.data).extract()},t.prototype.read=function(e){var t=e.returnPartialData,n=void 0!==t&&t;try{return this.storeReader.diffQueryAgainstStore({store:e.optimistic?this.optimisticData:this.data,query:e.query,variables:e.variables,rootId:e.rootId,config:this.config,returnPartialData:n}).result||null}catch(e){if(e instanceof l.a)return null;throw e}},t.prototype.write=function(e){try{return++this.txCount,this.storeWriter.writeToStore({store:this.data,query:e.query,result:e.result,dataId:e.dataId,variables:e.variables})}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.modify=function(e){if(f.c.call(e,"id")&&!e.id)return!1;var t=e.optimistic?this.optimisticData:this.data;try{return++this.txCount,t.modify(e.id||"ROOT_QUERY",e.fields)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.diff=function(e){return this.storeReader.diffQueryAgainstStore({store:e.optimistic?this.optimisticData:this.data,rootId:e.id||"ROOT_QUERY",query:e.query,variables:e.variables,returnPartialData:e.returnPartialData,config:this.config})},t.prototype.watch=function(e){var t=this;return this.watches.size||Object(j.d)(this),this.watches.add(e),e.immediate&&this.maybeBroadcastWatch(e),function(){t.watches.delete(e)&&!t.watches.size&&Object(j.b)(t),t.watchDep.dirty(e),t.maybeBroadcastWatch.forget(e)}},t.prototype.gc=function(){return this.optimisticData.gc()},t.prototype.retain=function(e,t){return(t?this.optimisticData:this.data).retain(e)},t.prototype.release=function(e,t){return(t?this.optimisticData:this.data).release(e)},t.prototype.identify=function(e){return Object(c.C)(e)?e.__ref:this.policies.identify(e)[0]},t.prototype.evict=function(e){if(!e.id){if(f.c.call(e,"id"))return!1;e=Object(a.a)(Object(a.a)({},e),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(e)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.reset=function(){return this.data.clear(),this.optimisticData=this.data,this.broadcastWatches(),Promise.resolve()},t.prototype.removeOptimistic=function(e){var t=this.optimisticData.removeLayer(e);t!==this.optimisticData&&(this.optimisticData=t,this.broadcastWatches())},t.prototype.performTransaction=function(e,t){var n=this,r=function(t){var r=n,o=r.data,a=r.optimisticData;++n.txCount,t&&(n.data=n.optimisticData=t);try{e(n)}finally{--n.txCount,n.data=o,n.optimisticData=a}},o=!1;"string"==typeof t?(this.optimisticData=this.optimisticData.addLayer(t,r),o=!0):null===t?r(this.data):r(),this.broadcastWatches(o)},t.prototype.transformDocument=function(e){if(this.addTypename){var t=this.typenameDocumentCache.get(e);return t||(t=Object(c.d)(e),this.typenameDocumentCache.set(e,t),this.typenameDocumentCache.set(t,t)),t}return e},t.prototype.broadcastWatches=function(e){var t=this;this.txCount||this.watches.forEach((function(n){return t.maybeBroadcastWatch(n,e)}))},t.prototype.broadcastWatch=function(e,t){this.watchDep.dirty(e),this.watchDep(e);var n=this.diff({query:e.query,variables:e.variables,optimistic:e.optimistic});e.optimistic&&t&&(n.fromOptimisticTransaction=!0),e.callback(n)},t}(s.a)},function(e,t,n){e.exports={assetLabel:"AssetLabel-module__assetLabel___2rfw5"}},function(e,t,n){e.exports={column:"Column-module__column___cpjnR"}},function(e,t,n){e.exports={propertyList:"PropertyList-module__propertyList___3_UWx"}},function(e,t,n){e.exports={iconStack:"IconStack-module__iconStack___19OCl"}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}Object.create;Object.create},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var r=n(72),o=n(18),a={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},i=Object.freeze({});function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a,s=void 0,c=Array.isArray(e),u=[e],d=-1,f=[],p=void 0,h=void 0,m=void 0,v=[],b=[],y=e;do{var g=++d===u.length,_=g&&0!==f.length;if(g){if(h=0===b.length?void 0:v[v.length-1],p=m,m=b.pop(),_){if(c)p=p.slice();else{for(var O={},S=0,E=Object.keys(p);S<E.length;S++){var w=E[S];O[w]=p[w]}p=O}for(var C=0,T=0;T<f.length;T++){var A=f[T][0],j=f[T][1];c&&(A-=C),c&&null===j?(p.splice(A,1),C++):p[A]=j}}d=s.index,u=s.keys,f=s.edits,c=s.inArray,s=s.prev}else{if(h=m?c?d:u[d]:void 0,null==(p=m?m[h]:y))continue;m&&v.push(h)}var k,I=void 0;if(!Array.isArray(p)){if(!Object(o.c)(p))throw new Error("Invalid AST Node: ".concat(Object(r.a)(p),"."));var N=l(t,p.kind,g);if(N){if((I=N.call(t,p,h,m,v,b))===i)break;if(!1===I){if(!g){v.pop();continue}}else if(void 0!==I&&(f.push([h,I]),!g)){if(!Object(o.c)(I)){v.pop();continue}p=I}}}if(void 0===I&&_&&f.push([h,p]),g)v.pop();else s={inArray:c,index:d,keys:u,edits:f,prev:s},u=(c=Array.isArray(p))?p:null!==(k=n[p.kind])&&void 0!==k?k:[],d=-1,f=[],m&&b.push(m),m=p}while(void 0!==s);return 0!==f.length&&(y=f[f.length-1][1]),y}function l(e,t,n){var r=e[t];if(r){if(!n&&"function"==typeof r)return r;var o=n?r.leave:r.enter;if("function"==typeof o)return o}else{var a=n?e.leave:e.enter;if(a){if("function"==typeof a)return a;var i=a[t];if("function"==typeof i)return i}}}},function(e,t,n){"use strict";e.exports=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var n,r="boolean"==typeof t.cycles&&t.cycles,o=t.cmp&&(n=t.cmp,function(e){return function(t,r){var o={key:t,value:e[t]},a={key:r,value:e[r]};return n(o,a)}}),a=[];return function e(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);var n,i;if(Array.isArray(t)){for(i="[",n=0;n<t.length;n++)n&&(i+=","),i+=e(t[n])||"null";return i+"]"}if(null===t)return"null";if(-1!==a.indexOf(t)){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var s=a.push(t)-1,l=Object.keys(t).sort(o&&o(t));for(i="",n=0;n<l.length;n++){var c=l[n],u=e(t[c]);u&&(i&&(i+=","),i+=JSON.stringify(c)+":"+u)}return a.splice(s,1),"{"+i+"}"}}(e)}},function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;if("function"==typeof n)if(n.observable)t=n.observable;else{t=n.for("https://github.com/benlesh/symbol-observable");try{n.observable=t}catch(e){}}else t="@@observable";return t}n.d(t,"a",(function(){return r}))},function(e,t,n){e.exports={plusIcon:"AddAssetCollectionButton-module__plusIcon___2Ahx2"}},function(e,t,n){e.exports={plusIcon:"AddTagButton-module__plusIcon___1BrbC"}},function(e,t,n){e.exports={formBody:"CreateAssetCollectionDialog-module__formBody___1QiBR"}},function(e,t,n){e.exports={formBody:"CreateTagDialog-module__formBody___2bjGn"}},function(e,t,n){e.exports={clipboardItem:"ClipboardItem-module__clipboardItem___wWTvL"}},function(e,t,n){e.exports={clipboardToggle:"ClipboardToggle-module__clipboardToggle___2wskr"}},function(e,t,n){e.exports={clipboardActions:"ClipboardActions-module__clipboardActions___l3cEJ"}},function(e,t,n){e.exports={assetUsage:"AssetUsagesModal-module__assetUsage___PVJJl",usageTable:"AssetUsagesModal-module__usageTable___2mr5y",neos:"AssetUsagesModal-module__neos___2NACh"}},function(e,t,n){e.exports={assetUsage:"SimilarAssetsModal-module__assetUsage___1KKo5"}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),r=e.name||"",o=(e.type||"").toLowerCase(),a=o.replace(/\/.*$/,"");return n.some((function(e){var t=e.trim().toLowerCase();return"."===t.charAt(0)?r.toLowerCase().endsWith(t):t.endsWith("/*")?a===t.replace(/\/.*$/,""):o===t}))}return!0}},function(e,t,n){e.exports={uploadArea:"NewAssetDialog-module__uploadArea___cgz2N"}},function(e,t,n){e.exports={indicator:"LoadingIndicator-module__indicator___3_g-4",cssLoadWidth:"LoadingIndicator-module__cssLoadWidth___2Sud9"}},function(e,t,n){e.exports={actions:"Actions-module__actions___3sP3k"}},function(e,t,n){e.exports={inspector:"InspectorContainer-module__inspector___2ITUb"}},function(e,t,n){e.exports={collectionSelectBox:"ParentCollectionSelectBox-module__collectionSelectBox___1de2f"}},function(e,t,n){e.exports={tasks:"Tasks-module__tasks___1KEX6"}},function(e,t,n){e.exports={tabContent:"AssetInspector-module__tabContent___zPtBc"}},function(e,t,n){e.exports={iptcData:"IptcMetadataInspector-module__iptcData___2kCw_"}},function(e,t,n){e.exports={mediaDetailsScreen:"MediaDetailsScreen-module__mediaDetailsScreen___1hG9o"}},function(e,t,n){"use strict";(function(e){var r=n(0),o=n.n(r),a=n(10),i=n.n(a),s=n(158),l=n.n(s);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?v(e):t}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw o}}return a}(e,t)||O(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||O(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e)return"";var n=e;return t&&Object.keys(t).forEach((function(e){n=n.replace(e,t[e])})),n}function w(){return void 0!==e.window?e.window.innerWidth:0}var C=function(){try{return e.window.location.hostname!==e.window.parent.location.hostname}catch(e){return!0}};var T=27,A=37,j=39,k=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(s,t);var n,r,a,i=y(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).state={isClosing:!e.animationDisabled,shouldAnimate:!1,zoomLevel:0,offsetX:0,offsetY:0,loadErrorStatus:{}},t.outerEl=o.a.createRef(),t.zoomInBtn=o.a.createRef(),t.zoomOutBtn=o.a.createRef(),t.caption=o.a.createRef(),t.closeIfClickInner=t.closeIfClickInner.bind(v(t)),t.handleImageDoubleClick=t.handleImageDoubleClick.bind(v(t)),t.handleImageMouseWheel=t.handleImageMouseWheel.bind(v(t)),t.handleKeyInput=t.handleKeyInput.bind(v(t)),t.handleMouseUp=t.handleMouseUp.bind(v(t)),t.handleMouseDown=t.handleMouseDown.bind(v(t)),t.handleMouseMove=t.handleMouseMove.bind(v(t)),t.handleOuterMousewheel=t.handleOuterMousewheel.bind(v(t)),t.handleTouchStart=t.handleTouchStart.bind(v(t)),t.handleTouchMove=t.handleTouchMove.bind(v(t)),t.handleTouchEnd=t.handleTouchEnd.bind(v(t)),t.handlePointerEvent=t.handlePointerEvent.bind(v(t)),t.handleCaptionMousewheel=t.handleCaptionMousewheel.bind(v(t)),t.handleWindowResize=t.handleWindowResize.bind(v(t)),t.handleZoomInButtonClick=t.handleZoomInButtonClick.bind(v(t)),t.handleZoomOutButtonClick=t.handleZoomOutButtonClick.bind(v(t)),t.requestClose=t.requestClose.bind(v(t)),t.requestMoveNext=t.requestMoveNext.bind(v(t)),t.requestMovePrev=t.requestMovePrev.bind(v(t)),t.timeouts=[],t.currentAction=0,t.eventsSource=0,t.pointerList=[],t.preventInnerClose=!1,t.preventInnerCloseTimeout=null,t.keyPressed=!1,t.imageCache={},t.lastKeyDownTime=0,t.resizeTimeout=null,t.wheelActionTimeout=null,t.resetScrollTimeout=null,t.scrollX=0,t.scrollY=0,t.moveStartX=0,t.moveStartY=0,t.moveStartOffsetX=0,t.moveStartOffsetY=0,t.swipeStartX=0,t.swipeStartY=0,t.swipeEndX=0,t.swipeEndY=0,t.pinchTouchList=null,t.pinchDistance=0,t.keyCounter=0,t.moveRequested=!1,t}return n=s,r=[{key:"componentDidMount",value:function(){var t=this;this.props.animationDisabled||this.setState({isClosing:!1}),this.windowContext=function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.window.self;return n===e.window.top||C()?n:t(n.parent)}(),this.listeners={resize:this.handleWindowResize,mouseup:this.handleMouseUp,touchend:this.handleTouchEnd,touchcancel:this.handleTouchEnd,pointerdown:this.handlePointerEvent,pointermove:this.handlePointerEvent,pointerup:this.handlePointerEvent,pointercancel:this.handlePointerEvent},Object.keys(this.listeners).forEach((function(e){t.windowContext.addEventListener(e,t.listeners[e])})),this.loadAllImages()}},{key:"shouldComponentUpdate",value:function(e){var t=this;return this.getSrcTypes().forEach((function(n){t.props[n.name]!==e[n.name]&&(t.moveRequested=!1)})),!this.moveRequested}},{key:"componentDidUpdate",value:function(e){var t=this,n=!1,r={},o={};this.getSrcTypes().forEach((function(a){e[a.name]!==t.props[a.name]&&(n=!0,r[e[a.name]]=!0,o[t.props[a.name]]=!0)})),(n||this.moveRequested)&&(Object.keys(r).forEach((function(e){!(e in o)&&e in t.imageCache&&(t.imageCache[e].loaded=!1)})),this.moveRequested=!1,this.loadAllImages(this.props))}},{key:"componentWillUnmount",value:function(){var e=this;this.didUnmount=!0,Object.keys(this.listeners).forEach((function(t){e.windowContext.removeEventListener(t,e.listeners[t])})),this.timeouts.forEach((function(e){return clearTimeout(e)}))}},{key:"setTimeout",value:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){var n=this,r=setTimeout((function(){n.timeouts=n.timeouts.filter((function(e){return e!==r})),e()}),t);return this.timeouts.push(r),r}))},{key:"setPreventInnerClose",value:function(){var e=this;this.preventInnerCloseTimeout&&this.clearTimeout(this.preventInnerCloseTimeout),this.preventInnerClose=!0,this.preventInnerCloseTimeout=this.setTimeout((function(){e.preventInnerClose=!1,e.preventInnerCloseTimeout=null}),100)}},{key:"getBestImageForType",value:function(e){var t=this.props[e],n={};if(this.isImageLoaded(t))n=this.getFitSizes(this.imageCache[t].width,this.imageCache[t].height);else{if(!this.isImageLoaded(this.props["".concat(e,"Thumbnail")]))return null;t=this.props["".concat(e,"Thumbnail")],n=this.getFitSizes(this.imageCache[t].width,this.imageCache[t].height,!0)}return{src:t,height:this.imageCache[t].height,width:this.imageCache[t].width,targetHeight:n.height,targetWidth:n.width}}},{key:"getFitSizes",value:function(e,t,n){var r=this.getLightboxRect(),o=r.height-2*this.props.imagePadding,a=r.width-2*this.props.imagePadding;return n||(o=Math.min(o,t),a=Math.min(a,e)),a/o>e/t?{width:e*o/t,height:o}:{width:a,height:t*a/e}}},{key:"getMaxOffsets",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.zoomLevel,t=this.getBestImageForType("mainSrc");if(null===t)return{maxX:0,minX:0,maxY:0,minY:0};var n=this.getLightboxRect(),r=this.getZoomMultiplier(e),o=0,a=0;return{maxX:o=r*t.width-n.width<0?(n.width-r*t.width)/2:(r*t.width-n.width)/2,maxY:a=r*t.height-n.height<0?(n.height-r*t.height)/2:(r*t.height-n.height)/2,minX:-1*o,minY:-1*a}}},{key:"getSrcTypes",value:function(){return[{name:"mainSrc",keyEnding:"i".concat(this.keyCounter)},{name:"mainSrcThumbnail",keyEnding:"t".concat(this.keyCounter)},{name:"nextSrc",keyEnding:"i".concat(this.keyCounter+1)},{name:"nextSrcThumbnail",keyEnding:"t".concat(this.keyCounter+1)},{name:"prevSrc",keyEnding:"i".concat(this.keyCounter-1)},{name:"prevSrcThumbnail",keyEnding:"t".concat(this.keyCounter-1)}]}},{key:"getZoomMultiplier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.zoomLevel;return Math.pow(1.007,e)}},{key:"getLightboxRect",value:function(){return this.outerEl.current?this.outerEl.current.getBoundingClientRect():{width:w(),height:void 0!==e.window?e.window.innerHeight:0,top:0,right:0,bottom:0,left:0}}},{key:"clearTimeout",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){this.timeouts=this.timeouts.filter((function(t){return t!==e})),clearTimeout(e)}))},{key:"changeZoom",value:function(e,t,n){if(this.props.enableZoom){var r=Math.max(0,Math.min(300,e));if(r!==this.state.zoomLevel)if(0!==r){var o=this.getBestImageForType("mainSrc");if(null!==o){var a=this.getZoomMultiplier(),i=this.getZoomMultiplier(r),s=this.getLightboxRect(),l=void 0!==t?t-s.left:s.width/2,c=void 0!==n?n-s.top:s.height/2,u=(s.width-o.width*a)/2,d=(s.height-o.height*a)/2,f=l-(l-(u-this.state.offsetX))/a*i,p=c-(c-(d-this.state.offsetY))/a*i,h=(s.width-o.width*i)/2-f,m=(s.height-o.height*i)/2-p;if(3!==this.currentAction){var v=this.getMaxOffsets();this.state.zoomLevel>r&&(h=Math.max(v.minX,Math.min(v.maxX,h)),m=Math.max(v.minY,Math.min(v.maxY,m)))}this.setState({zoomLevel:r,offsetX:h,offsetY:m})}}else this.setState({zoomLevel:r,offsetX:0,offsetY:0})}}},{key:"closeIfClickInner",value:function(e){!this.preventInnerClose&&e.target.className.search(/\bril-inner\b/)>-1&&this.requestClose(e)}},{key:"handleKeyInput",value:function(e){if(e.stopPropagation(),!this.isAnimating())if("keyup"!==e.type){var t=e.which||e.keyCode,n=new Date;if(!(n.getTime()-this.lastKeyDownTime<this.props.keyRepeatLimit&&t!==T))switch(this.lastKeyDownTime=n.getTime(),t){case T:e.preventDefault(),this.requestClose(e);break;case A:if(!this.props.prevSrc)return;e.preventDefault(),this.keyPressed=!0,this.requestMovePrev(e);break;case j:if(!this.props.nextSrc)return;e.preventDefault(),this.keyPressed=!0,this.requestMoveNext(e)}}else this.lastKeyDownTime-=this.props.keyRepeatKeyupBonus}},{key:"handleOuterMousewheel",value:function(e){var t=this;e.stopPropagation();var n=0;this.clearTimeout(this.resetScrollTimeout),this.resetScrollTimeout=this.setTimeout((function(){t.scrollX=0,t.scrollY=0}),300),null!==this.wheelActionTimeout||this.isAnimating()||(Math.abs(e.deltaY)<Math.abs(e.deltaX)&&(this.scrollY=0,this.scrollX+=e.deltaX,this.scrollX>=200||e.deltaX>=100?(this.requestMoveNext(e),n=500,this.scrollX=0):(this.scrollX<=-200||e.deltaX<=-100)&&(this.requestMovePrev(e),n=500,this.scrollX=0)),0!==n&&(this.wheelActionTimeout=this.setTimeout((function(){t.wheelActionTimeout=null}),n)))}},{key:"handleImageMouseWheel",value:function(e){if(Math.abs(e.deltaY)>=Math.abs(e.deltaX)){if(e.stopPropagation(),Math.abs(e.deltaY)<1)return;this.scrollX=0,this.scrollY+=e.deltaY,this.changeZoom(this.state.zoomLevel-e.deltaY,e.clientX,e.clientY)}}},{key:"handleImageDoubleClick",value:function(e){this.state.zoomLevel>0?this.changeZoom(0,e.clientX,e.clientY):this.changeZoom(this.state.zoomLevel+100,e.clientX,e.clientY)}},{key:"shouldHandleEvent",value:function(e){if(this.eventsSource===e)return!0;if(0===this.eventsSource)return this.eventsSource=e,!0;switch(e){case 1:return!1;case 2:return this.eventsSource=2,this.filterPointersBySource(),!0;case 3:return 1===this.eventsSource&&(this.eventsSource=3,this.filterPointersBySource(),!0);default:return!1}}},{key:"addPointer",value:function(e){this.pointerList.push(e)}},{key:"removePointer",value:function(e){this.pointerList=this.pointerList.filter((function(t){return t.id!==e.id}))}},{key:"filterPointersBySource",value:function(){var e=this;this.pointerList=this.pointerList.filter((function(t){return t.source===e.eventsSource}))}},{key:"handleMouseDown",value:function(e){this.shouldHandleEvent(1)&&s.isTargetMatchImage(e.target)&&(this.addPointer(s.parseMouseEvent(e)),this.multiPointerStart(e))}},{key:"handleMouseMove",value:function(e){this.shouldHandleEvent(1)&&this.multiPointerMove(e,[s.parseMouseEvent(e)])}},{key:"handleMouseUp",value:function(e){this.shouldHandleEvent(1)&&(this.removePointer(s.parseMouseEvent(e)),this.multiPointerEnd(e))}},{key:"handlePointerEvent",value:function(e){if(this.shouldHandleEvent(3))switch(e.type){case"pointerdown":s.isTargetMatchImage(e.target)&&(this.addPointer(s.parsePointerEvent(e)),this.multiPointerStart(e));break;case"pointermove":this.multiPointerMove(e,[s.parsePointerEvent(e)]);break;case"pointerup":case"pointercancel":this.removePointer(s.parsePointerEvent(e)),this.multiPointerEnd(e)}}},{key:"handleTouchStart",value:function(e){var t=this;this.shouldHandleEvent(2)&&s.isTargetMatchImage(e.target)&&([].forEach.call(e.changedTouches,(function(e){return t.addPointer(s.parseTouchPointer(e))})),this.multiPointerStart(e))}},{key:"handleTouchMove",value:function(e){this.shouldHandleEvent(2)&&this.multiPointerMove(e,[].map.call(e.changedTouches,(function(e){return s.parseTouchPointer(e)})))}},{key:"handleTouchEnd",value:function(e){var t=this;this.shouldHandleEvent(2)&&([].map.call(e.changedTouches,(function(e){return t.removePointer(s.parseTouchPointer(e))})),this.multiPointerEnd(e))}},{key:"decideMoveOrSwipe",value:function(e){this.state.zoomLevel<=0?this.handleSwipeStart(e):this.handleMoveStart(e)}},{key:"multiPointerStart",value:function(e){switch(this.handleEnd(null),this.pointerList.length){case 1:e.preventDefault(),this.decideMoveOrSwipe(this.pointerList[0]);break;case 2:e.preventDefault(),this.handlePinchStart(this.pointerList)}}},{key:"multiPointerMove",value:function(e,t){switch(this.currentAction){case 1:e.preventDefault(),this.handleMove(t[0]);break;case 2:e.preventDefault(),this.handleSwipe(t[0]);break;case 3:e.preventDefault(),this.handlePinch(t)}}},{key:"multiPointerEnd",value:function(e){switch(0!==this.currentAction&&(this.setPreventInnerClose(),this.handleEnd(e)),this.pointerList.length){case 0:this.eventsSource=0;break;case 1:e.preventDefault(),this.decideMoveOrSwipe(this.pointerList[0]);break;case 2:e.preventDefault(),this.handlePinchStart(this.pointerList)}}},{key:"handleEnd",value:function(e){switch(this.currentAction){case 1:this.handleMoveEnd(e);break;case 2:this.handleSwipeEnd(e);break;case 3:this.handlePinchEnd(e)}}},{key:"handleMoveStart",value:function(e){var t=e.x,n=e.y;this.props.enableZoom&&(this.currentAction=1,this.moveStartX=t,this.moveStartY=n,this.moveStartOffsetX=this.state.offsetX,this.moveStartOffsetY=this.state.offsetY)}},{key:"handleMove",value:function(e){var t=e.x,n=e.y,r=this.moveStartX-t+this.moveStartOffsetX,o=this.moveStartY-n+this.moveStartOffsetY;this.state.offsetX===r&&this.state.offsetY===o||this.setState({offsetX:r,offsetY:o})}},{key:"handleMoveEnd",value:function(){var e=this;this.currentAction=0,this.moveStartX=0,this.moveStartY=0,this.moveStartOffsetX=0,this.moveStartOffsetY=0;var t=this.getMaxOffsets(),n=Math.max(t.minX,Math.min(t.maxX,this.state.offsetX)),r=Math.max(t.minY,Math.min(t.maxY,this.state.offsetY));n===this.state.offsetX&&r===this.state.offsetY||(this.setState({offsetX:n,offsetY:r,shouldAnimate:!0}),this.setTimeout((function(){e.setState({shouldAnimate:!1})}),this.props.animationDuration))}},{key:"handleSwipeStart",value:function(e){var t=e.x,n=e.y;this.currentAction=2,this.swipeStartX=t,this.swipeStartY=n,this.swipeEndX=t,this.swipeEndY=n}},{key:"handleSwipe",value:function(e){var t=e.x,n=e.y;this.swipeEndX=t,this.swipeEndY=n}},{key:"handleSwipeEnd",value:function(e){var t=this.swipeEndX-this.swipeStartX,n=Math.abs(t),r=Math.abs(this.swipeEndY-this.swipeStartY);if(this.currentAction=0,this.swipeStartX=0,this.swipeStartY=0,this.swipeEndX=0,this.swipeEndY=0,!(!e||this.isAnimating()||n<1.5*r)){if(n<200&&n<this.getLightboxRect().width/4)return;t>0&&this.props.prevSrc?(e.preventDefault(),this.requestMovePrev()):t<0&&this.props.nextSrc&&(e.preventDefault(),this.requestMoveNext())}}},{key:"calculatePinchDistance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pinchTouchList,t=g(e,2),n=t[0],r=t[1];return Math.sqrt(Math.pow(n.x-r.x,2)+Math.pow(n.y-r.y,2))}},{key:"calculatePinchCenter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pinchTouchList,t=g(e,2),n=t[0],r=t[1];return{x:n.x-(n.x-r.x)/2,y:n.y-(n.y-r.y)/2}}},{key:"handlePinchStart",value:function(e){this.props.enableZoom&&(this.currentAction=3,this.pinchTouchList=e.map((function(e){return{id:e.id,x:e.x,y:e.y}})),this.pinchDistance=this.calculatePinchDistance())}},{key:"handlePinch",value:function(e){this.pinchTouchList=this.pinchTouchList.map((function(t){for(var n=0;n<e.length;n+=1)if(e[n].id===t.id)return e[n];return t}));var t=this.calculatePinchDistance(),n=this.state.zoomLevel+t-this.pinchDistance;this.pinchDistance=t;var r=this.calculatePinchCenter(this.pinchTouchList),o=r.x,a=r.y;this.changeZoom(n,o,a)}},{key:"handlePinchEnd",value:function(){this.currentAction=0,this.pinchTouchList=null,this.pinchDistance=0}},{key:"handleWindowResize",value:function(){this.clearTimeout(this.resizeTimeout),this.resizeTimeout=this.setTimeout(this.forceUpdate.bind(this),100)}},{key:"handleZoomInButtonClick",value:function(){var e=this.state.zoomLevel+100;this.changeZoom(e),300===e&&this.zoomOutBtn.current.focus()}},{key:"handleZoomOutButtonClick",value:function(){var e=this.state.zoomLevel-100;this.changeZoom(e),0===e&&this.zoomInBtn.current.focus()}},{key:"handleCaptionMousewheel",value:function(e){if(e.stopPropagation(),this.caption.current){var t=this.caption.current.getBoundingClientRect().height,n=this.caption.current,r=n.scrollHeight,o=n.scrollTop;(e.deltaY>0&&t+o>=r||e.deltaY<0&&o<=0)&&e.preventDefault()}}},{key:"isAnimating",value:function(){return this.state.shouldAnimate||this.state.isClosing}},{key:"isImageLoaded",value:function(e){return e&&e in this.imageCache&&this.imageCache[e].loaded}},{key:"loadImage",value:function(t,n,r){var o=this;if(this.isImageLoaded(n))this.setTimeout((function(){r()}),1);else{var a=new e.Image;this.props.imageCrossOrigin&&(a.crossOrigin=this.props.imageCrossOrigin),a.onerror=function(e){o.props.onImageLoadError(n,t,e),o.setState((function(e){return{loadErrorStatus:u(u({},e.loadErrorStatus),{},f({},t,!0))}})),r(e)},a.onload=function(){o.props.onImageLoad(n,t,a),o.imageCache[n]={loaded:!0,width:a.width,height:a.height},r()},a.src=n}}},{key:"loadAllImages",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=function(t,n){return function(r){r||e.props[t]!==n||e.didUnmount||e.forceUpdate()}};this.getSrcTypes().forEach((function(r){var o=r.name;t[o]&&e.state.loadErrorStatus[o]&&e.setState((function(e){return{loadErrorStatus:u(u({},e.loadErrorStatus),{},f({},o,!1))}})),t[o]&&!e.isImageLoaded(t[o])&&e.loadImage(o,t[o],n(o,t[o]))}))}},{key:"requestClose",value:function(e){var t=this,n=function(){return t.props.onCloseRequest(e)};this.props.animationDisabled||"keydown"===e.type&&!this.props.animationOnKeyInput?n():(this.setState({isClosing:!0}),this.setTimeout(n,this.props.animationDuration))}},{key:"requestMove",value:function(e,t){var n=this,r={zoomLevel:0,offsetX:0,offsetY:0};this.props.animationDisabled||this.keyPressed&&!this.props.animationOnKeyInput||(r.shouldAnimate=!0,this.setTimeout((function(){return n.setState({shouldAnimate:!1})}),this.props.animationDuration)),this.keyPressed=!1,this.moveRequested=!0,"prev"===e?(this.keyCounter-=1,this.setState(r),this.props.onMovePrevRequest(t)):(this.keyCounter+=1,this.setState(r),this.props.onMoveNextRequest(t))}},{key:"requestMoveNext",value:function(e){this.requestMove("next",e)}},{key:"requestMovePrev",value:function(e){this.requestMove("prev",e)}},{key:"render",value:function(){var t=this,n=this.props,r=n.animationDisabled,a=n.animationDuration,i=n.clickOutsideToClose,c=n.discourageDownloads,d=n.enableZoom,f=n.imageTitle,h=n.nextSrc,m=n.prevSrc,v=n.toolbarButtons,b=n.reactModalStyle,y=n.onAfterOpen,g=n.imageCrossOrigin,O=n.reactModalProps,S=n.loader,w=this.state,C=w.zoomLevel,T=w.offsetX,A=w.offsetY,j=w.isClosing,k=w.loadErrorStatus,I=this.getLightboxRect(),N={};!r&&this.isAnimating()&&(N=u(u({},N),{},{transition:"transform ".concat(a,"ms")}));var x={};this.getSrcTypes().forEach((function(e){var t=e.name,n=e.keyEnding;x[t]=n}));var R=[],D=function(e,n,r){if(t.props[e]){var a,i=t.getBestImageForType(e),l=u(u({},N),s.getTransform(u(u({},r),i)));if(C>0&&(l.cursor="move"),null===i&&(a=k,Object.keys(a).some((function(e){return a[e]}))))R.push(o.a.createElement("div",{className:"".concat(n," ril__image ril-errored"),style:l,key:t.props[e]+x[e]},o.a.createElement("div",{className:"ril__errorContainer"},t.props.imageLoadErrorMessage)));else if(null!==i){var d=i.src;c?(l.backgroundImage="url('".concat(d,"')"),R.push(o.a.createElement("div",{className:"".concat(n," ril__image ril__imageDiscourager"),onDoubleClick:t.handleImageDoubleClick,onWheel:t.handleImageMouseWheel,style:l,key:d+x[e]},o.a.createElement("div",{className:"ril-download-blocker ril__downloadBlocker"})))):R.push(o.a.createElement("img",p({},g?{crossOrigin:g}:{},{className:"".concat(n," ril__image"),onDoubleClick:t.handleImageDoubleClick,onWheel:t.handleImageMouseWheel,onDragStart:function(e){return e.preventDefault()},style:l,src:d,key:d+x[e],alt:"string"==typeof f?f:E("Image"),draggable:!1})))}else{var h=void 0!==S?S:o.a.createElement("div",{className:"ril-loading-circle ril__loadingCircle ril__loadingContainer__icon"},_(new Array(12)).map((function(e,t){return o.a.createElement("div",{key:t,className:"ril-loading-circle-point ril__loadingCirclePoint"})})));R.push(o.a.createElement("div",{className:"".concat(n," ril__image ril-not-loaded"),style:l,key:t.props[e]+x[e]},o.a.createElement("div",{className:"ril__loadingContainer"},h)))}}},M=this.getZoomMultiplier();D("nextSrc","ril-image-next ril__imageNext",{x:I.width}),D("mainSrc","ril-image-current",{x:-1*T,y:-1*A,zoom:M}),D("prevSrc","ril-image-prev ril__imagePrev",{x:-1*I.width});var L={overlay:u({zIndex:1e3,backgroundColor:"transparent"},b.overlay),content:u({backgroundColor:"transparent",overflow:"hidden",border:"none",borderRadius:0,padding:0,top:0,left:0,right:0,bottom:0},b.content)};return o.a.createElement(l.a,p({isOpen:!0,onRequestClose:i?this.requestClose:void 0,onAfterOpen:function(){t.outerEl.current&&t.outerEl.current.focus(),y()},style:L,contentLabel:E("Lightbox"),appElement:void 0!==e.window?e.window.document.body:void 0},O),o.a.createElement("div",{className:"ril-outer ril__outer ril__outerAnimating ".concat(this.props.wrapperClassName," ").concat(j?"ril-closing ril__outerClosing":""),style:{transition:"opacity ".concat(a,"ms"),animationDuration:"".concat(a,"ms"),animationDirection:j?"normal":"reverse"},ref:this.outerEl,onWheel:this.handleOuterMousewheel,onMouseMove:this.handleMouseMove,onMouseDown:this.handleMouseDown,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,tabIndex:"-1",onKeyDown:this.handleKeyInput,onKeyUp:this.handleKeyInput},o.a.createElement("div",{className:"ril-inner ril__inner",onClick:i?this.closeIfClickInner:void 0},R),m&&o.a.createElement("button",{type:"button",className:"ril-prev-button ril__navButtons ril__navButtonPrev",key:"prev","aria-label":this.props.prevLabel,title:this.props.prevLabel,onClick:this.isAnimating()?void 0:this.requestMovePrev}),h&&o.a.createElement("button",{type:"button",className:"ril-next-button ril__navButtons ril__navButtonNext",key:"next","aria-label":this.props.nextLabel,title:this.props.nextLabel,onClick:this.isAnimating()?void 0:this.requestMoveNext}),o.a.createElement("div",{className:"ril-toolbar ril__toolbar"},o.a.createElement("ul",{className:"ril-toolbar-left ril__toolbarSide ril__toolbarLeftSide"},o.a.createElement("li",{className:"ril-toolbar__item ril__toolbarItem"},o.a.createElement("span",{className:"ril-toolbar__item__child ril__toolbarItemChild"},f))),o.a.createElement("ul",{className:"ril-toolbar-right ril__toolbarSide ril__toolbarRightSide"},v&&v.map((function(e,t){return o.a.createElement("li",{key:"button_".concat(t+1),className:"ril-toolbar__item ril__toolbarItem"},e)})),d&&o.a.createElement("li",{className:"ril-toolbar__item ril__toolbarItem"},o.a.createElement("button",{type:"button",key:"zoom-in","aria-label":this.props.zoomInLabel,title:this.props.zoomInLabel,className:["ril-zoom-in","ril__toolbarItemChild","ril__builtinButton","ril__zoomInButton"].concat(_(300===C?["ril__builtinButtonDisabled"]:[])).join(" "),ref:this.zoomInBtn,disabled:this.isAnimating()||300===C,onClick:this.isAnimating()||300===C?void 0:this.handleZoomInButtonClick})),d&&o.a.createElement("li",{className:"ril-toolbar__item ril__toolbarItem"},o.a.createElement("button",{type:"button",key:"zoom-out","aria-label":this.props.zoomOutLabel,title:this.props.zoomOutLabel,className:["ril-zoom-out","ril__toolbarItemChild","ril__builtinButton","ril__zoomOutButton"].concat(_(0===C?["ril__builtinButtonDisabled"]:[])).join(" "),ref:this.zoomOutBtn,disabled:this.isAnimating()||0===C,onClick:this.isAnimating()||0===C?void 0:this.handleZoomOutButtonClick})),o.a.createElement("li",{className:"ril-toolbar__item ril__toolbarItem"},o.a.createElement("button",{type:"button",key:"close","aria-label":this.props.closeLabel,title:this.props.closeLabel,className:"ril-close ril-toolbar__item__child ril__toolbarItemChild ril__builtinButton ril__closeButton",onClick:this.isAnimating()?void 0:this.requestClose})))),this.props.imageCaption&&o.a.createElement("div",{onWheel:this.handleCaptionMousewheel,onMouseDown:function(e){return e.stopPropagation()},className:"ril-caption ril__caption",ref:this.caption},o.a.createElement("div",{className:"ril-caption-content ril__captionContent"},this.props.imageCaption))))}}],a=[{key:"isTargetMatchImage",value:function(e){return e&&/ril-image-current/.test(e.className)}},{key:"parseMouseEvent",value:function(e){return{id:"mouse",source:1,x:parseInt(e.clientX,10),y:parseInt(e.clientY,10)}}},{key:"parseTouchPointer",value:function(e){return{id:e.identifier,source:2,x:parseInt(e.clientX,10),y:parseInt(e.clientY,10)}}},{key:"parsePointerEvent",value:function(e){return{id:e.pointerId,source:3,x:parseInt(e.clientX,10),y:parseInt(e.clientY,10)}}},{key:"getTransform",value:function(e){var t=e.x,n=void 0===t?0:t,r=e.y,o=void 0===r?0:r,a=e.zoom,i=void 0===a?1:a,s=e.width,l=e.targetWidth,c=n,u=w();s>u&&(c+=(u-s)/2);var d=i*(l/s);return{transform:"translate3d(".concat(c,"px,").concat(o,"px,0) scale3d(").concat(d,",").concat(d,",1)")}}}],r&&d(n.prototype,r),a&&d(n,a),s}(r.Component);k.propTypes={mainSrc:i.a.string.isRequired,prevSrc:i.a.string,nextSrc:i.a.string,mainSrcThumbnail:i.a.string,prevSrcThumbnail:i.a.string,nextSrcThumbnail:i.a.string,onCloseRequest:i.a.func.isRequired,onMovePrevRequest:i.a.func,onMoveNextRequest:i.a.func,onImageLoadError:i.a.func,onImageLoad:i.a.func,onAfterOpen:i.a.func,discourageDownloads:i.a.bool,animationDisabled:i.a.bool,animationOnKeyInput:i.a.bool,animationDuration:i.a.number,keyRepeatLimit:i.a.number,keyRepeatKeyupBonus:i.a.number,imageTitle:i.a.node,imageCaption:i.a.node,imageCrossOrigin:i.a.string,reactModalStyle:i.a.shape({}),imagePadding:i.a.number,wrapperClassName:i.a.string,toolbarButtons:i.a.arrayOf(i.a.node),clickOutsideToClose:i.a.bool,enableZoom:i.a.bool,reactModalProps:i.a.shape({}),nextLabel:i.a.string,prevLabel:i.a.string,zoomInLabel:i.a.string,zoomOutLabel:i.a.string,closeLabel:i.a.string,imageLoadErrorMessage:i.a.node,loader:i.a.node},k.defaultProps={imageTitle:null,imageCaption:null,toolbarButtons:null,reactModalProps:{},animationDisabled:!1,animationDuration:300,animationOnKeyInput:!1,clickOutsideToClose:!0,closeLabel:"Close lightbox",discourageDownloads:!1,enableZoom:!0,imagePadding:10,imageCrossOrigin:null,keyRepeatKeyupBonus:40,keyRepeatLimit:180,mainSrcThumbnail:null,nextLabel:"Next image",nextSrc:null,nextSrcThumbnail:null,onAfterOpen:function(){},onImageLoadError:function(){},onImageLoad:function(){},onMoveNextRequest:function(){},onMovePrevRequest:function(){},prevLabel:"Previous image",prevSrc:null,prevSrcThumbnail:null,reactModalStyle:{},wrapperClassName:"",zoomInLabel:"Zoom in",zoomOutLabel:"Zoom out",imageLoadErrorMessage:"This image failed to load",loader:void 0},t.a=k}).call(this,n(111))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(186),a=(r=o)&&r.__esModule?r:{default:r};t.default=a.default,e.exports=t.default},function(e,t,n){e.exports={lightbox:"AssetPreview-module__lightbox___-wule",ril__image:"AssetPreview-module__ril__image___3eJUn"}},function(e,t,n){e.exports={assetCount:"AssetCount-module__assetCount___xVZ7s"}},function(e,t,n){e.exports={viewModeSelector:"ViewModeSelector-module__viewModeSelector___20xae",selectBox:"ViewModeSelector-module__selectBox___1EcPD"}},function(e,t,n){e.exports={searchBox:"SearchBox-module__searchBox___3GzI7"}},function(e,t,n){e.exports={emptyStateWrapper:"Main-module__emptyStateWrapper___3mewP"}},function(e,t,n){e.exports={thumbnailView:"ThumbnailView-module__thumbnailView___2rud9"}},function(e,t,n){"use strict";n(166)},function(e,t,n){"use strict";var r,o=n(167),a=(r=o)&&r.__esModule?r:{default:r},i=n(174),s=n(185);(0,a.default)("Flowpack.Media.Ui:AssetEditor",{},(function(e,t){var n=t.frontendConfiguration,r=e.get("inspector").get("secondaryEditors");n["Flowpack.Media.Ui"].useNewMediaSelection&&(r.set("Neos.Neos/Inspector/Secondary/Editors/MediaDetailsScreen",{component:i.MediaDetailsScreen}),r.set("Neos.Neos/Inspector/Secondary/Editors/MediaSelectionScreen",{component:s.MediaSelectionScreen}))}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SynchronousMetaRegistry=t.SynchronousRegistry=t.readFromConsumerApi=t.createConsumerApi=void 0;var r=i(n(168)),o=i(n(40)),a=n(170);function i(e){return e&&e.__esModule?e:{default:e}}t.default=(0,o.default)("manifest"),t.createConsumerApi=r.default,t.readFromConsumerApi=o.default,t.SynchronousRegistry=a.SynchronousRegistry,t.SynchronousMetaRegistry=a.SynchronousMetaRegistry},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n={};Object.keys(t).forEach((function(e){Object.defineProperty(n,e,i(t[e]))})),Object.defineProperty(n,"@manifest",i((0,a.default)(e))),Object.defineProperty(window,"@Neos:HostPluginAPI",i(n))};var r,o=n(169),a=(r=o)&&r.__esModule?r:{default:r};var i=function(e){return{value:e,writable:!1,enumerable:!1,configurable:!0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,n,r){var o,a,i;e.push((i={options:n,bootstrap:r},(a=t)in(o={})?Object.defineProperty(o,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[a]=i,o))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SynchronousMetaRegistry=t.SynchronousRegistry=void 0;var r=a(n(109)),o=a(n(173));function a(e){return e&&e.__esModule?e:{default:e}}t.SynchronousRegistry=r.default,t.SynchronousMetaRegistry=o.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e){this.SERIAL_VERSION_UID="d8a5aa78-978e-11e6-ae22-56b6b6499611",this.description=e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"position",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"key",r="string"==typeof t?function(e){return e[t]}:t,o={},a={},i={},s={},l={},c={};e.forEach((function(e,t){var u=e[n]?e[n]:String(t);o[u]=t;var d=r(e),f=String(d||t),p=!1;if(f.startsWith("start")){var h=f.match(/start\s+(\d+)/),m=h&&h[1]?Number(h[1]):0;i[m]||(i[m]=[]),i[m].push(u)}else if(f.startsWith("end")){var v=f.match(/end\s+(\d+)/),b=v&&v[1]?Number(v[1]):0;s[b]||(s[b]=[]),s[b].push(u)}else if(f.startsWith("before")){var y=f.match(/before\s+(\S+)(\s+(\d+))?/);if(y){var g=y[1],_=y[3]?Number(y[3]):0;l[g]||(l[g]={}),l[g][_]||(l[g][_]=[]),l[g][_].push(u)}else p=!0}else if(f.startsWith("after")){var O=f.match(/after\s+(\S+)(\s+(\d+))?/);if(O){var S=O[1],E=O[3]?Number(O[3]):0;c[S]||(c[S]={}),c[S][E]||(c[S][E]=[]),c[S][E].push(u)}else p=!0}else p=!0;if(p){var w=parseFloat(f);!isNaN(w)&&isFinite(w)||(w=t),a[w]||(a[w]=[]),a[w].push(u)}}));var u=[],d=[],f=[],p=[],h=function(e,t){var n=Object.keys(e).map((function(e){return Number(e)})).sort((function(e,t){return e-t}));return t?n:n.reverse()},m=function e(t,n){t.forEach((function(t){if(!(p.indexOf(t)>=0)){if(p.push(t),l[t]){var r=h(l[t],!0),o=!0,a=!1,i=void 0;try{for(var s,u=r[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var d=s.value;e(l[t][d],n)}}catch(e){a=!0,i=e}finally{try{!o&&u.return&&u.return()}finally{if(a)throw i}}}if(n.push(t),c[t]){var f=h(c[t],!1),m=!0,v=!1,b=void 0;try{for(var y,g=f[Symbol.iterator]();!(m=(y=g.next()).done);m=!0){var _=y.value;e(c[t][_],n)}}catch(e){v=!0,b=e}finally{try{!m&&g.return&&g.return()}finally{if(v)throw b}}}}}))},v=!0,b=!1,y=void 0;try{for(var g,_=h(i,!1)[Symbol.iterator]();!(v=(g=_.next()).done);v=!0){var O=g.value;m(i[O],u)}}catch(e){b=!0,y=e}finally{try{!v&&_.return&&_.return()}finally{if(b)throw y}}var S=!0,E=!1,w=void 0;try{for(var C,T=h(a,!0)[Symbol.iterator]();!(S=(C=T.next()).done);S=!0){var A=C.value;m(a[A],d)}}catch(e){E=!0,w=e}finally{try{!S&&T.return&&T.return()}finally{if(E)throw w}}var j=!0,k=!1,I=void 0;try{for(var N,x=h(s,!0)[Symbol.iterator]();!(j=(N=x.next()).done);j=!0){var R=N.value;m(s[R],f)}}catch(e){k=!0,I=e}finally{try{!j&&x.return&&x.return()}finally{if(k)throw I}}var D=!0,M=!1,L=void 0;try{for(var P,F=Object.keys(l)[Symbol.iterator]();!(D=(P=F.next()).done);D=!0){var B=P.value;if(!(p.indexOf(B)>=0)){var U=!0,V=!1,q=void 0;try{for(var z,Q=h(l[B],!1)[Symbol.iterator]();!(U=(z=Q.next()).done);U=!0){var $=z.value;m(l[B][$],u)}}catch(e){V=!0,q=e}finally{try{!U&&Q.return&&Q.return()}finally{if(V)throw q}}}}}catch(e){M=!0,L=e}finally{try{!D&&F.return&&F.return()}finally{if(M)throw L}}var W=!0,H=!1,K=void 0;try{for(var G,Y=Object.keys(c)[Symbol.iterator]();!(W=(G=Y.next()).done);W=!0){var X=G.value;if(!(p.indexOf(X)>=0)){var J=!0,Z=!1,ee=void 0;try{for(var te,ne=h(c[X],!1)[Symbol.iterator]();!(J=(te=ne.next()).done);J=!0){var re=te.value;m(c[X][re],d)}}catch(e){Z=!0,ee=e}finally{try{!J&&ne.return&&ne.return()}finally{if(Z)throw ee}}}}}catch(e){H=!0,K=e}finally{try{!W&&Y.return&&Y.return()}finally{if(H)throw K}}var oe=[].concat(u,d,f);return oe.map((function(e){return o[e]})).map((function(t){return e[t]}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=n(109),a=(r=o)&&r.__esModule?r:{default:r};var i=class extends a.default{set(e,t){if("d8a5aa78-978e-11e6-ae22-56b6b6499611"!==t.SERIAL_VERSION_UID)throw new Error("You can only add registries to a meta registry");return super.set(e,t)}};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(198);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}Object.defineProperty(t,"__esModule",{value:!0}),t.Observable=void 0;var i=function(){return"function"==typeof Symbol},s=function(e){return i()&&Boolean(Symbol[e])},l=function(e){return s(e)?Symbol[e]:"@@"+e};i()&&!s("observable")&&(Symbol.observable=Symbol("observable"));var c=l("iterator"),u=l("observable"),d=l("species");function f(e,t){var n=e[t];if(null!=n){if("function"!=typeof n)throw new TypeError(n+" is not a function");return n}}function p(e){var t=e.constructor;return void 0!==t&&null===(t=t[d])&&(t=void 0),void 0!==t?t:E}function h(e){return e instanceof E}function m(e){m.log?m.log(e):setTimeout((function(){throw e}))}function v(e){Promise.resolve().then((function(){try{e()}catch(e){m(e)}}))}function b(e){var t=e._cleanup;if(void 0!==t&&(e._cleanup=void 0,t))try{if("function"==typeof t)t();else{var n=f(t,"unsubscribe");n&&n.call(t)}}catch(e){m(e)}}function y(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function g(e,t,n){e._state="running";var r=e._observer;try{var o=f(r,t);switch(t){case"next":o&&o.call(r,n);break;case"error":if(y(e),!o)throw n;o.call(r,n);break;case"complete":y(e),o&&o.call(r)}}catch(e){m(e)}"closed"===e._state?b(e):"running"===e._state&&(e._state="ready")}function _(e,t,n){if("closed"!==e._state){if("buffering"!==e._state)return"ready"!==e._state?(e._state="buffering",e._queue=[{type:t,value:n}],void v((function(){return function(e){var t=e._queue;if(t){e._queue=void 0,e._state="ready";for(var n=0;n<t.length&&(g(e,t[n].type,t[n].value),"closed"!==e._state);++n);}}(e)}))):void g(e,t,n);e._queue.push({type:t,value:n})}}var O=function(){function e(t,n){r(this,e),this._cleanup=void 0,this._observer=t,this._queue=void 0,this._state="initializing";var o=new S(this);try{this._cleanup=n.call(void 0,o)}catch(e){o.error(e)}"initializing"===this._state&&(this._state="ready")}return a(e,[{key:"unsubscribe",value:function(){"closed"!==this._state&&(y(this),b(this))}},{key:"closed",get:function(){return"closed"===this._state}}]),e}(),S=function(){function e(t){r(this,e),this._subscription=t}return a(e,[{key:"next",value:function(e){_(this._subscription,"next",e)}},{key:"error",value:function(e){_(this._subscription,"error",e)}},{key:"complete",value:function(){_(this._subscription,"complete")}},{key:"closed",get:function(){return"closed"===this._subscription._state}}]),e}(),E=function(){function e(t){if(r(this,e),!(this instanceof e))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof t)throw new TypeError("Observable initializer must be a function");this._subscriber=t}return a(e,[{key:"subscribe",value:function(e){return"object"==typeof e&&null!==e||(e={next:e,error:arguments[1],complete:arguments[2]}),new O(e,this._subscriber)}},{key:"forEach",value:function(e){var t=this;return new Promise((function(n,r){if("function"==typeof e)var o=t.subscribe({next:function(t){try{e(t,a)}catch(e){r(e),o.unsubscribe()}},error:r,complete:n});else r(new TypeError(e+" is not a function"));function a(){o.unsubscribe(),n()}}))}},{key:"map",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(p(this))((function(n){return t.subscribe({next:function(t){try{t=e(t)}catch(e){return n.error(e)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))}},{key:"filter",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(p(this))((function(n){return t.subscribe({next:function(t){try{if(!e(t))return}catch(e){return n.error(e)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))}},{key:"reduce",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=p(this),r=arguments.length>1,o=!1,a=arguments[1],i=a;return new n((function(n){return t.subscribe({next:function(t){var a=!o;if(o=!0,!a||r)try{i=e(i,t)}catch(e){return n.error(e)}else i=t},error:function(e){n.error(e)},complete:function(){if(!o&&!r)return n.error(new TypeError("Cannot reduce an empty sequence"));n.next(i),n.complete()}})}))}},{key:"concat",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=p(this);return new o((function(t){var r,a=0;return function e(i){r=i.subscribe({next:function(e){t.next(e)},error:function(e){t.error(e)},complete:function(){a===n.length?(r=void 0,t.complete()):e(o.from(n[a++]))}})}(e),function(){r&&(r.unsubscribe(),r=void 0)}}))}},{key:"flatMap",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=p(this);return new n((function(r){var o=[],a=t.subscribe({next:function(t){if(e)try{t=e(t)}catch(e){return r.error(e)}var a=n.from(t).subscribe({next:function(e){r.next(e)},error:function(e){r.error(e)},complete:function(){var e=o.indexOf(a);e>=0&&o.splice(e,1),i()}});o.push(a)},error:function(e){r.error(e)},complete:function(){i()}});function i(){a.closed&&0===o.length&&r.complete()}return function(){o.forEach((function(e){return e.unsubscribe()})),a.unsubscribe()}}))}},{key:u,value:function(){return this}}],[{key:"from",value:function(t){var n="function"==typeof this?this:e;if(null==t)throw new TypeError(t+" is not an object");var r=f(t,u);if(r){var o=r.call(t);if(Object(o)!==o)throw new TypeError(o+" is not an object");return h(o)&&o.constructor===n?o:new n((function(e){return o.subscribe(e)}))}if(s("iterator")&&(r=f(t,c)))return new n((function(e){v((function(){if(!e.closed){var n=!0,o=!1,a=void 0;try{for(var i,s=r.call(t)[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var l=i.value;if(e.next(l),e.closed)return}}catch(e){o=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}e.complete()}}))}));if(Array.isArray(t))return new n((function(e){v((function(){if(!e.closed){for(var n=0;n<t.length;++n)if(e.next(t[n]),e.closed)return;e.complete()}}))}));throw new TypeError(t+" is not observable")}},{key:"of",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o="function"==typeof this?this:e;return new o((function(e){v((function(){if(!e.closed){for(var t=0;t<n.length;++t)if(e.next(n[t]),e.closed)return;e.complete()}}))}))}},{key:d,get:function(){return this}}]),e}();t.Observable=E,i()&&Object.defineProperty(E,Symbol("extensions"),{value:{symbol:u,hostReportError:m},configurable:!0})},function(e,t,n){"use strict";(function(e,t){var r,o=n(137);r="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:t;Object(o.a)(r)}).call(this,n(111),n(177)(e))},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";(function(e){}).call(this,n(97))},function(e,t){},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";var r=n(182),o=n(36),a=o.ApolloLink,i=o.Observable,s=n(70),l=s.createSignalIfSupported,c=s.fallbackHttpConfig,u=s.parseAndCheckHttpResponse,d=s.rewriteURIForGET,f=s.selectHttpOptionsAndBody,p=s.selectURI,h=s.serializeFetchParameter,m=n(183),v=n(123),b=n(124);e.exports=function(e){var t=void 0===e?{}:e,n=t.uri,o=void 0===n?"/graphql":n,s=t.useGETForQueries,y=t.isExtractableFile,g=void 0===y?b:y,_=t.FormData,O=t.formDataAppendFile,S=void 0===O?v:O,E=t.fetch,w=t.fetchOptions,C=t.credentials,T=t.headers,A={http:{includeExtensions:t.includeExtensions},options:w,credentials:C,headers:T};return new a((function(e){var t=e.getContext(),n=t.clientAwareness,a=(n=void 0===n?{}:n).name,v=n.version,b=t.headers,y={http:t.http,options:t.fetchOptions,credentials:t.credentials,headers:r({},a&&{"apollographql-client-name":a},v&&{"apollographql-client-version":v},b)},O=f(e,c,A,y),w=O.options,C=O.body,T=m(C,"",g),j=T.clone,k=T.files,I=p(e,o);if(k.size){delete w.headers["content-type"];var N=new(_||FormData);N.append("operations",h(j,"Payload"));var x={},R=0;k.forEach((function(e){x[++R]=e})),N.append("map",JSON.stringify(x)),R=0,k.forEach((function(e,t){S(N,++R,t)})),w.body=N}else if(s&&!e.query.definitions.some((function(e){return"OperationDefinition"===e.kind&&"mutation"===e.operation}))&&(w.method="GET"),"GET"===w.method){var D=d(I,C),M=D.newURI,L=D.parseError;if(L)return new i((function(e){e.error(L)}));I=M}else w.body=h(j,"Payload");var P=l().controller;P&&(w.signal&&w.signal.addEventListener("abort",(function(){P.abort()})),w.signal=P.signal);var F=E||fetch;return new i((function(t){var n;return F(I,w).then((function(t){return e.setContext({response:t}),t})).then(u(e)).then((function(e){t.next(e),t.complete()})).catch((function(e){n||(e.result&&e.result.errors&&e.result.data&&t.next(e.result),t.error(e))})),function(){n=!0,P&&P.abort()}}))}))}},function(e,t){function n(){return e.exports=n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,n.apply(this,arguments)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";var r=n(121);e.exports=function e(t,n,o){var a;void 0===n&&(n=""),void 0===o&&(o=r);var i=new Map;function s(e,t){var n=i.get(t);n?n.push.apply(n,e):i.set(t,e)}if(o(t))a=null,s([n],t);else{var l=n?n+".":"";if("undefined"!=typeof FileList&&t instanceof FileList)a=Array.prototype.map.call(t,(function(e,t){return s([""+l+t],e),null}));else if(Array.isArray(t))a=t.map((function(t,n){var r=e(t,""+l+n,o);return r.files.forEach(s),r.clone}));else if(t&&t.constructor===Object)for(var c in a={},t){var u=e(t[c],""+l+c,o);u.files.forEach(s),a[c]=u.clone}else a=t}return{clone:a,files:i}}},function(e,t,n){"use strict";e.exports=n(122)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(197);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bodyOpenClassName=t.portalClassName=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),i=h(a),s=h(n(71)),l=h(n(10)),c=h(n(187)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(126)),d=n(98),f=h(d),p=n(194);function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var b=t.portalClassName="ReactModalPortal",y=t.bodyOpenClassName="ReactModal__Body--open",g=d.canUseDOM&&void 0!==s.default.createPortal,_=function(e){return document.createElement(e)},O=function(){return g?s.default.createPortal:s.default.unstable_renderSubtreeIntoContainer};function S(e){return e()}var E=function(e){function t(){var e,n,o;m(this,t);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return n=o=v(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.removePortal=function(){!g&&s.default.unmountComponentAtNode(o.node);var e=S(o.props.parentSelector);e&&e.contains(o.node)?e.removeChild(o.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},o.portalRef=function(e){o.portal=e},o.renderPortal=function(e){var n=O()(o,i.default.createElement(c.default,r({defaultStyles:t.defaultStyles},e)),o.node);o.portalRef(n)},v(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){d.canUseDOM&&(g||(this.node=_("div")),this.node.className=this.props.portalClassName,S(this.props.parentSelector).appendChild(this.node),!g&&this.renderPortal(this.props))}},{key:"getSnapshotBeforeUpdate",value:function(e){return{prevParent:S(e.parentSelector),nextParent:S(this.props.parentSelector)}}},{key:"componentDidUpdate",value:function(e,t,n){if(d.canUseDOM){var r=this.props,o=r.isOpen,a=r.portalClassName;e.portalClassName!==a&&(this.node.className=a);var i=n.prevParent,s=n.nextParent;s!==i&&(i.removeChild(this.node),s.appendChild(this.node)),(e.isOpen||o)&&!g&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(d.canUseDOM&&this.node&&this.portal){var e=this.portal.state,t=Date.now(),n=e.isOpen&&this.props.closeTimeoutMS&&(e.closesAt||t+this.props.closeTimeoutMS);n?(e.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,n-t)):this.removePortal()}}},{key:"render",value:function(){return d.canUseDOM&&g?(!this.node&&g&&(this.node=_("div")),O()(i.default.createElement(c.default,r({ref:this.portalRef,defaultStyles:t.defaultStyles},this.props)),this.node)):null}}],[{key:"setAppElement",value:function(e){u.setElement(e)}}]),t}(a.Component);E.propTypes={isOpen:l.default.bool.isRequired,style:l.default.shape({content:l.default.object,overlay:l.default.object}),portalClassName:l.default.string,bodyOpenClassName:l.default.string,htmlOpenClassName:l.default.string,className:l.default.oneOfType([l.default.string,l.default.shape({base:l.default.string.isRequired,afterOpen:l.default.string.isRequired,beforeClose:l.default.string.isRequired})]),overlayClassName:l.default.oneOfType([l.default.string,l.default.shape({base:l.default.string.isRequired,afterOpen:l.default.string.isRequired,beforeClose:l.default.string.isRequired})]),appElement:l.default.oneOfType([l.default.instanceOf(f.default),l.default.instanceOf(d.SafeHTMLCollection),l.default.instanceOf(d.SafeNodeList),l.default.arrayOf(l.default.instanceOf(f.default))]),onAfterOpen:l.default.func,onRequestClose:l.default.func,closeTimeoutMS:l.default.number,ariaHideApp:l.default.bool,shouldFocusAfterRender:l.default.bool,shouldCloseOnOverlayClick:l.default.bool,shouldReturnFocusAfterClose:l.default.bool,preventScroll:l.default.bool,parentSelector:l.default.func,aria:l.default.object,data:l.default.object,role:l.default.string,contentLabel:l.default.string,shouldCloseOnEsc:l.default.bool,overlayRef:l.default.func,contentRef:l.default.func,id:l.default.string,overlayElement:l.default.func,contentElement:l.default.func},E.defaultProps={isOpen:!1,portalClassName:b,bodyOpenClassName:y,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(e,t){return i.default.createElement("div",e,t)},contentElement:function(e,t){return i.default.createElement("div",e,t)}},E.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,p.polyfill)(E),t.default=E},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),s=v(n(10)),l=m(n(188)),c=v(n(189)),u=m(n(126)),d=m(n(192)),f=n(98),p=v(f),h=v(n(127));function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function v(e){return e&&e.__esModule?e:{default:e}}n(193);var b={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},y=0,g=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setOverlayRef=function(e){n.overlay=e,n.props.overlayRef&&n.props.overlayRef(e)},n.setContentRef=function(e){n.content=e,n.props.contentRef&&n.props.contentRef(e)},n.afterClose=function(){var e=n.props,t=e.appElement,r=e.ariaHideApp,o=e.htmlOpenClassName,a=e.bodyOpenClassName,i=e.parentSelector,s=i&&i().ownerDocument||document;a&&d.remove(s.body,a),o&&d.remove(s.getElementsByTagName("html")[0],o),r&&y>0&&0===(y-=1)&&u.show(t),n.props.shouldFocusAfterRender&&(n.props.shouldReturnFocusAfterClose?(l.returnFocus(n.props.preventScroll),l.teardownScopedFocus()):l.popWithoutFocus()),n.props.onAfterClose&&n.props.onAfterClose(),h.default.deregister(n)},n.open=function(){n.beforeOpen(),n.state.afterOpen&&n.state.beforeClose?(clearTimeout(n.closeTimer),n.setState({beforeClose:!1})):(n.props.shouldFocusAfterRender&&(l.setupScopedFocus(n.node),l.markForFocusLater()),n.setState({isOpen:!0},(function(){n.openAnimationFrame=requestAnimationFrame((function(){n.setState({afterOpen:!0}),n.props.isOpen&&n.props.onAfterOpen&&n.props.onAfterOpen({overlayEl:n.overlay,contentEl:n.content})}))})))},n.close=function(){n.props.closeTimeoutMS>0?n.closeWithTimeout():n.closeWithoutTimeout()},n.focusContent=function(){return n.content&&!n.contentHasFocus()&&n.content.focus({preventScroll:!0})},n.closeWithTimeout=function(){var e=Date.now()+n.props.closeTimeoutMS;n.setState({beforeClose:!0,closesAt:e},(function(){n.closeTimer=setTimeout(n.closeWithoutTimeout,n.state.closesAt-Date.now())}))},n.closeWithoutTimeout=function(){n.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},n.afterClose)},n.handleKeyDown=function(e){(function(e){return"Tab"===e.code||9===e.keyCode})(e)&&(0,c.default)(n.content,e),n.props.shouldCloseOnEsc&&function(e){return"Escape"===e.code||27===e.keyCode}(e)&&(e.stopPropagation(),n.requestClose(e))},n.handleOverlayOnClick=function(e){null===n.shouldClose&&(n.shouldClose=!0),n.shouldClose&&n.props.shouldCloseOnOverlayClick&&(n.ownerHandlesClose()?n.requestClose(e):n.focusContent()),n.shouldClose=null},n.handleContentOnMouseUp=function(){n.shouldClose=!1},n.handleOverlayOnMouseDown=function(e){n.props.shouldCloseOnOverlayClick||e.target!=n.overlay||e.preventDefault()},n.handleContentOnClick=function(){n.shouldClose=!1},n.handleContentOnMouseDown=function(){n.shouldClose=!1},n.requestClose=function(e){return n.ownerHandlesClose()&&n.props.onRequestClose(e)},n.ownerHandlesClose=function(){return n.props.onRequestClose},n.shouldBeClosed=function(){return!n.state.isOpen&&!n.state.beforeClose},n.contentHasFocus=function(){return document.activeElement===n.content||n.content.contains(document.activeElement)},n.buildClassName=function(e,t){var r="object"===(void 0===t?"undefined":o(t))?t:{base:b[e],afterOpen:b[e]+"--after-open",beforeClose:b[e]+"--before-close"},a=r.base;return n.state.afterOpen&&(a=a+" "+r.afterOpen),n.state.beforeClose&&(a=a+" "+r.beforeClose),"string"==typeof t&&t?a+" "+t:a},n.attributesFromObject=function(e,t){return Object.keys(t).reduce((function(n,r){return n[e+"-"+r]=t[r],n}),{})},n.state={afterOpen:!1,beforeClose:!1},n.shouldClose=null,n.moveFromContentToOverlay=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(e,t){this.props.isOpen&&!e.isOpen?this.open():!this.props.isOpen&&e.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!t.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var e=this.props,t=e.appElement,n=e.ariaHideApp,r=e.htmlOpenClassName,o=e.bodyOpenClassName,a=e.parentSelector,i=a&&a().ownerDocument||document;o&&d.add(i.body,o),r&&d.add(i.getElementsByTagName("html")[0],r),n&&(y+=1,u.hide(t)),h.default.register(this)}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.className,o=e.overlayClassName,a=e.defaultStyles,i=e.children,s=n?{}:a.content,l=o?{}:a.overlay;if(this.shouldBeClosed())return null;var c={ref:this.setOverlayRef,className:this.buildClassName("overlay",o),style:r({},l,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},u=r({id:t,ref:this.setContentRef,style:r({},s,this.props.style.content),className:this.buildClassName("content",n),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",r({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),d=this.props.contentElement(u,i);return this.props.overlayElement(c,d)}}]),t}(i.Component);g.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},g.propTypes={isOpen:s.default.bool.isRequired,defaultStyles:s.default.shape({content:s.default.object,overlay:s.default.object}),style:s.default.shape({content:s.default.object,overlay:s.default.object}),className:s.default.oneOfType([s.default.string,s.default.object]),overlayClassName:s.default.oneOfType([s.default.string,s.default.object]),parentSelector:s.default.func,bodyOpenClassName:s.default.string,htmlOpenClassName:s.default.string,ariaHideApp:s.default.bool,appElement:s.default.oneOfType([s.default.instanceOf(p.default),s.default.instanceOf(f.SafeHTMLCollection),s.default.instanceOf(f.SafeNodeList),s.default.arrayOf(s.default.instanceOf(p.default))]),onAfterOpen:s.default.func,onAfterClose:s.default.func,onRequestClose:s.default.func,closeTimeoutMS:s.default.number,shouldFocusAfterRender:s.default.bool,shouldCloseOnOverlayClick:s.default.bool,shouldReturnFocusAfterClose:s.default.bool,preventScroll:s.default.bool,role:s.default.string,contentLabel:s.default.string,aria:s.default.object,data:s.default.object,children:s.default.node,shouldCloseOnEsc:s.default.bool,overlayRef:s.default.func,contentRef:s.default.func,id:s.default.string,overlayElement:s.default.func,contentElement:s.default.func,testId:s.default.string},t.default=g,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=function(){i=[]},t.log=function(){0},t.handleBlur=c,t.handleFocus=u,t.markForFocusLater=function(){i.push(document.activeElement)},t.returnFocus=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=null;try{return void(0!==i.length&&(t=i.pop()).focus({preventScroll:e}))}catch(e){console.warn(["You tried to return focus to",t,"but it is not in the DOM anymore"].join(" "))}},t.popWithoutFocus=function(){i.length>0&&i.pop()},t.setupScopedFocus=function(e){s=e,window.addEventListener?(window.addEventListener("blur",c,!1),document.addEventListener("focus",u,!0)):(window.attachEvent("onBlur",c),document.attachEvent("onFocus",u))},t.teardownScopedFocus=function(){s=null,window.addEventListener?(window.removeEventListener("blur",c),document.removeEventListener("focus",u)):(window.detachEvent("onBlur",c),document.detachEvent("onFocus",u))};var r,o=n(125),a=(r=o)&&r.__esModule?r:{default:r};var i=[],s=null,l=!1;function c(){l=!0}function u(){if(l){if(l=!1,!s)return;setTimeout((function(){s.contains(document.activeElement)||((0,a.default)(s)[0]||s).focus()}),0)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(0,a.default)(e);if(!n.length)return void t.preventDefault();var r=void 0,o=t.shiftKey,i=n[0],s=n[n.length-1],l=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;return t.activeElement.shadowRoot?e(t.activeElement.shadowRoot):t.activeElement}();if(e===l){if(!o)return;r=s}s!==l||o||(r=i);i===l&&o&&(r=s);if(r)return t.preventDefault(),void r.focus();var c=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent);if(null==c||"Chrome"==c[1]||null!=/\biPod\b|\biPad\b/g.exec(navigator.userAgent))return;var u=n.indexOf(l);u>-1&&(u+=o?-1:1);if(void 0===(r=n[u]))return t.preventDefault(),void(r=o?s:i).focus();t.preventDefault(),r.focus()};var r,o=n(125),a=(r=o)&&r.__esModule?r:{default:r};e.exports=t.default},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t,n){var r;
/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/!function(){"use strict";var o=!("undefined"==typeof window||!window.document||!window.document.createElement),a={canUseDOM:o,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:o&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:o&&!!window.screen};void 0===(r=function(){return a}.call(t,n,t,e))||(e.exports=r)}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=function(){var e=document.getElementsByTagName("html")[0];for(var t in r)a(e,r[t]);var n=document.body;for(var i in o)a(n,o[i]);r={},o={}},t.log=function(){0};var r={},o={};function a(e,t){e.classList.remove(t)}t.add=function(e,t){return n=e.classList,a="html"==e.nodeName.toLowerCase()?r:o,void t.split(" ").forEach((function(e){!function(e,t){e[t]||(e[t]=0),e[t]+=1}(a,e),n.add(e)}));var n,a},t.remove=function(e,t){return n=e.classList,a="html"==e.nodeName.toLowerCase()?r:o,void t.split(" ").forEach((function(e){!function(e,t){e[t]&&(e[t]-=1)}(a,e),0===a[e]&&n.remove(e)}));var n,a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=function(){for(var e=[i,s],t=0;t<e.length;t++){var n=e[t];n&&(n.parentNode&&n.parentNode.removeChild(n))}i=s=null,l=[]},t.log=function(){console.log("bodyTrap ----------"),console.log(l.length);for(var e=[i,s],t=0;t<e.length;t++){var n=e[t]||{};console.log(n.nodeName,n.className,n.id)}console.log("edn bodyTrap ----------")};var r,o=n(127),a=(r=o)&&r.__esModule?r:{default:r};var i=void 0,s=void 0,l=[];function c(){0!==l.length&&l[l.length-1].focusContent()}a.default.subscribe((function(e,t){i||s||((i=document.createElement("div")).setAttribute("data-react-modal-body-trap",""),i.style.position="absolute",i.style.opacity="0",i.setAttribute("tabindex","0"),i.addEventListener("focus",c),(s=i.cloneNode()).addEventListener("focus",c)),(l=t).length>0?(document.body.firstChild!==i&&document.body.insertBefore(i,document.body.firstChild),document.body.lastChild!==s&&document.body.appendChild(s)):(i.parentElement&&i.parentElement.removeChild(i),s.parentElement&&s.parentElement.removeChild(s))}))},function(e,t,n){"use strict";function r(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function o(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!=n?n:null}.bind(this))}function a(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function i(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,i=null,s=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?i="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(i="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?s="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==i||null!==s){var l=e.displayName||e.name,c="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+l+" uses "+c+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==i?"\n  "+i:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=r,t.componentWillReceiveProps=o),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=a;var u=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;u.call(this,e,t,r)}}return e}n.r(t),n.d(t,"polyfill",(function(){return i})),r.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0,a.__suppressDeprecationWarning=!0},function(e,t,n){e.exports={ril__outer:"style__ril__outer___1zYzZ",ril__outerClosing:"style__ril__outerClosing___3n_rB",ril__inner:"style__ril__inner___dYbbg",ril__image:"style__ril__image___ohhGk",ril__imagePrev:"style__ril__imagePrev___1TitV",ril__imageNext:"style__ril__imageNext___qIMp_",ril__imageDiscourager:"style__ril__imageDiscourager___1loUi",ril__navButtons:"style__ril__navButtons___rD-18",ril__navButtonPrev:"style__ril__navButtonPrev___3XfSU",ril__navButtonNext:"style__ril__navButtonNext___lV26z",ril__downloadBlocker:"style__ril__downloadBlocker___2Jwql",ril__caption:"style__ril__caption___20juT",ril__toolbar:"style__ril__toolbar___10lYy",ril__captionContent:"style__ril__captionContent___6dnIh",ril__toolbarSide:"style__ril__toolbarSide___1-5RY",ril__toolbarLeftSide:"style__ril__toolbarLeftSide___33kts",ril__toolbarRightSide:"style__ril__toolbarRightSide___3xRiA",ril__toolbarItem:"style__ril__toolbarItem___33nhp",ril__toolbarItemChild:"style__ril__toolbarItemChild___1uo52",ril__builtinButton:"style__ril__builtinButton___2ew22",ril__builtinButtonDisabled:"style__ril__builtinButtonDisabled___3xK7K",ril__closeButton:"style__ril__closeButton___2Ge8S",ril__zoomInButton:"style__ril__zoomInButton___2okkJ",ril__zoomOutButton:"style__ril__zoomOutButton___2U6Nk",ril__outerAnimating:"style__ril__outerAnimating___2Z5fK",closeWindow:"style__closeWindow___2YNOe",ril__loadingCircle:"style__ril__loadingCircle___23cHC",ril__loadingCirclePoint:"style__ril__loadingCirclePoint___3pCVl",pointFade:"style__pointFade___2ppwA",ril__loadingContainer:"style__ril__loadingContainer___38L0C",ril__errorContainer:"style__ril__errorContainer___3sKjX",ril__loadingContainer__icon:"style__ril__loadingContainer__icon___2nrVt"}},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"MediaSelectionScreen",(function(){return it}));var r=n(0),o=n.n(r),a=n(74),i=n(4),s=n(91),l=n(13),c=n.n(l),u=n(87),d=n(75),f=n(5),p=n(89),h=n(62),m=n(1),v=n(9),b=n(7),y=n(19),g=n(20),_=n(38),O=n(23);var S=i.gql`
    query CHANGED_ASSETS($since: DateTime = null) {
        changedAssets(since: $since) {
            lastModified
            changes {
                assetId
                lastModified
                type
            }
        }
    }
`;const E=i.gql`
    fragment AssetLastModified on Asset {
        lastModified
    }
`;var w=o.a.memo(()=>{const e=function(){const{config:e}=Object(v.d)(),[t,n]=Object(r.useState)(null),[o,a]=Object(r.useState)([]),{data:s,client:l}=Object(i.useQuery)(S,{variables:{since:null!=t?t:null==e?void 0:e.currentServerTime},pollInterval:5e3,skip:!(null==e?void 0:e.currentServerTime)});return Object(r.useEffect)(()=>{if(!(null==s?void 0:s.changedAssets))return;const{lastModified:e,changes:t}=s.changedAssets;e&&n(e);const r=t.filter(e=>{if("ASSET_CREATED"===e.type)return!0;const t=l.cache.readFragment({fragment:E,id:l.cache.identify({__typename:"Asset",id:e.assetId})});return!!t&&t.lastModified<e.lastModified});a(e=>0===r.length?e:r)},[null==s?void 0:s.changedAssets,l]),o}(),{refetch:t}=Object(v.b)(),{refetch:n}=Object(v.c)();return Object(r.useEffect)(()=>{null==e||e.forEach(e=>{switch(e.type){case"ASSET_REPLACED":case"ASSET_UPDATED":t({id:e.assetId,assetSourceId:O.c}).then(()=>{console.info(e.assetId,e.type,"An asset was updated due to a remote change")}),Object(_.c)({assetId:e.assetId,assetSourceId:O.c});break;case"ASSET_CREATED":n().then(()=>{console.info(e.assetId,e.type,"An asset was created remotely")}),Object(_.a)({assetId:e.assetId,assetSourceId:O.c});break;case"ASSET_REMOVED":n().then(()=>{console.info(e.assetId,e.type,"An asset was removed remotely")}),Object(_.b)({assetId:e.assetId,assetSourceId:O.c});break;default:console.debug(e,"unhandled remote change")}})},[e,t,n]),null}),C=n(50),T=n(59),A=n(49),j=n(157);n(195);var k=Object(m.b)({key:"selectedAssetForPreviewState",default:null}),I=n(159),N=n.n(I);function x(){const{containerRef:e,isInNodeCreationDialog:t}=Object(f.e)(),n=Object(m.g)(b.c),[a,i]=Object(m.f)(k),{asset:s}=Object(v.b)(a),l=((e=null)=>{const t=o.a.useRef(e);return o.a.useEffect(()=>{if(null===e){const e=document.createElement("div");return e.setAttribute("data-ignore_click_outside","true"),document.body.appendChild(e),t.current=e,()=>e.remove()}t.current=e},[e]),t})(t?null:e.current),[c,u]=Object(r.useMemo)(()=>{if(!s)return[null,null];const e=n.findIndex(({id:e})=>e===s.id);return[e>0?n[e-1]:null,e<n.length-1?n[e+1]:null]},[n,s]);return s?o.a.createElement(j.a,{reactModalStyle:{overlay:{zIndex:"var(--theme-zIndex-lightbox)"}},reactModalProps:{parentSelector:()=>l.current},wrapperClassName:N.a.lightbox,mainSrc:s.previewUrl,mainSrcThumbnail:s.thumbnailUrl,imageTitle:s.label,imageCaption:s.caption,onCloseRequest:()=>i(null),prevSrc:null==c?void 0:c.previewUrl,prevSrcThumbnail:null==c?void 0:c.thumbnailUrl,prevLabel:null==c?void 0:c.label,onMovePrevRequest:()=>i(c?{assetId:c.id,assetSourceId:c.assetSource.id}:null),nextSrc:null==u?void 0:u.previewUrl,nextSrcThumbnail:null==u?void 0:u.thumbnailUrl,nextLabel:null==u?void 0:u.label,onMoveNextRequest:()=>i(u?{assetId:u.id,assetSourceId:u.assetSource.id}:null)}):null}var R=n(77),D=n(14),M=n(12),L=n(11);var P=o.a.memo(()=>{const{selectionMode:e}=Object(f.e)(),t=[!e&&A.b,O.b,M.b,O.a].filter(Boolean);return o.a.createElement(L.b,null,t.map((e,t)=>o.a.createElement(e,{key:t})))}),F=n(54),B=n(3),U=n(67),V=n.n(U);var q=o.a.memo(()=>{const e=Object(M.h)(),t=Object(D.f)(),n=Object(m.h)(b.k),a=Object(m.g)(b.n),{translate:i}=Object(f.d)(),{assetCollections:s}=Object(M.g)(),l=Object(r.useMemo)(()=>{let n="question",r=null,o=[];return"asset"!==a&&(e&&(o=Object(M.d)(e,s)),"assetCollection"===a?(n="folder",r=null==e?void 0:e.title):"tag"===a&&(n="tag",r=null==t?void 0:t.label)),{icon:n,label:r,path:o}},[t,e,a,s]);return l.label&&"asset"!==a?o.a.createElement("div",{className:V.a.currentSelection},o.a.createElement(B.Headline,{type:"h2",className:V.a.headline},"assetCollection"===a?i("currentSelection.assetCollection.headline","Selected collection"):i("currentSelection.tag.headline","Selected tag")),o.a.createElement(L.d,{icon:l.icon,className:V.a.label,label:l.label}),o.a.createElement(B.Headline,{type:"h3",className:V.a.headline},i("currentSelection.path.headline","Path")),o.a.createElement("div",{className:V.a.breadcrumb},o.a.createElement("button",{type:"button",onClick:()=>n({assetCollectionId:null,tagId:null})},"/"),l.path.map(({id:e,title:t})=>o.a.createElement("button",{key:e,type:"button",onClick:()=>n({assetCollectionId:e,tagId:null})},t)))):null});var z,Q=o.a.memo(()=>{const e=[q,F.b,F.a,F.f,F.d];return o.a.createElement(L.b,null,e.map((e,t)=>o.a.createElement(e,{key:t})))}),$=n(90);!function(e){e[e.DEFAULT=0]="DEFAULT",e[e.CLIPBOARD=1]="CLIPBOARD",e[e.UNUSED_ASSETS=2]="UNUSED_ASSETS"}(z||(z={}));const W=Object(m.d)({key:"mainViewState",get:({get:e})=>{const t=e(g.f),n=e(y.d);return t?z.CLIPBOARD:n?z.UNUSED_ASSETS:z.DEFAULT}});var H;!function(e){e.Thumbnails="thumbnails",e.List="list"}(H||(H={}));const K=Object(m.b)({key:"ViewModeState",default:H.Thumbnails,effects:[Object(b.i)("ViewModeState")]});var G=()=>{const{assetCount:e}=Object(v.a)(),t=Object(m.g)(W),{called:n,load:o,unusedAssetCount:a}=Object(y.f)(),i=t===z.UNUSED_ASSETS?a:e;return Object(r.useEffect)(()=>{t!==z.UNUSED_ASSETS||n||o()},[t,n,o]),i},Y=n(160),X=n.n(Y);var J=o.a.memo(()=>{const{translate:e}=Object(f.d)(),t=G();return o.a.createElement("div",{className:X.a.assetCount},t," ",e("pagination.assetCount","assets"))}),Z=n(106),ee=n.n(Z);var te=o.a.memo(({title:e,label:t,onClick:n,page:r=null,selected:a=!1,disabled:i=!1,icon:s})=>o.a.createElement("li",{className:c()(ee.a.item,a&&ee.a.selected)},s?o.a.createElement(B.IconButton,{icon:s,disabled:i,size:"regular",style:"transparent",hoverStyle:"brand",title:e,onClick:()=>n(r)}):o.a.createElement(B.Button,{icon:s,disabled:i,size:"regular",style:a?"brand":"transparent",hoverStyle:"brand",title:e,onClick:()=>n(r)},t||r))),ne=n(68),re=n.n(ne);var oe=o.a.memo(()=>{const[e,t]=Object(m.f)(b.e),n=G(),{pagination:{assetsPerPage:a,maximumLinks:i}}=Object(m.g)(b.f),{translate:s}=Object(f.d)(),l=Object(m.g)(W),u=![z.DEFAULT,z.UNUSED_ASSETS].includes(l),d=Math.ceil(n/a),[p,h]=Object(r.useState)({start:0,end:0,hasLessPages:!1,hasMorePages:!1,pages:[]}),v=Object(r.useCallback)(e=>t(e),[t]),y=Object(r.useCallback)(()=>t(e=>e-1),[t]),g=Object(r.useCallback)(()=>t(e=>e+1),[t]);return Object(r.useMemo)(()=>{const t=Math.min(i,d),n=Math.floor(t/2);let r=e-n,o=e+n+(t%2==0?1:0);r<1&&(o-=r-1),o>d&&(r-=o-d),r=Math.max(r,1),o=Math.min(o,d);const a=[...Array(o-r+1)].map((e,t)=>t+r);h({start:r,end:o,hasLessPages:r>2,hasMorePages:o+1<d,pages:a})},[i,d,e]),o.a.createElement("nav",{className:re.a.pagination},d>0&&o.a.createElement("ol",{className:c()(re.a.list,u&&re.a.disabled)},o.a.createElement(te,{icon:"angle-left",title:s("pagination.previousPageTitle","Go to previous page"),onClick:y,disabled:u||e<=1}),p.start>1&&o.a.createElement(te,{title:s("pagination.firstPageTitle","Go to first page"),onClick:v,disabled:u,page:1}),p.hasLessPages&&o.a.createElement("li",{className:re.a.ellipsis},"…"),p.pages.map(t=>o.a.createElement(te,{key:t,selected:e===t,onClick:v,disabled:u,title:s("pagination.page","Go to page "+t,[t]),page:t})),p.hasMorePages&&o.a.createElement("li",{className:re.a.ellipsis},"…"),p.end<d&&o.a.createElement(te,{title:s("pagination.lastPageTitle","Go to last page"),onClick:v,disabled:u,page:d}),o.a.createElement(te,{icon:"angle-right",title:s("pagination.nextPageTitle","Go to next page"),onClick:g,disabled:u||e===d})))}),ae=n(95),ie=n.n(ae);var se=o.a.memo(()=>{const{isInNodeCreationDialog:e,selectionMode:t}=Object(f.e)(),n=[J,oe,g.b];return o.a.createElement("div",{className:c()(ie.a.bottomBar,{[ie.a.selectionMode]:e||t,[ie.a.isInNodeCreationDialog]:e})},n.map((e,t)=>o.a.createElement(e,{key:t})))}),le=n(31),ce=n(96),ue=n.n(ce);var de=o.a.memo(()=>{const{isInNodeCreationDialog:e,selectionMode:t}=Object(f.e)(),[n,a]=Object(m.f)(le.c),{translate:i}=Object(f.d)(),s=e||t,l=Object(r.useCallback)(e=>{a({...n,sortBy:e})},[n,a]),c=Object(m.g)(W),u=Object(r.useCallback)(()=>{a({...n,sortDirection:n.sortDirection===le.b.Asc?le.b.Desc:le.b.Asc})},[n,a]),d=Object(r.useMemo)(()=>[{value:le.a.LastModified,label:i("sortingState.sortBy.values.lastModified","Last Modified"),icon:s?"":"calendar"},{value:le.a.Name,label:i("sortingState.sortBy.values.name","Name"),icon:s?"":"font"},{value:le.a.Size,label:i("sortingState.sortBy.values.size","File size"),icon:s?"":"weight-hanging"}],[i,s]);return[z.DEFAULT,z.UNUSED_ASSETS].includes(c)?o.a.createElement("div",{className:ue.a.sortingState},o.a.createElement("div",{className:ue.a.selectBox},o.a.createElement(B.SelectBox,{className:ue.a.selectBox,options:Object.values(d),onValueChange:l,value:n.sortBy,optionValueField:"value"})),o.a.createElement(B.IconButton,{icon:n.sortDirection===le.b.Asc?"sort-amount-up":"sort-amount-down",size:"regular",title:i("sortingState.dortOrder.value."+(n.sortDirection===le.b.Asc?le.b.Desc:le.b.Asc),"Switch sort direction"),style:"neutral",hoverStyle:"brand",onClick:u})):null}),fe=n(39),pe=n.n(fe);var he=o.a.memo(()=>{const{translate:e}=Object(f.d)(),{mediaTypeFilterOptions:t}=Object(m.g)(b.f),[n,a]=Object(m.f)(b.o),i=Object(m.g)(b.m),s=Object(m.h)(b.e),l=Object(m.g)(y.d),c=Object(m.g)(b.d),u=n,d=Object(r.useCallback)(e=>{a(e),s(1)},[s,a]),p=Object(r.useMemo)(()=>{if(!t||!i||"all"==i||l)return[];const e=t[i];return Object.keys(e).filter(e=>{var t;return!c.mediaTypes||(null===(t=c.mediaTypes)||void 0===t?void 0:t.includes(e))}).map(t=>({label:e[t],value:t}))},[i,c.mediaTypes,t,l]);return 0===p.length?null:o.a.createElement("div",{className:pe.a.typeFilter},o.a.createElement(B.SelectBox,{className:pe.a.selectBox,options:p,onValueChange:d,value:u,allowEmpty:!c.mediaTypes||c.mediaTypes.length>1,placeholder:e("typeFilter.assetType.values.all","Mediatype"),optionValueField:"value"}))});var me=o.a.memo(()=>{const e=Object(m.g)(b.f),{assetType:t}=Object(m.g)(b.d),[n,a]=Object(m.f)(b.m),i=Object(m.h)(b.o),[s,l]=Object(m.f)(y.d),c=Object(m.h)(b.e),{translate:u}=Object(f.d)(),d=s?"unused":n,p=Object(r.useCallback)(e=>{l("unused"===e),i(""),"unused"!==e&&a(e),c(1)},[l,c,a,i]),h=Object(r.useMemo)(()=>{const n=t&&"all"!==t,r={video:{value:"video",label:u("typeFilter.assetType.values.video","Video"),disabled:n&&"video"!==t},audio:{value:"audio",label:u("typeFilter.assetType.values.audio","Audio"),disabled:n&&"audio"!==t},image:{value:"image",label:u("typeFilter.assetType.values.image","Image"),disabled:n&&"image"!==t},document:{value:"document",label:u("typeFilter.assetType.values.document","Document"),disabled:n&&"document"!==t}};return e.queryAssetUsage&&(r.unused={value:"unused",label:u("typeFilter.assetType.values.unused","Unused"),disabled:n}),r},[u,e,t]);return o.a.createElement("div",{className:pe.a.typeFilter},o.a.createElement(B.SelectBox,{className:pe.a.selectBox,options:Object.values(h),onValueChange:p,value:d,allowEmpty:!t||"all"===t,placeholder:u("typeFilter.assetType.values.all","All"),optionValueField:"value"}))});var ve=o.a.memo(()=>{const{translate:e}=Object(f.d)(),t=Object(m.g)(W),n=Object(m.g)(b.m),a=Object(m.g)(b.o),i=Object(r.useRef)(),s=[me,he];return Object(r.useEffect)(()=>{var e;(null===(e=i.current)||void 0===e?void 0:e.open)&&(i.current.open=!1)},[a]),[z.DEFAULT,z.UNUSED_ASSETS].includes(t)?o.a.createElement("details",{ref:i,className:c()(pe.a.assetsFilter,(n||a)&&pe.a.active)},o.a.createElement("summary",{title:e("AssetsFilter.title","Toggle asset filters")},o.a.createElement(L.d,{icon:"filter",label:"Filter"})),o.a.createElement("div",{className:pe.a.filterList},s.map((e,t)=>o.a.createElement(e,{key:t})))):null}),be=n(161),ye=n.n(be);var ge=o.a.memo(()=>{const{translate:e}=Object(f.d)(),[t,n]=Object(m.f)(K);return o.a.createElement("div",{className:ye.a.viewModeSelector},o.a.createElement(B.IconButton,{icon:t===H.List?"th":"th-list",size:"regular",title:e("viewModeSelector.viewMode."+(t===H.List?H.Thumbnails:H.List),"Switch mode"),style:"neutral",hoverStyle:"brand",onClick:()=>n(e=>e===H.List?H.Thumbnails:H.List)}))}),_e=n(53),Oe=n(162),Se=n.n(Oe);var Ee=o.a.memo(()=>{const[e,t]=Object(m.f)(b.j),n=Object(m.h)(b.e),[a,i]=Object(r.useState)(e.toString()),{translate:s}=Object(f.d)(),l=Object(m.g)(W),c=Object(r.useCallback)(()=>{t(_e.a.fromString(a)),n(1)},[a,n,t]);return l!==z.DEFAULT?null:o.a.createElement("div",{className:Se.a.searchBox},o.a.createElement(B.TextInput,{value:a,type:"search",onChange:e=>i(e),onEnterKey:c,placeholder:s("searchBox.placeholder","Search")}))}),we=n(107),Ce=n.n(we);var Te=o.a.memo(()=>{const{selectionMode:e}=Object(f.e)(),t=[g.a,Ee,ve,de,ge];return o.a.createElement("div",{className:c()(Ce.a.topBar,e&&Ce.a.topBarSelectionMode)},t.map((e,t)=>o.a.createElement(e,{key:t})))});var Ae=o.a.memo(({asset:e})=>{var t;const{translate:n}=Object(f.d)(),a=Object(f.f)(),{approvalAttainmentStrategy:i}=Object(f.e)(),s=Object(m.h)(k),{importAsset:l}=Object(v.g)(),{deleteAsset:c}=Object(v.e)(),[u,d]=Object(m.f)(Object(g.d)({assetId:e.id,assetSourceId:e.assetSource.id})),p=Object(r.useCallback)(()=>{l({assetId:e.id,assetSourceId:e.assetSource.id}).then(()=>{a.ok(n("assetActions.import.success","Asset was successfully imported"))}).catch(e=>{a.error(n("assetActions.import.error","Failed to import asset"),e.message)})},[l,e,a,n]),h=Object(r.useCallback)(async e=>{if(await i.obtainApprovalToDeleteAsset({asset:e}))try{return await c({assetId:e.id,assetSourceId:e.assetSource.id}),a.ok(n("action.deleteAsset.success","The asset has been deleted")),!0}catch({message:e}){a.error(e)}return!1},[a,n,c,i]);return e?o.a.createElement(o.a.Fragment,null,o.a.createElement(B.IconButton,{title:n("itemActions.preview","Preview asset"),icon:"expand-alt",size:"regular",style:"transparent",hoverStyle:"brand",onClick:()=>s({assetId:e.id,assetSourceId:e.assetSource.id})}),!e.imported&&!e.localId&&o.a.createElement(B.IconButton,{title:n("itemActions.import","Import asset"),icon:"cloud-download-alt",size:"regular",style:"transparent",hoverStyle:"brand",onClick:p}),!e.assetSource.readOnly&&o.a.createElement(B.IconButton,{title:e.isInUse?n("itemActions.delete.disabled","Cannot delete an asset that is in use"):n("itemActions.delete","Delete asset"),disabled:e.isInUse,icon:"trash",size:"regular",style:"transparent",hoverStyle:"error",onClick:()=>h(e)}),(null===(t=e.file)||void 0===t?void 0:t.url)&&o.a.createElement("a",{href:e.file.url,download:!0,title:n("itemActions.download","Download asset")},o.a.createElement(B.IconButton,{icon:"download",size:"regular",style:"transparent",hoverStyle:"success"})),e.localId&&o.a.createElement(B.IconButton,{title:n("itemActions.copyToClipboard","Copy to clipboard"),icon:u?"clipboard-check":"clipboard",size:"regular",style:"transparent",hoverStyle:"brand",className:u?"button--active":"",onClick:d})):null}),je=n(45),ke=n.n(je);var Ie=o.a.memo(({assetIdentities:e})=>{const{isInNodeCreationDialog:t}=Object(f.e)(),{translate:n}=Object(f.d)(),a=Object(m.h)(k),i=Object(v.h)(),s=Object(r.useCallback)((e,t=!1)=>{t?a(e):i(e)},[a,i]);return o.a.createElement("section",{className:c()(ke.a.listView,t&&ke.a.listViewFullHeight)},o.a.createElement("table",null,o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{className:ke.a.tableHeader}),o.a.createElement("th",{className:ke.a.tableHeader},n("thumbnailView.header.name","Name")),o.a.createElement("th",{className:ke.a.tableHeader},n("thumbnailView.header.lastModified","Last Modified")),o.a.createElement("th",{className:ke.a.tableHeader},n("thumbnailView.header.fileSize","File size")),o.a.createElement("th",{className:ke.a.tableHeader},n("thumbnailView.header.mediaType","Type")),o.a.createElement("th",{className:ke.a.tableHeader}))),o.a.createElement("tbody",null,e.map((e,t)=>o.a.createElement(Pe,{key:t,assetIdentity:e,onSelect:s})))))}),Ne=n(48);var xe=o.a.memo(({assetIdentity:e})=>{const{translate:t}=Object(f.d)(),[n,r]=Object(m.f)(Object(g.d)(e));return n?o.a.createElement(B.IconButton,{title:t("itemActions.removeFromClipboard","Remove from clipboard"),icon:"trash",size:"regular",style:"transparent",hoverStyle:"warn",onClick:r}):null}),Re=n(46),De=n.n(Re);const Me={weekday:"short",year:"numeric",month:"short",day:"numeric"},Le=Object(m.e)({key:"ListViewItemSelection",get:e=>({get:t})=>{var n;return(null===(n=t(b.l))||void 0===n?void 0:n.assetId)===e}});var Pe=o.a.memo(({assetIdentity:e,onSelect:t})=>{const{dummyImage:n,isAssetSelectable:a,selectionMode:i}=Object(f.e)(),{asset:s,loading:l}=Object(v.b)(e),u=Object(m.g)(Le(e.assetId)),d=Object(r.useMemo)(()=>a(s),[s,a]),p=Object(r.useCallback)(()=>t(e,u&&!i),[t,e,u,i]);return o.a.createElement("tr",{className:c()(De.a.listViewItem,u&&De.a.selected)},o.a.createElement("td",{className:De.a.previewColumn,onClick:p},o.a.createElement("picture",null,d?o.a.createElement("img",{src:(null==s?void 0:s.thumbnailUrl)||n,alt:null==s?void 0:s.label,width:40,height:36}):o.a.createElement(B.Icon,{icon:"ban",color:"error"}))),o.a.createElement("td",{className:De.a.labelColumn,onClick:p},s&&o.a.createElement(L.a,{label:s.label})),o.a.createElement("td",{className:De.a.lastModifiedColumn,onClick:p},s&&new Date(s.lastModified).toLocaleString([],Me)),o.a.createElement("td",{className:De.a.fileSizeColumn,onClick:p},s&&Object(Ne.a)(s.file.size)),o.a.createElement("td",{className:De.a.mediaTypeColumn,onClick:p,title:null==s?void 0:s.file.mediaType},null==s?void 0:s.file.mediaType),o.a.createElement("td",{className:De.a.actionsColumn},!l&&(s?o.a.createElement(Ae,{asset:s}):o.a.createElement(xe,{assetIdentity:e}))))},(e,t)=>e.assetIdentity.assetId===t.assetIdentity.assetId);var Fe=o.a.memo(({loadingText:e,emptyText:t})=>{const n=Object(m.g)(b.h);return o.a.createElement("div",{className:"loadingLabel"},n?e:t)}),Be=n(163),Ue=n.n(Be);var Ve=o.a.memo(()=>{const e=Object(m.g)(K),{assets:t}=Object(y.g)(),n=Object(m.g)(g.e),a=Object(m.g)(W),i=Object(m.h)(g.f),s=Object(m.g)(b.j),{translate:l}=Object(f.d)(),c=Object(m.g)(b.b),[u,d]=Object(r.useState)(c),p=Object(r.useMemo)(()=>t.filter(e=>null==e?void 0:e.id).map(({id:e,assetSource:t})=>({assetId:e,assetSourceId:t.id})),[t]);return Object(r.useEffect)(()=>{a===z.CLIPBOARD?d(n):a===z.UNUSED_ASSETS?d(p):d(c)},[a,c,p,n]),u.length>0?e===H.List?o.a.createElement(Ie,{assetIdentities:u}):o.a.createElement(Ke,{assetIdentities:u}):o.a.createElement("div",{className:Ue.a.emptyStateWrapper},a===z.CLIPBOARD?o.a.createElement(B.Button,{size:"regular",style:"brand",hoverStyle:"brand",onClick:()=>i(!1)},l("clipboard.close","Close clipboard")):o.a.createElement(Fe,{loadingText:l("assetList.loading","Loading assets"),emptyText:(null==s?void 0:s.toString())?l("assetList.emptyForSearchTerm",`No assets found for "${s}"`,{searchTerm:s}):l("assetList.empty","No assets found")}))}),qe=n(51),ze=n.n(qe);const Qe=Object(m.e)({key:"ThumbnailSelection",get:e=>({get:t})=>{var n;return(null===(n=t(b.l))||void 0===n?void 0:n.assetId)===e}});var $e=o.a.memo(({assetIdentity:e,onSelect:t})=>{const{translate:n}=Object(f.d)(),{dummyImage:a,isAssetSelectable:i,selectionMode:s}=Object(f.e)(),{asset:l,loading:u}=Object(v.b)(e),d=Object(m.g)(Qe(e.assetId)),p=Object(r.useMemo)(()=>i(l),[l,i]);return o.a.createElement("figure",{className:c()(ze.a.thumbnail,!p&&ze.a.disabled),title:null==l?void 0:l.label},(null==l?void 0:l.imported)&&o.a.createElement("span",{className:ze.a.label},n("asset.label.imported","Imported")),o.a.createElement("picture",{onClick:()=>t(e,d&&!s),className:ze.a.picture},o.a.createElement("img",{src:u||!l?a:l.thumbnailUrl,alt:null==l?void 0:l.label})),o.a.createElement("figcaption",{className:c()(ze.a.caption,d&&ze.a.selected)},l&&o.a.createElement(o.a.Fragment,null,p&&l.file?o.a.createElement("img",{src:l.file.typeIcon.url,alt:l.file.typeIcon.alt}):o.a.createElement(B.Icon,{icon:"ban",color:"error"}),o.a.createElement(L.a,{label:l.label}))),o.a.createElement("div",{className:ze.a.toolBar},!u&&(l?o.a.createElement(Ae,{asset:l}):o.a.createElement(xe,{assetIdentity:e}))))},(e,t)=>e.assetIdentity.assetId===t.assetIdentity.assetId),We=n(164),He=n.n(We);var Ke=o.a.memo(({assetIdentities:e})=>{const t=Object(m.h)(k),n=Object(v.h)(),a=Object(r.useCallback)((e,r=!1)=>{r?t(e):n(e)},[t,n]);return o.a.createElement("section",{className:He.a.thumbnailView},e.map((e,t)=>o.a.createElement($e,{key:t,assetIdentity:e,onSelect:a})))}),Ge=n(60),Ye=n(58),Xe=n.n(Ye),Je=n(47),Ze=n.n(Je);n(196);var et=o.a.memo(()=>{const{selectionMode:e,isInNodeCreationDialog:t,containerRef:n}=Object(f.e)(),r=Object(m.g)(T.a),a=Object(m.g)(D.b),i=Object(m.g)(M.e),s=Object(m.g)(R.c),l=Object(m.g)(y.c),u=Object(m.g)(C.c),d=Object(m.g)(b.j),p=Object(v.h)(),h=Object(m.h)(O.d);return o.a.useEffect(()=>{const e=d.getAssetIdentifierIfPresent();e&&(p(e),h("neos"))},[d]),o.a.createElement("div",{className:c()(Ze.a.container,Ze.a.mediaModuleApp,Xe.a.mediaModuleTheme,{[Ze.a.selectionMode]:e,[Ze.a.fullHeight]:t}),ref:n},o.a.createElement($.a,null),o.a.createElement("div",{className:Ze.a.gridLeft},o.a.createElement(Ge.a,null,o.a.createElement(P,null))),o.a.createElement("div",{className:Ze.a.gridTop},o.a.createElement(Te,null)),o.a.createElement("div",{className:Ze.a.gridMain},o.a.createElement(Ge.a,null,o.a.createElement(Ve,null))),o.a.createElement(se,null),!e&&o.a.createElement("div",{className:Ze.a.gridRight},o.a.createElement(Ge.a,null,o.a.createElement(Q,null))),o.a.createElement(x,null),l&&o.a.createElement(y.a,null),r.visible&&o.a.createElement(A.c,null),s&&o.a.createElement(R.a,null),a.visible&&o.a.createElement(D.a,null),i&&o.a.createElement(M.c,null),u&&o.a.createElement(C.a,null),o.a.createElement(f.a,null),o.a.createElement(g.c,null),o.a.createElement(w,null))}),tt=n(108),nt=n.n(tt);let rt=null;class ot extends o.a.PureComponent{constructor(e){super(e),this.translate=(e,t,n,r="Flowpack.Media.Ui",o="Main")=>this.props.i18nRegistry.translate(e,t,n,r,o),this.getInitialState=()=>{const{frontendConfiguration:e,constraints:t,type:n}=this.props;return{applicationContext:"selection",featureFlags:e,constraints:{...t||{},assetType:"images"===n?"image":n}}},this.state={initialLeftSideBarHiddenState:!1,initialNodeCreationDialogOpenState:!1},this.notificationHandler={info:t=>e.addFlashMessage(t,t,"info"),ok:t=>e.addFlashMessage(t,t,"success"),notice:t=>e.addFlashMessage(t,t,"info"),warning:(t,n="")=>e.addFlashMessage(t,n,"error"),error:(t,n="")=>e.addFlashMessage(t,n,"error")}}componentDidMount(){const{isLeftSideBarHidden:e,isNodeCreationDialogOpen:t,toggleSidebar:n}=this.props;this.setState({initialLeftSideBarHiddenState:e,initialNodeCreationDialogOpenState:t}),e||t||n()}componentWillUnmount(){const{isLeftSideBarHidden:e,toggleSidebar:t}=this.props,{initialLeftSideBarHiddenState:n,initialNodeCreationDialogOpenState:r}=this.state;n===e||r||t()}getConfig(){return{endpoints:{graphql:"/neos/graphql/media-assets",upload:"/neos/media-ui/upload"},dummyImage:"/_Resources/Static/Packages/Neos.Neos/Images/dummy-image.svg"}}getApolloClient(){if(!rt){const{endpoints:e}=this.getConfig(),t=h.a.createCache(this.props.frontendConfiguration);rt=new i.ApolloClient({cache:t,link:i.ApolloLink.from([Object(h.c)(this.notificationHandler),Object(s.createUploadLink)({uri:e.graphql,credentials:"same-origin"})]),typeDefs:[f.c,y.e]})}return rt}render(){const{onComplete:e}=this.props,{dummyImage:t}=this.getConfig(),n=Object(r.createRef)(),a=this.state.initialNodeCreationDialogOpenState;return o.a.createElement("div",{className:c()(nt.a.mediaSelectionScreen,{[nt.a.isInNodeCreationDialog]:a})},o.a.createElement(p.a,{client:this.getApolloClient(),translate:this.translate,notificationApi:this.notificationHandler,initialState:this.getInitialState()},o.a.createElement(f.b,{dummyImage:t,onAssetSelection:e,selectionMode:!0,isInNodeCreationDialog:a,containerRef:n},o.a.createElement(et,null))))}}const at=Object(u.neos)(e=>({i18nRegistry:e.get("i18n"),frontendConfiguration:e.get("frontendConfiguration").get("Flowpack.Media.Ui")}));var it=Object(a.connect)(()=>({}),{addFlashMessage:d.actions.UI.FlashMessages.add,toggleSidebar:d.actions.UI.LeftSideBar.toggle})(Object(a.connect)(e=>({isLeftSideBarHidden:e.ui.leftSideBar.isHidden,isNodeCreationDialogOpen:e.ui.nodeCreationDialog.isOpen}))(at(ot)))},function(e,t,n){"use strict";n.r(t),n.d(t,"MediaDetailsScreen",(function(){return $}));var r=n(0),o=n.n(r),a=n(74),i=n(4),s=n(91),l=n(87),c=n(75),u=n(5),d=n(89),f=n(62),p=n(1),h=n(13),m=n.n(h),v=n(9),b=n(19),y=n(50),g=n(59),_=n(49),O=n(90),S=n(60),E=n(54),w=n(14),C=n(12),T=n(3),A=n(20);var j=o.a.memo(({asset:e,buildLinkToMediaUi:t})=>{var n,r;const{translate:a}=Object(u.d)(),[i,s]=Object(p.f)(Object(A.d)({assetId:e.id,assetSourceId:e.assetSource.id}));return o.a.createElement(o.a.Fragment,null,o.a.createElement("a",{href:t(e),title:a("previewActions.openInMediaModule","Open asset in media module"),target:"_blank",rel:"noreferrer noopener"},o.a.createElement(T.IconButton,{icon:"image",size:"regular",style:"transparent",hoverStyle:"brand"})),(null===(n=e.file)||void 0===n?void 0:n.url)&&o.a.createElement("a",{href:e.file.url,title:a("previewActions.openInNewTab","Open asset in a new browser tab"),target:"_blank",rel:"noreferrer noopener"},o.a.createElement(T.IconButton,{icon:"external-link-alt",size:"regular",style:"transparent",hoverStyle:"brand"})),(null===(r=e.file)||void 0===r?void 0:r.url)&&o.a.createElement("a",{href:e.file.url,download:!0,title:a("previewActions.download","Download asset")},o.a.createElement(T.IconButton,{icon:"download",size:"regular",style:"transparent",hoverStyle:"warn"})),e.localId&&o.a.createElement(T.IconButton,{title:a("itemActions.copyToClipboard","Copy to clipboard"),icon:i?"clipboard-check":"clipboard",size:"regular",style:"transparent",hoverStyle:"brand",className:i?"button--active":"",onClick:s}))}),k=n(65),I=n.n(k);var N=o.a.memo(({asset:e,loading:t,buildLinkToMediaUi:n})=>{const{translate:r}=Object(u.d)(),{dummyImage:a}=Object(u.e)();return o.a.createElement("figure",{className:m()(I.a.preview,t&&I.a.loading),title:null==e?void 0:e.label},(null==e?void 0:e.imported)&&o.a.createElement("span",{className:I.a.label},r("asset.label.imported","Imported")),o.a.createElement("picture",{className:I.a.picture},o.a.createElement("img",{src:t||!e?a:e.previewUrl,alt:null==e?void 0:e.label}),o.a.createElement("div",{className:I.a.toolBar},!t&&e&&o.a.createElement(j,{asset:e,buildLinkToMediaUi:n}))))},(e,t)=>{var n,r;return(null===(n=e.asset)||void 0===n?void 0:n.id)===(null===(r=t.asset)||void 0===r?void 0:r.id)}),x=n(58),R=n.n(x),D=n(66),M=n.n(D),L=n(7);var P=o.a.memo(({buildLinkToMediaUi:e})=>{const{containerRef:t}=Object(u.e)(),{visible:n}=Object(p.g)(g.a),{visible:r}=Object(p.g)(w.b),a=Object(p.g)(C.e),i=Object(p.g)(b.c),s=Object(p.g)(y.c),l=Object(p.g)(L.l),{asset:c,loading:d}=Object(v.b)(l);return o.a.createElement("div",{className:m()(M.a.container,R.a.mediaModuleTheme,d&&M.a.loading),ref:t},o.a.createElement(O.a,null),o.a.createElement("div",{className:m()(M.a.main,d&&M.a.loading)},o.a.createElement(S.a,null,o.a.createElement("div",{className:M.a.inspector},o.a.createElement(E.b,null)),o.a.createElement(N,{asset:c,loading:d,buildLinkToMediaUi:e}))),i&&o.a.createElement(b.a,null),n&&o.a.createElement(_.c,null),r&&o.a.createElement(w.a,null),a&&o.a.createElement(C.c,null),s&&o.a.createElement(y.a,null),o.a.createElement(u.a,null))}),F=n(92);const B=e=>({...F.a,obtainApprovalToUpdateAsset:({asset:t})=>e.interaction.confirm({title:e.intl.translate("actions.updateAsset.confirm.title","Update Asset",[t.label]),message:e.intl.translate("actions.updateAsset.confirm.message",`Please be aware that updating asset "${t.label}" will affect all of its occurrences on every page. Do you still wish to proceed?`,[t.label]),buttonLabel:e.intl.translate("actions.updateAsset.confirm.buttonLabel","Yes, proceed with updating the asset",[t.label])}),obtainApprovalToSetAssetTags:({asset:t})=>e.interaction.confirm({title:e.intl.translate("actions.setAssetTags.confirm.title","Set Asset Tags",[t.label]),message:e.intl.translate("actions.setAssetTags.confirm.message",`Please be aware that changing the asset tags of asset "${t.label}" will affect all of its occurrences on every page. Do you still wish to proceed?`,[t.label]),buttonLabel:e.intl.translate("actions.setAssetTags.confirm.buttonLabel","Yes, proceed with setting the asset tags",[t.label])}),obtainApprovalToSetAssetCollections:({asset:t})=>e.interaction.confirm({title:e.intl.translate("actions.setAssetCollections.confirm.title","Set Asset Collections",[t.label]),message:e.intl.translate("actions.setAssetCollections.confirm.message",`Please be aware that changing the asset collections of asset "${t.label}" will affect all of its occurrences on every page. Do you still wish to proceed?`,[t.label]),buttonLabel:e.intl.translate("actions.setAssetCollections.confirm.buttonLabel","Yes, proceed with setting the asset collections",[t.label])}),obtainApprovalToDeleteAsset:({asset:t})=>e.interaction.confirm({title:e.intl.translate("actions.deleteAsset.confirm.title","Delete Asset",[t.label]),message:e.intl.translate("action.deleteAsset.confirm.message",`Do you really want to delete the asset "${t.label}"?`,[t.label]),buttonLabel:e.intl.translate("actions.deleteAsset.confirm.buttonLabel","Yes, proceed with deleting the asset",[t.label])}),obtainApprovalToReplaceAsset:({asset:t})=>e.interaction.confirm({title:e.intl.translate("actions.replaceAsset.confirm.title","Replace Asset",[t.label]),message:e.intl.translate("action.replaceAsset.confirm.message",`Do you really want to replace the asset "${t.label}"?`,[t.label]),buttonLabel:e.intl.translate("actions.replaceAsset.confirm.buttonLabel","Yes, proceed with replacing the asset",[t.label])})});var U=n(156),V=n.n(U);let q=null;class z extends o.a.PureComponent{constructor(e){super(e),this.translate=(e,t,n,r="Flowpack.Media.Ui",o="Main")=>this.props.i18nRegistry.translate(e,t,n,r,o),this.getInitialState=()=>{const{frontendConfiguration:e,imageIdentity:t,type:n,constraints:r}=this.props;return{applicationContext:"details",featureFlags:e,selectedAsset:{assetId:t,assetSourceId:"neos"},selectedInspectorView:"asset",constraints:{...r||{},assetType:"images"===n?"image":n}}},this.notificationHandler={info:t=>e.addFlashMessage(t,t,"info"),ok:t=>e.addFlashMessage(t,t,"success"),notice:t=>e.addFlashMessage(t,t,"info"),warning:(t,n="")=>e.addFlashMessage(t,n,"error"),error:(t,n="")=>e.addFlashMessage(t,n,"error")}}getConfig(){return{endpoints:{graphql:"/neos/graphql/media-assets",upload:"/neos/media-ui/upload"},dummyImage:"/_Resources/Static/Packages/Neos.Neos/Images/dummy-image.svg",buildLinkToMediaUi:e=>"/neos/management/mediaui?searchTerm=id:"+e.id}}getApolloClient(){if(!q){const{endpoints:e}=this.getConfig(),t=f.a.createCache(this.props.frontendConfiguration);q=new i.ApolloClient({cache:t,link:i.ApolloLink.from([Object(f.c)(this.notificationHandler),Object(s.createUploadLink)({uri:e.graphql,credentials:"same-origin"})]),typeDefs:[u.c,b.e]})}return q}render(){const{addFlashMessage:e,onComplete:t}=this.props,{dummyImage:n,buildLinkToMediaUi:a}=this.getConfig(),i=Object(r.createRef)(),s={info:t=>e(t,t,"info"),ok:t=>e(t,t,"success"),notice:t=>e(t,t,"info"),warning:(t,n="")=>e(t,n,"error"),error:(t,n="")=>e(t,n,"error")};return o.a.createElement("div",{className:V.a.mediaDetailsScreen},o.a.createElement(d.a,{client:this.getApolloClient(),translate:this.translate,notificationApi:s,initialState:this.getInitialState()},o.a.createElement(u.b,{dummyImage:n,onAssetSelection:t,selectionMode:!0,containerRef:i,approvalAttainmentStrategyFactory:B},o.a.createElement(P,{buildLinkToMediaUi:a}))))}}const Q=Object(l.neos)(e=>({i18nRegistry:e.get("i18n"),frontendConfiguration:e.get("frontendConfiguration").get("Flowpack.Media.Ui")}));var $=Object(a.connect)(()=>({}),{addFlashMessage:c.actions.UI.FlashMessages.add})(Q(z))}]);